(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function vx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var im={exports:{}},Ko={},lm={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ta=Symbol.for("react.element"),wx=Symbol.for("react.portal"),bx=Symbol.for("react.fragment"),jx=Symbol.for("react.strict_mode"),Nx=Symbol.for("react.profiler"),Cx=Symbol.for("react.provider"),kx=Symbol.for("react.context"),Sx=Symbol.for("react.forward_ref"),Ex=Symbol.for("react.suspense"),Ix=Symbol.for("react.memo"),_x=Symbol.for("react.lazy"),Vd=Symbol.iterator;function Rx(e){return e===null||typeof e!="object"?null:(e=Vd&&e[Vd]||e["@@iterator"],typeof e=="function"?e:null)}var cm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dm=Object.assign,um={};function Qn(e,t,r){this.props=e,this.context=t,this.refs=um,this.updater=r||cm}Qn.prototype.isReactComponent={};Qn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hm(){}hm.prototype=Qn.prototype;function wc(e,t,r){this.props=e,this.context=t,this.refs=um,this.updater=r||cm}var bc=wc.prototype=new hm;bc.constructor=wc;dm(bc,Qn.prototype);bc.isPureReactComponent=!0;var Gd=Array.isArray,mm=Object.prototype.hasOwnProperty,jc={current:null},fm={key:!0,ref:!0,__self:!0,__source:!0};function pm(e,t,r){var s,a={},o=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)mm.call(t,s)&&!fm.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:ta,type:e,key:o,ref:i,props:a,_owner:jc.current}}function Ax(e,t){return{$$typeof:ta,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ta}function Tx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Jd=/\/+/g;function ki(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tx(""+e.key):t.toString(36)}function Wa(e,t,r,s,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ta:case wx:i=!0}}if(i)return i=e,a=a(i),e=s===""?"."+ki(i,0):s,Gd(a)?(r="",e!=null&&(r=e.replace(Jd,"$&/")+"/"),Wa(a,t,r,"",function(d){return d})):a!=null&&(Nc(a)&&(a=Ax(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Jd,"$&/")+"/")+e)),t.push(a)),1;if(i=0,s=s===""?".":s+":",Gd(e))for(var l=0;l<e.length;l++){o=e[l];var c=s+ki(o,l);i+=Wa(o,t,r,c,a)}else if(c=Rx(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=s+ki(o,l++),i+=Wa(o,t,r,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ja(e,t,r){if(e==null)return e;var s=[],a=0;return Wa(e,s,"","",function(o){return t.call(r,o,a++)}),s}function Px(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},Va={transition:null},Lx={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:Va,ReactCurrentOwner:jc};function gm(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:ja,forEach:function(e,t,r){ja(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ja(e,function(){t++}),t},toArray:function(e){return ja(e,function(t){return t})||[]},only:function(e){if(!Nc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=Qn;ue.Fragment=bx;ue.Profiler=Nx;ue.PureComponent=wc;ue.StrictMode=jx;ue.Suspense=Ex;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lx;ue.act=gm;ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=dm({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=jc.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)mm.call(t,c)&&!fm.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:ta,type:e.type,key:a,ref:o,props:s,_owner:i}};ue.createContext=function(e){return e={$$typeof:kx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cx,_context:e},e.Consumer=e};ue.createElement=pm;ue.createFactory=function(e){var t=pm.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:Sx,render:e}};ue.isValidElement=Nc;ue.lazy=function(e){return{$$typeof:_x,_payload:{_status:-1,_result:e},_init:Px}};ue.memo=function(e,t){return{$$typeof:Ix,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Va.transition;Va.transition={};try{e()}finally{Va.transition=t}};ue.unstable_act=gm;ue.useCallback=function(e,t){return et.current.useCallback(e,t)};ue.useContext=function(e){return et.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return et.current.useDeferredValue(e)};ue.useEffect=function(e,t){return et.current.useEffect(e,t)};ue.useId=function(){return et.current.useId()};ue.useImperativeHandle=function(e,t,r){return et.current.useImperativeHandle(e,t,r)};ue.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return et.current.useMemo(e,t)};ue.useReducer=function(e,t,r){return et.current.useReducer(e,t,r)};ue.useRef=function(e){return et.current.useRef(e)};ue.useState=function(e){return et.current.useState(e)};ue.useSyncExternalStore=function(e,t,r){return et.current.useSyncExternalStore(e,t,r)};ue.useTransition=function(){return et.current.useTransition()};ue.version="18.3.1";lm.exports=ue;var x=lm.exports;const Cc=vx(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx=x,Ox=Symbol.for("react.element"),Dx=Symbol.for("react.fragment"),Ux=Object.prototype.hasOwnProperty,Fx=Mx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$x={key:!0,ref:!0,__self:!0,__source:!0};function xm(e,t,r){var s,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)Ux.call(t,s)&&!$x.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Ox,type:e,key:o,ref:i,props:a,_owner:Fx.current}}Ko.Fragment=Dx;Ko.jsx=xm;Ko.jsxs=xm;im.exports=Ko;var n=im.exports,dl={},ym={exports:{}},ft={},vm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,V){var J=L.length;L.push(V);e:for(;0<J;){var ee=J-1>>>1,te=L[ee];if(0<a(te,V))L[ee]=V,L[J]=te,J=ee;else break e}}function r(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var V=L[0],J=L.pop();if(J!==V){L[0]=J;e:for(var ee=0,te=L.length,ye=te>>>1;ee<ye;){var F=2*(ee+1)-1,G=L[F],z=F+1,T=L[z];if(0>a(G,J))z<te&&0>a(T,G)?(L[ee]=T,L[z]=J,ee=z):(L[ee]=G,L[F]=J,ee=F);else if(z<te&&0>a(T,J))L[ee]=T,L[z]=J,ee=z;else break e}}return V}function a(L,V){var J=L.sortIndex-V.sortIndex;return J!==0?J:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,h=null,p=3,g=!1,f=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var V=r(d);V!==null;){if(V.callback===null)s(d);else if(V.startTime<=L)s(d),V.sortIndex=V.expirationTime,t(c,V);else break;V=r(d)}}function j(L){if(b=!1,v(L),!f)if(r(c)!==null)f=!0,K(C);else{var V=r(d);V!==null&&ae(j,V.startTime-L)}}function C(L,V){f=!1,b&&(b=!1,m(E),E=-1),g=!0;var J=p;try{for(v(V),h=r(c);h!==null&&(!(h.expirationTime>V)||L&&!P());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,p=h.priorityLevel;var te=ee(h.expirationTime<=V);V=e.unstable_now(),typeof te=="function"?h.callback=te:h===r(c)&&s(c),v(V)}else s(c);h=r(c)}if(h!==null)var ye=!0;else{var F=r(d);F!==null&&ae(j,F.startTime-V),ye=!1}return ye}finally{h=null,p=J,g=!1}}var S=!1,k=null,E=-1,I=5,N=-1;function P(){return!(e.unstable_now()-N<I)}function O(){if(k!==null){var L=e.unstable_now();N=L;var V=!0;try{V=k(!0,L)}finally{V?D():(S=!1,k=null)}}else S=!1}var D;if(typeof y=="function")D=function(){y(O)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,X=Q.port2;Q.port1.onmessage=O,D=function(){X.postMessage(null)}}else D=function(){w(O,0)};function K(L){k=L,S||(S=!0,D())}function ae(L,V){E=w(function(){L(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){f||g||(f=!0,K(C))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var J=p;p=V;try{return L()}finally{p=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var J=p;p=L;try{return V()}finally{p=J}},e.unstable_scheduleCallback=function(L,V,J){var ee=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ee+J:ee):J=ee,L){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=J+te,L={id:u++,callback:V,priorityLevel:L,startTime:J,expirationTime:te,sortIndex:-1},J>ee?(L.sortIndex=J,t(d,L),r(c)===null&&L===r(d)&&(b?(m(E),E=-1):b=!0,ae(j,J-ee))):(L.sortIndex=te,t(c,L),f||g||(f=!0,K(C))),L},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(L){var V=p;return function(){var J=p;p=V;try{return L.apply(this,arguments)}finally{p=J}}}})(wm);vm.exports=wm;var Bx=vm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx=x,mt=Bx;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bm=new Set,Ps={};function un(e,t){Bn(e,t),Bn(e+"Capture",t)}function Bn(e,t){for(Ps[e]=t,e=0;e<t.length;e++)bm.add(t[e])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ul=Object.prototype.hasOwnProperty,zx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qd={},Kd={};function Wx(e){return ul.call(Kd,e)?!0:ul.call(qd,e)?!1:zx.test(e)?Kd[e]=!0:(qd[e]=!0,!1)}function Vx(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gx(e,t,r,s){if(t===null||typeof t>"u"||Vx(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,r,s,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var kc=/[\-:]([a-z])/g;function Sc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kc,Sc);Ve[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kc,Sc);Ve[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kc,Sc);Ve[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ec(e,t,r,s){var a=Ve.hasOwnProperty(t)?Ve[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gx(t,r,a,s)&&(r=null),s||a===null?Wx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var dr=Hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Na=Symbol.for("react.element"),yn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),Ic=Symbol.for("react.strict_mode"),hl=Symbol.for("react.profiler"),jm=Symbol.for("react.provider"),Nm=Symbol.for("react.context"),_c=Symbol.for("react.forward_ref"),ml=Symbol.for("react.suspense"),fl=Symbol.for("react.suspense_list"),Rc=Symbol.for("react.memo"),pr=Symbol.for("react.lazy"),Cm=Symbol.for("react.offscreen"),Yd=Symbol.iterator;function is(e){return e===null||typeof e!="object"?null:(e=Yd&&e[Yd]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,Si;function ys(e){if(Si===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Si=t&&t[1]||""}return`
`+Si+e}var Ei=!1;function Ii(e,t){if(!e||Ei)return"";Ei=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),o=s.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ei=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ys(e):""}function Jx(e){switch(e.tag){case 5:return ys(e.type);case 16:return ys("Lazy");case 13:return ys("Suspense");case 19:return ys("SuspenseList");case 0:case 2:case 15:return e=Ii(e.type,!1),e;case 11:return e=Ii(e.type.render,!1),e;case 1:return e=Ii(e.type,!0),e;default:return""}}function pl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vn:return"Fragment";case yn:return"Portal";case hl:return"Profiler";case Ic:return"StrictMode";case ml:return"Suspense";case fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nm:return(e.displayName||"Context")+".Consumer";case jm:return(e._context.displayName||"Context")+".Provider";case _c:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rc:return t=e.displayName||null,t!==null?t:pl(e.type)||"Memo";case pr:t=e._payload,e=e._init;try{return pl(e(t))}catch{}}return null}function qx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pl(t);case 8:return t===Ic?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function km(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kx(e){var t=km(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){s=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ca(e){e._valueTracker||(e._valueTracker=Kx(e))}function Sm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=km(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function fo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gl(e,t){var r=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Qd(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Mr(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Em(e,t){t=t.checked,t!=null&&Ec(e,"checked",t,!1)}function xl(e,t){Em(e,t);var r=Mr(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yl(e,t.type,r):t.hasOwnProperty("defaultValue")&&yl(e,t.type,Mr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yl(e,t,r){(t!=="number"||fo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vs=Array.isArray;function An(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Mr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function vl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(U(92));if(vs(r)){if(1<r.length)throw Error(U(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mr(r)}}function Im(e,t){var r=Mr(t.value),s=Mr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function eu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _m(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_m(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ka,Rm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ka=ka||document.createElement("div"),ka.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ka.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ls(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yx=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(e){Yx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),js[t]=js[e]})});function Am(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||js.hasOwnProperty(e)&&js[e]?(""+t).trim():t+"px"}function Tm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=Am(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var Qx=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bl(e,t){if(t){if(Qx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function jl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nl=null;function Ac(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cl=null,Tn=null,Pn=null;function tu(e){if(e=sa(e)){if(typeof Cl!="function")throw Error(U(280));var t=e.stateNode;t&&(t=ei(t),Cl(e.stateNode,e.type,t))}}function Pm(e){Tn?Pn?Pn.push(e):Pn=[e]:Tn=e}function Lm(){if(Tn){var e=Tn,t=Pn;if(Pn=Tn=null,tu(e),t)for(e=0;e<t.length;e++)tu(t[e])}}function Mm(e,t){return e(t)}function Om(){}var _i=!1;function Dm(e,t,r){if(_i)return e(t,r);_i=!0;try{return Mm(e,t,r)}finally{_i=!1,(Tn!==null||Pn!==null)&&(Om(),Lm())}}function Ms(e,t){var r=e.stateNode;if(r===null)return null;var s=ei(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(U(231,t,typeof r));return r}var kl=!1;if(nr)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){kl=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{kl=!1}function Xx(e,t,r,s,a,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Ns=!1,po=null,go=!1,Sl=null,Zx={onError:function(e){Ns=!0,po=e}};function e0(e,t,r,s,a,o,i,l,c){Ns=!1,po=null,Xx.apply(Zx,arguments)}function t0(e,t,r,s,a,o,i,l,c){if(e0.apply(this,arguments),Ns){if(Ns){var d=po;Ns=!1,po=null}else throw Error(U(198));go||(go=!0,Sl=d)}}function hn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Um(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ru(e){if(hn(e)!==e)throw Error(U(188))}function r0(e){var t=e.alternate;if(!t){if(t=hn(e),t===null)throw Error(U(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return ru(a),e;if(o===s)return ru(a),t;o=o.sibling}throw Error(U(188))}if(r.return!==s.return)r=a,s=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,s=o;break}if(l===s){i=!0,s=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,s=a;break}if(l===s){i=!0,s=o,r=a;break}l=l.sibling}if(!i)throw Error(U(189))}}if(r.alternate!==s)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?e:t}function Fm(e){return e=r0(e),e!==null?$m(e):null}function $m(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$m(e);if(t!==null)return t;e=e.sibling}return null}var Bm=mt.unstable_scheduleCallback,nu=mt.unstable_cancelCallback,n0=mt.unstable_shouldYield,s0=mt.unstable_requestPaint,Pe=mt.unstable_now,a0=mt.unstable_getCurrentPriorityLevel,Tc=mt.unstable_ImmediatePriority,Hm=mt.unstable_UserBlockingPriority,xo=mt.unstable_NormalPriority,o0=mt.unstable_LowPriority,zm=mt.unstable_IdlePriority,Yo=null,Ft=null;function i0(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Yo,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:d0,l0=Math.log,c0=Math.LN2;function d0(e){return e>>>=0,e===0?32:31-(l0(e)/c0|0)|0}var Sa=64,Ea=4194304;function ws(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yo(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?s=ws(l):(o&=i,o!==0&&(s=ws(o)))}else i=r&~a,i!==0?s=ws(i):o!==0&&(s=ws(o));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Et(t),a=1<<r,s|=e[r],t&=~a;return s}function u0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h0(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Et(o),l=1<<i,c=a[i];c===-1?(!(l&r)||l&s)&&(a[i]=u0(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function El(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wm(){var e=Sa;return Sa<<=1,!(Sa&4194240)&&(Sa=64),e}function Ri(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ra(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=r}function m0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Et(r),o=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~o}}function Pc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Et(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var pe=0;function Vm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gm,Lc,Jm,qm,Km,Il=!1,Ia=[],Cr=null,kr=null,Sr=null,Os=new Map,Ds=new Map,xr=[],f0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function su(e,t){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Os.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ds.delete(t.pointerId)}}function cs(e,t,r,s,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:o,targetContainers:[a]},t!==null&&(t=sa(t),t!==null&&Lc(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function p0(e,t,r,s,a){switch(t){case"focusin":return Cr=cs(Cr,e,t,r,s,a),!0;case"dragenter":return kr=cs(kr,e,t,r,s,a),!0;case"mouseover":return Sr=cs(Sr,e,t,r,s,a),!0;case"pointerover":var o=a.pointerId;return Os.set(o,cs(Os.get(o)||null,e,t,r,s,a)),!0;case"gotpointercapture":return o=a.pointerId,Ds.set(o,cs(Ds.get(o)||null,e,t,r,s,a)),!0}return!1}function Ym(e){var t=Jr(e.target);if(t!==null){var r=hn(t);if(r!==null){if(t=r.tag,t===13){if(t=Um(r),t!==null){e.blockedOn=t,Km(e.priority,function(){Jm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ga(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_l(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Nl=s,r.target.dispatchEvent(s),Nl=null}else return t=sa(r),t!==null&&Lc(t),e.blockedOn=r,!1;t.shift()}return!0}function au(e,t,r){Ga(e)&&r.delete(t)}function g0(){Il=!1,Cr!==null&&Ga(Cr)&&(Cr=null),kr!==null&&Ga(kr)&&(kr=null),Sr!==null&&Ga(Sr)&&(Sr=null),Os.forEach(au),Ds.forEach(au)}function ds(e,t){e.blockedOn===t&&(e.blockedOn=null,Il||(Il=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,g0)))}function Us(e){function t(a){return ds(a,e)}if(0<Ia.length){ds(Ia[0],e);for(var r=1;r<Ia.length;r++){var s=Ia[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Cr!==null&&ds(Cr,e),kr!==null&&ds(kr,e),Sr!==null&&ds(Sr,e),Os.forEach(t),Ds.forEach(t),r=0;r<xr.length;r++)s=xr[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<xr.length&&(r=xr[0],r.blockedOn===null);)Ym(r),r.blockedOn===null&&xr.shift()}var Ln=dr.ReactCurrentBatchConfig,vo=!0;function x0(e,t,r,s){var a=pe,o=Ln.transition;Ln.transition=null;try{pe=1,Mc(e,t,r,s)}finally{pe=a,Ln.transition=o}}function y0(e,t,r,s){var a=pe,o=Ln.transition;Ln.transition=null;try{pe=4,Mc(e,t,r,s)}finally{pe=a,Ln.transition=o}}function Mc(e,t,r,s){if(vo){var a=_l(e,t,r,s);if(a===null)$i(e,t,s,wo,r),su(e,s);else if(p0(a,e,t,r,s))s.stopPropagation();else if(su(e,s),t&4&&-1<f0.indexOf(e)){for(;a!==null;){var o=sa(a);if(o!==null&&Gm(o),o=_l(e,t,r,s),o===null&&$i(e,t,s,wo,r),o===a)break;a=o}a!==null&&s.stopPropagation()}else $i(e,t,s,null,r)}}var wo=null;function _l(e,t,r,s){if(wo=null,e=Ac(s),e=Jr(e),e!==null)if(t=hn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Um(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wo=e,null}function Qm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a0()){case Tc:return 1;case Hm:return 4;case xo:case o0:return 16;case zm:return 536870912;default:return 16}default:return 16}}var jr=null,Oc=null,Ja=null;function Xm(){if(Ja)return Ja;var e,t=Oc,r=t.length,s,a="value"in jr?jr.value:jr.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(s=1;s<=i&&t[r-s]===a[o-s];s++);return Ja=a.slice(e,1<s?1-s:void 0)}function qa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _a(){return!0}function ou(){return!1}function pt(e){function t(r,s,a,o,i){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_a:ou,this.isPropagationStopped=ou,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),t}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dc=pt(Xn),na=_e({},Xn,{view:0,detail:0}),v0=pt(na),Ai,Ti,us,Qo=_e({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==us&&(us&&e.type==="mousemove"?(Ai=e.screenX-us.screenX,Ti=e.screenY-us.screenY):Ti=Ai=0,us=e),Ai)},movementY:function(e){return"movementY"in e?e.movementY:Ti}}),iu=pt(Qo),w0=_e({},Qo,{dataTransfer:0}),b0=pt(w0),j0=_e({},na,{relatedTarget:0}),Pi=pt(j0),N0=_e({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),C0=pt(N0),k0=_e({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S0=pt(k0),E0=_e({},Xn,{data:0}),lu=pt(E0),I0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=R0[e])?!!t[e]:!1}function Uc(){return A0}var T0=_e({},na,{key:function(e){if(e.key){var t=I0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uc,charCode:function(e){return e.type==="keypress"?qa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),P0=pt(T0),L0=_e({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=pt(L0),M0=_e({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uc}),O0=pt(M0),D0=_e({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),U0=pt(D0),F0=_e({},Qo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$0=pt(F0),B0=[9,13,27,32],Fc=nr&&"CompositionEvent"in window,Cs=null;nr&&"documentMode"in document&&(Cs=document.documentMode);var H0=nr&&"TextEvent"in window&&!Cs,Zm=nr&&(!Fc||Cs&&8<Cs&&11>=Cs),du=" ",uu=!1;function ef(e,t){switch(e){case"keyup":return B0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wn=!1;function z0(e,t){switch(e){case"compositionend":return tf(t);case"keypress":return t.which!==32?null:(uu=!0,du);case"textInput":return e=t.data,e===du&&uu?null:e;default:return null}}function W0(e,t){if(wn)return e==="compositionend"||!Fc&&ef(e,t)?(e=Xm(),Ja=Oc=jr=null,wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zm&&t.locale!=="ko"?null:t.data;default:return null}}var V0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!V0[e.type]:t==="textarea"}function rf(e,t,r,s){Pm(s),t=bo(t,"onChange"),0<t.length&&(r=new Dc("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var ks=null,Fs=null;function G0(e){ff(e,0)}function Xo(e){var t=Nn(e);if(Sm(t))return e}function J0(e,t){if(e==="change")return t}var nf=!1;if(nr){var Li;if(nr){var Mi="oninput"in document;if(!Mi){var mu=document.createElement("div");mu.setAttribute("oninput","return;"),Mi=typeof mu.oninput=="function"}Li=Mi}else Li=!1;nf=Li&&(!document.documentMode||9<document.documentMode)}function fu(){ks&&(ks.detachEvent("onpropertychange",sf),Fs=ks=null)}function sf(e){if(e.propertyName==="value"&&Xo(Fs)){var t=[];rf(t,Fs,e,Ac(e)),Dm(G0,t)}}function q0(e,t,r){e==="focusin"?(fu(),ks=t,Fs=r,ks.attachEvent("onpropertychange",sf)):e==="focusout"&&fu()}function K0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xo(Fs)}function Y0(e,t){if(e==="click")return Xo(t)}function Q0(e,t){if(e==="input"||e==="change")return Xo(t)}function X0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:X0;function $s(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!ul.call(t,a)||!Rt(e[a],t[a]))return!1}return!0}function pu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gu(e,t){var r=pu(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pu(r)}}function af(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?af(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function of(){for(var e=window,t=fo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fo(e.document)}return t}function $c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Z0(e){var t=of(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&af(r.ownerDocument.documentElement,r)){if(s!==null&&$c(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(s.start,a);s=s.end===void 0?o:Math.min(s.end,a),!e.extend&&o>s&&(a=s,s=o,o=a),a=gu(r,o);var i=gu(r,s);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ey=nr&&"documentMode"in document&&11>=document.documentMode,bn=null,Rl=null,Ss=null,Al=!1;function xu(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Al||bn==null||bn!==fo(s)||(s=bn,"selectionStart"in s&&$c(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ss&&$s(Ss,s)||(Ss=s,s=bo(Rl,"onSelect"),0<s.length&&(t=new Dc("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=bn)))}function Ra(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jn={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionend:Ra("Transition","TransitionEnd")},Oi={},lf={};nr&&(lf=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function Zo(e){if(Oi[e])return Oi[e];if(!jn[e])return e;var t=jn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in lf)return Oi[e]=t[r];return e}var cf=Zo("animationend"),df=Zo("animationiteration"),uf=Zo("animationstart"),hf=Zo("transitionend"),mf=new Map,yu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){mf.set(e,t),un(t,[e])}for(var Di=0;Di<yu.length;Di++){var Ui=yu[Di],ty=Ui.toLowerCase(),ry=Ui[0].toUpperCase()+Ui.slice(1);Ur(ty,"on"+ry)}Ur(cf,"onAnimationEnd");Ur(df,"onAnimationIteration");Ur(uf,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(hf,"onTransitionEnd");Bn("onMouseEnter",["mouseout","mouseover"]);Bn("onMouseLeave",["mouseout","mouseover"]);Bn("onPointerEnter",["pointerout","pointerover"]);Bn("onPointerLeave",["pointerout","pointerover"]);un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));un("onBeforeInput",["compositionend","keypress","textInput","paste"]);un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ny=new Set("cancel close invalid load scroll toggle".split(" ").concat(bs));function vu(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,t0(s,t,void 0,e),e.currentTarget=null}function ff(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var i=s.length-1;0<=i;i--){var l=s[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;vu(a,l,d),o=c}else for(i=0;i<s.length;i++){if(l=s[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;vu(a,l,d),o=c}}}if(go)throw e=Sl,go=!1,Sl=null,e}function we(e,t){var r=t[Ol];r===void 0&&(r=t[Ol]=new Set);var s=e+"__bubble";r.has(s)||(pf(t,e,2,!1),r.add(s))}function Fi(e,t,r){var s=0;t&&(s|=4),pf(r,e,s,t)}var Aa="_reactListening"+Math.random().toString(36).slice(2);function Bs(e){if(!e[Aa]){e[Aa]=!0,bm.forEach(function(r){r!=="selectionchange"&&(ny.has(r)||Fi(r,!1,e),Fi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Aa]||(t[Aa]=!0,Fi("selectionchange",!1,t))}}function pf(e,t,r,s){switch(Qm(t)){case 1:var a=x0;break;case 4:a=y0;break;default:a=Mc}r=a.bind(null,t,r,e),a=void 0,!kl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function $i(e,t,r,s,a){var o=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Jr(l),i===null)return;if(c=i.tag,c===5||c===6){s=o=i;continue e}l=l.parentNode}}s=s.return}Dm(function(){var d=o,u=Ac(r),h=[];e:{var p=mf.get(e);if(p!==void 0){var g=Dc,f=e;switch(e){case"keypress":if(qa(r)===0)break e;case"keydown":case"keyup":g=P0;break;case"focusin":f="focus",g=Pi;break;case"focusout":f="blur",g=Pi;break;case"beforeblur":case"afterblur":g=Pi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=b0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=O0;break;case cf:case df:case uf:g=C0;break;case hf:g=U0;break;case"scroll":g=v0;break;case"wheel":g=$0;break;case"copy":case"cut":case"paste":g=S0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=cu}var b=(t&4)!==0,w=!b&&e==="scroll",m=b?p!==null?p+"Capture":null:p;b=[];for(var y=d,v;y!==null;){v=y;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,m!==null&&(j=Ms(y,m),j!=null&&b.push(Hs(y,j,v)))),w)break;y=y.return}0<b.length&&(p=new g(p,f,null,r,u),h.push({event:p,listeners:b}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&r!==Nl&&(f=r.relatedTarget||r.fromElement)&&(Jr(f)||f[sr]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(f=r.relatedTarget||r.toElement,g=d,f=f?Jr(f):null,f!==null&&(w=hn(f),f!==w||f.tag!==5&&f.tag!==6)&&(f=null)):(g=null,f=d),g!==f)){if(b=iu,j="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(b=cu,j="onPointerLeave",m="onPointerEnter",y="pointer"),w=g==null?p:Nn(g),v=f==null?p:Nn(f),p=new b(j,y+"leave",g,r,u),p.target=w,p.relatedTarget=v,j=null,Jr(u)===d&&(b=new b(m,y+"enter",f,r,u),b.target=v,b.relatedTarget=w,j=b),w=j,g&&f)t:{for(b=g,m=f,y=0,v=b;v;v=xn(v))y++;for(v=0,j=m;j;j=xn(j))v++;for(;0<y-v;)b=xn(b),y--;for(;0<v-y;)m=xn(m),v--;for(;y--;){if(b===m||m!==null&&b===m.alternate)break t;b=xn(b),m=xn(m)}b=null}else b=null;g!==null&&wu(h,p,g,b,!1),f!==null&&w!==null&&wu(h,w,f,b,!0)}}e:{if(p=d?Nn(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var C=J0;else if(hu(p))if(nf)C=Q0;else{C=K0;var S=q0}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=Y0);if(C&&(C=C(e,d))){rf(h,C,r,u);break e}S&&S(e,p,d),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&yl(p,"number",p.value)}switch(S=d?Nn(d):window,e){case"focusin":(hu(S)||S.contentEditable==="true")&&(bn=S,Rl=d,Ss=null);break;case"focusout":Ss=Rl=bn=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,xu(h,r,u);break;case"selectionchange":if(ey)break;case"keydown":case"keyup":xu(h,r,u)}var k;if(Fc)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else wn?ef(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Zm&&r.locale!=="ko"&&(wn||E!=="onCompositionStart"?E==="onCompositionEnd"&&wn&&(k=Xm()):(jr=u,Oc="value"in jr?jr.value:jr.textContent,wn=!0)),S=bo(d,E),0<S.length&&(E=new lu(E,e,null,r,u),h.push({event:E,listeners:S}),k?E.data=k:(k=tf(r),k!==null&&(E.data=k)))),(k=H0?z0(e,r):W0(e,r))&&(d=bo(d,"onBeforeInput"),0<d.length&&(u=new lu("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=k))}ff(h,t)})}function Hs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function bo(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Ms(e,r),o!=null&&s.unshift(Hs(e,o,a)),o=Ms(e,t),o!=null&&s.push(Hs(e,o,a))),e=e.return}return s}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wu(e,t,r,s,a){for(var o=t._reactName,i=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Ms(r,o),c!=null&&i.unshift(Hs(r,c,l))):a||(c=Ms(r,o),c!=null&&i.push(Hs(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var sy=/\r\n?/g,ay=/\u0000|\uFFFD/g;function bu(e){return(typeof e=="string"?e:""+e).replace(sy,`
`).replace(ay,"")}function Ta(e,t,r){if(t=bu(t),bu(e)!==t&&r)throw Error(U(425))}function jo(){}var Tl=null,Pl=null;function Ll(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ml=typeof setTimeout=="function"?setTimeout:void 0,oy=typeof clearTimeout=="function"?clearTimeout:void 0,ju=typeof Promise=="function"?Promise:void 0,iy=typeof queueMicrotask=="function"?queueMicrotask:typeof ju<"u"?function(e){return ju.resolve(null).then(e).catch(ly)}:Ml;function ly(e){setTimeout(function(){throw e})}function Bi(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Us(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Us(t)}function Er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Zn,zs="__reactProps$"+Zn,sr="__reactContainer$"+Zn,Ol="__reactEvents$"+Zn,cy="__reactListeners$"+Zn,dy="__reactHandles$"+Zn;function Jr(e){var t=e[Dt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sr]||r[Dt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Nu(e);e!==null;){if(r=e[Dt])return r;e=Nu(e)}return t}e=r,r=e.parentNode}return null}function sa(e){return e=e[Dt]||e[sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function ei(e){return e[zs]||null}var Dl=[],Cn=-1;function Fr(e){return{current:e}}function je(e){0>Cn||(e.current=Dl[Cn],Dl[Cn]=null,Cn--)}function ve(e,t){Cn++,Dl[Cn]=e.current,e.current=t}var Or={},Ye=Fr(Or),at=Fr(!1),rn=Or;function Hn(e,t){var r=e.type.contextTypes;if(!r)return Or;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ot(e){return e=e.childContextTypes,e!=null}function No(){je(at),je(Ye)}function Cu(e,t,r){if(Ye.current!==Or)throw Error(U(168));ve(Ye,t),ve(at,r)}function gf(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(U(108,qx(e)||"Unknown",a));return _e({},r,s)}function Co(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Or,rn=Ye.current,ve(Ye,e),ve(at,at.current),!0}function ku(e,t,r){var s=e.stateNode;if(!s)throw Error(U(169));r?(e=gf(e,t,rn),s.__reactInternalMemoizedMergedChildContext=e,je(at),je(Ye),ve(Ye,e)):je(at),ve(at,r)}var qt=null,ti=!1,Hi=!1;function xf(e){qt===null?qt=[e]:qt.push(e)}function uy(e){ti=!0,xf(e)}function $r(){if(!Hi&&qt!==null){Hi=!0;var e=0,t=pe;try{var r=qt;for(pe=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}qt=null,ti=!1}catch(a){throw qt!==null&&(qt=qt.slice(e+1)),Bm(Tc,$r),a}finally{pe=t,Hi=!1}}return null}var kn=[],Sn=0,ko=null,So=0,gt=[],xt=0,nn=null,Yt=1,Qt="";function Wr(e,t){kn[Sn++]=So,kn[Sn++]=ko,ko=e,So=t}function yf(e,t,r){gt[xt++]=Yt,gt[xt++]=Qt,gt[xt++]=nn,nn=e;var s=Yt;e=Qt;var a=32-Et(s)-1;s&=~(1<<a),r+=1;var o=32-Et(t)+a;if(30<o){var i=a-a%5;o=(s&(1<<i)-1).toString(32),s>>=i,a-=i,Yt=1<<32-Et(t)+a|r<<a|s,Qt=o+e}else Yt=1<<o|r<<a|s,Qt=e}function Bc(e){e.return!==null&&(Wr(e,1),yf(e,1,0))}function Hc(e){for(;e===ko;)ko=kn[--Sn],kn[Sn]=null,So=kn[--Sn],kn[Sn]=null;for(;e===nn;)nn=gt[--xt],gt[xt]=null,Qt=gt[--xt],gt[xt]=null,Yt=gt[--xt],gt[xt]=null}var ht=null,ut=null,Ce=!1,St=null;function vf(e,t){var r=yt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Su(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,ut=Er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=nn!==null?{id:Yt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ht=e,ut=null,!0):!1;default:return!1}}function Ul(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fl(e){if(Ce){var t=ut;if(t){var r=t;if(!Su(e,t)){if(Ul(e))throw Error(U(418));t=Er(r.nextSibling);var s=ht;t&&Su(e,t)?vf(s,r):(e.flags=e.flags&-4097|2,Ce=!1,ht=e)}}else{if(Ul(e))throw Error(U(418));e.flags=e.flags&-4097|2,Ce=!1,ht=e}}}function Eu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function Pa(e){if(e!==ht)return!1;if(!Ce)return Eu(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ll(e.type,e.memoizedProps)),t&&(t=ut)){if(Ul(e))throw wf(),Error(U(418));for(;t;)vf(e,t),t=Er(t.nextSibling)}if(Eu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ut=Er(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=ht?Er(e.stateNode.nextSibling):null;return!0}function wf(){for(var e=ut;e;)e=Er(e.nextSibling)}function zn(){ut=ht=null,Ce=!1}function zc(e){St===null?St=[e]:St.push(e)}var hy=dr.ReactCurrentBatchConfig;function hs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var s=r.stateNode}if(!s)throw Error(U(147,e));var a=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,e))}return e}function La(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Iu(e){var t=e._init;return t(e._payload)}function bf(e){function t(m,y){if(e){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function r(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function s(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function a(m,y){return m=Ar(m,y),m.index=0,m.sibling=null,m}function o(m,y,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,y,v,j){return y===null||y.tag!==6?(y=Ki(v,m.mode,j),y.return=m,y):(y=a(y,v),y.return=m,y)}function c(m,y,v,j){var C=v.type;return C===vn?u(m,y,v.props.children,j,v.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===pr&&Iu(C)===y.type)?(j=a(y,v.props),j.ref=hs(m,y,v),j.return=m,j):(j=to(v.type,v.key,v.props,null,m.mode,j),j.ref=hs(m,y,v),j.return=m,j)}function d(m,y,v,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Yi(v,m.mode,j),y.return=m,y):(y=a(y,v.children||[]),y.return=m,y)}function u(m,y,v,j,C){return y===null||y.tag!==7?(y=Zr(v,m.mode,j,C),y.return=m,y):(y=a(y,v),y.return=m,y)}function h(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ki(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Na:return v=to(y.type,y.key,y.props,null,m.mode,v),v.ref=hs(m,null,y),v.return=m,v;case yn:return y=Yi(y,m.mode,v),y.return=m,y;case pr:var j=y._init;return h(m,j(y._payload),v)}if(vs(y)||is(y))return y=Zr(y,m.mode,v,null),y.return=m,y;La(m,y)}return null}function p(m,y,v,j){var C=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:l(m,y,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Na:return v.key===C?c(m,y,v,j):null;case yn:return v.key===C?d(m,y,v,j):null;case pr:return C=v._init,p(m,y,C(v._payload),j)}if(vs(v)||is(v))return C!==null?null:u(m,y,v,j,null);La(m,v)}return null}function g(m,y,v,j,C){if(typeof j=="string"&&j!==""||typeof j=="number")return m=m.get(v)||null,l(y,m,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Na:return m=m.get(j.key===null?v:j.key)||null,c(y,m,j,C);case yn:return m=m.get(j.key===null?v:j.key)||null,d(y,m,j,C);case pr:var S=j._init;return g(m,y,v,S(j._payload),C)}if(vs(j)||is(j))return m=m.get(v)||null,u(y,m,j,C,null);La(y,j)}return null}function f(m,y,v,j){for(var C=null,S=null,k=y,E=y=0,I=null;k!==null&&E<v.length;E++){k.index>E?(I=k,k=null):I=k.sibling;var N=p(m,k,v[E],j);if(N===null){k===null&&(k=I);break}e&&k&&N.alternate===null&&t(m,k),y=o(N,y,E),S===null?C=N:S.sibling=N,S=N,k=I}if(E===v.length)return r(m,k),Ce&&Wr(m,E),C;if(k===null){for(;E<v.length;E++)k=h(m,v[E],j),k!==null&&(y=o(k,y,E),S===null?C=k:S.sibling=k,S=k);return Ce&&Wr(m,E),C}for(k=s(m,k);E<v.length;E++)I=g(k,m,E,v[E],j),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?E:I.key),y=o(I,y,E),S===null?C=I:S.sibling=I,S=I);return e&&k.forEach(function(P){return t(m,P)}),Ce&&Wr(m,E),C}function b(m,y,v,j){var C=is(v);if(typeof C!="function")throw Error(U(150));if(v=C.call(v),v==null)throw Error(U(151));for(var S=C=null,k=y,E=y=0,I=null,N=v.next();k!==null&&!N.done;E++,N=v.next()){k.index>E?(I=k,k=null):I=k.sibling;var P=p(m,k,N.value,j);if(P===null){k===null&&(k=I);break}e&&k&&P.alternate===null&&t(m,k),y=o(P,y,E),S===null?C=P:S.sibling=P,S=P,k=I}if(N.done)return r(m,k),Ce&&Wr(m,E),C;if(k===null){for(;!N.done;E++,N=v.next())N=h(m,N.value,j),N!==null&&(y=o(N,y,E),S===null?C=N:S.sibling=N,S=N);return Ce&&Wr(m,E),C}for(k=s(m,k);!N.done;E++,N=v.next())N=g(k,m,E,N.value,j),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?E:N.key),y=o(N,y,E),S===null?C=N:S.sibling=N,S=N);return e&&k.forEach(function(O){return t(m,O)}),Ce&&Wr(m,E),C}function w(m,y,v,j){if(typeof v=="object"&&v!==null&&v.type===vn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Na:e:{for(var C=v.key,S=y;S!==null;){if(S.key===C){if(C=v.type,C===vn){if(S.tag===7){r(m,S.sibling),y=a(S,v.props.children),y.return=m,m=y;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===pr&&Iu(C)===S.type){r(m,S.sibling),y=a(S,v.props),y.ref=hs(m,S,v),y.return=m,m=y;break e}r(m,S);break}else t(m,S);S=S.sibling}v.type===vn?(y=Zr(v.props.children,m.mode,j,v.key),y.return=m,m=y):(j=to(v.type,v.key,v.props,null,m.mode,j),j.ref=hs(m,y,v),j.return=m,m=j)}return i(m);case yn:e:{for(S=v.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){r(m,y.sibling),y=a(y,v.children||[]),y.return=m,m=y;break e}else{r(m,y);break}else t(m,y);y=y.sibling}y=Yi(v,m.mode,j),y.return=m,m=y}return i(m);case pr:return S=v._init,w(m,y,S(v._payload),j)}if(vs(v))return f(m,y,v,j);if(is(v))return b(m,y,v,j);La(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(r(m,y.sibling),y=a(y,v),y.return=m,m=y):(r(m,y),y=Ki(v,m.mode,j),y.return=m,m=y),i(m)):r(m,y)}return w}var Wn=bf(!0),jf=bf(!1),Eo=Fr(null),Io=null,En=null,Wc=null;function Vc(){Wc=En=Io=null}function Gc(e){var t=Eo.current;je(Eo),e._currentValue=t}function $l(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Mn(e,t){Io=e,Wc=En=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Wc!==e)if(e={context:e,memoizedValue:t,next:null},En===null){if(Io===null)throw Error(U(308));En=e,Io.dependencies={lanes:0,firstContext:e}}else En=En.next=e;return t}var qr=null;function Jc(e){qr===null?qr=[e]:qr.push(e)}function Nf(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Jc(t)):(r.next=a.next,a.next=r),t.interleaved=r,ar(e,s)}function ar(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var gr=!1;function qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,me&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,ar(e,r)}return a=s.interleaved,a===null?(t.next=t,Jc(s)):(t.next=a.next,a.next=t),s.interleaved=t,ar(e,r)}function Ka(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Pc(e,r)}}function _u(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _o(e,t,r,s){var a=e.updateQueue;gr=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(o!==null){var h=a.baseState;i=0,u=d=c=null,l=o;do{var p=l.lane,g=l.eventTime;if((s&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=e,b=l;switch(p=t,g=r,b.tag){case 1:if(f=b.payload,typeof f=="function"){h=f.call(g,h,p);break e}h=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=b.payload,p=typeof f=="function"?f.call(g,h,p):f,p==null)break e;h=_e({},h,p);break e;case 2:gr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=g,c=h):u=u.next=g,i|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);an|=i,e.lanes=i,e.memoizedState=h}}function Ru(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(U(191,a));a.call(s)}}}var aa={},$t=Fr(aa),Ws=Fr(aa),Vs=Fr(aa);function Kr(e){if(e===aa)throw Error(U(174));return e}function Kc(e,t){switch(ve(Vs,t),ve(Ws,e),ve($t,aa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wl(t,e)}je($t),ve($t,t)}function Vn(){je($t),je(Ws),je(Vs)}function kf(e){Kr(Vs.current);var t=Kr($t.current),r=wl(t,e.type);t!==r&&(ve(Ws,e),ve($t,r))}function Yc(e){Ws.current===e&&(je($t),je(Ws))}var Ee=Fr(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zi=[];function Qc(){for(var e=0;e<zi.length;e++)zi[e]._workInProgressVersionPrimary=null;zi.length=0}var Ya=dr.ReactCurrentDispatcher,Wi=dr.ReactCurrentBatchConfig,sn=0,Ie=null,Ue=null,Be=null,Ao=!1,Es=!1,Gs=0,my=0;function Ge(){throw Error(U(321))}function Xc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rt(e[r],t[r]))return!1;return!0}function Zc(e,t,r,s,a,o){if(sn=o,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=e===null||e.memoizedState===null?xy:yy,e=r(s,a),Es){o=0;do{if(Es=!1,Gs=0,25<=o)throw Error(U(301));o+=1,Be=Ue=null,t.updateQueue=null,Ya.current=vy,e=r(s,a)}while(Es)}if(Ya.current=To,t=Ue!==null&&Ue.next!==null,sn=0,Be=Ue=Ie=null,Ao=!1,t)throw Error(U(300));return e}function ed(){var e=Gs!==0;return Gs=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ie.memoizedState=Be=e:Be=Be.next=e,Be}function bt(){if(Ue===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Be===null?Ie.memoizedState:Be.next;if(t!==null)Be=t,Ue=e;else{if(e===null)throw Error(U(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Be===null?Ie.memoizedState=Be=e:Be=Be.next=e}return Be}function Js(e,t){return typeof t=="function"?t(e):t}function Vi(e){var t=bt(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var s=Ue,a=s.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}s.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,s=s.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((sn&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,i=s):c=c.next=h,Ie.lanes|=u,an|=u}d=d.next}while(d!==null&&d!==o);c===null?i=s:c.next=l,Rt(s,t.memoizedState)||(st=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do o=a.lane,Ie.lanes|=o,an|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Gi(e){var t=bt(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Rt(o,t.memoizedState)||(st=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,s]}function Sf(){}function Ef(e,t){var r=Ie,s=bt(),a=t(),o=!Rt(s.memoizedState,a);if(o&&(s.memoizedState=a,st=!0),s=s.queue,td(Rf.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||Be!==null&&Be.memoizedState.tag&1){if(r.flags|=2048,qs(9,_f.bind(null,r,s,a,t),void 0,null),He===null)throw Error(U(349));sn&30||If(r,t,a)}return a}function If(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _f(e,t,r,s){t.value=r,t.getSnapshot=s,Af(t)&&Tf(e)}function Rf(e,t,r){return r(function(){Af(t)&&Tf(e)})}function Af(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rt(e,r)}catch{return!0}}function Tf(e){var t=ar(e,1);t!==null&&It(t,e,1,-1)}function Au(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:e},t.queue=e,e=e.dispatch=gy.bind(null,Ie,e),[t.memoizedState,e]}function qs(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Pf(){return bt().memoizedState}function Qa(e,t,r,s){var a=Ot();Ie.flags|=e,a.memoizedState=qs(1|t,r,void 0,s===void 0?null:s)}function ri(e,t,r,s){var a=bt();s=s===void 0?null:s;var o=void 0;if(Ue!==null){var i=Ue.memoizedState;if(o=i.destroy,s!==null&&Xc(s,i.deps)){a.memoizedState=qs(t,r,o,s);return}}Ie.flags|=e,a.memoizedState=qs(1|t,r,o,s)}function Tu(e,t){return Qa(8390656,8,e,t)}function td(e,t){return ri(2048,8,e,t)}function Lf(e,t){return ri(4,2,e,t)}function Mf(e,t){return ri(4,4,e,t)}function Of(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Df(e,t,r){return r=r!=null?r.concat([e]):null,ri(4,4,Of.bind(null,t,e),r)}function rd(){}function Uf(e,t){var r=bt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Xc(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Ff(e,t){var r=bt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Xc(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function $f(e,t,r){return sn&21?(Rt(r,t)||(r=Wm(),Ie.lanes|=r,an|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=r)}function fy(e,t){var r=pe;pe=r!==0&&4>r?r:4,e(!0);var s=Wi.transition;Wi.transition={};try{e(!1),t()}finally{pe=r,Wi.transition=s}}function Bf(){return bt().memoizedState}function py(e,t,r){var s=Rr(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Hf(e))zf(t,r);else if(r=Nf(e,t,r,s),r!==null){var a=Xe();It(r,e,s,a),Wf(r,t,s)}}function gy(e,t,r){var s=Rr(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hf(e))zf(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,Rt(l,i)){var c=t.interleaved;c===null?(a.next=a,Jc(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Nf(e,t,a,s),r!==null&&(a=Xe(),It(r,e,s,a),Wf(r,t,s))}}function Hf(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function zf(e,t){Es=Ao=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Wf(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Pc(e,r)}}var To={readContext:wt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},xy={readContext:wt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:Tu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qa(4194308,4,Of.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qa(4,2,e,t)},useMemo:function(e,t){var r=Ot();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Ot();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=py.bind(null,Ie,e),[s.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:Au,useDebugValue:rd,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=Au(!1),t=e[0];return e=fy.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Ie,a=Ot();if(Ce){if(r===void 0)throw Error(U(407));r=r()}else{if(r=t(),He===null)throw Error(U(349));sn&30||If(s,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Tu(Rf.bind(null,s,o,e),[e]),s.flags|=2048,qs(9,_f.bind(null,s,o,r,t),void 0,null),r},useId:function(){var e=Ot(),t=He.identifierPrefix;if(Ce){var r=Qt,s=Yt;r=(s&~(1<<32-Et(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Gs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=my++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yy={readContext:wt,useCallback:Uf,useContext:wt,useEffect:td,useImperativeHandle:Df,useInsertionEffect:Lf,useLayoutEffect:Mf,useMemo:Ff,useReducer:Vi,useRef:Pf,useState:function(){return Vi(Js)},useDebugValue:rd,useDeferredValue:function(e){var t=bt();return $f(t,Ue.memoizedState,e)},useTransition:function(){var e=Vi(Js)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Sf,useSyncExternalStore:Ef,useId:Bf,unstable_isNewReconciler:!1},vy={readContext:wt,useCallback:Uf,useContext:wt,useEffect:td,useImperativeHandle:Df,useInsertionEffect:Lf,useLayoutEffect:Mf,useMemo:Ff,useReducer:Gi,useRef:Pf,useState:function(){return Gi(Js)},useDebugValue:rd,useDeferredValue:function(e){var t=bt();return Ue===null?t.memoizedState=e:$f(t,Ue.memoizedState,e)},useTransition:function(){var e=Gi(Js)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Sf,useSyncExternalStore:Ef,useId:Bf,unstable_isNewReconciler:!1};function Ct(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bl(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:_e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ni={isMounted:function(e){return(e=e._reactInternals)?hn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Xe(),a=Rr(e),o=tr(s,a);o.payload=t,r!=null&&(o.callback=r),t=Ir(e,o,a),t!==null&&(It(t,e,a,s),Ka(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Xe(),a=Rr(e),o=tr(s,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Ir(e,o,a),t!==null&&(It(t,e,a,s),Ka(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xe(),s=Rr(e),a=tr(r,s);a.tag=2,t!=null&&(a.callback=t),t=Ir(e,a,s),t!==null&&(It(t,e,s,r),Ka(t,e,s))}};function Pu(e,t,r,s,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,i):t.prototype&&t.prototype.isPureReactComponent?!$s(r,s)||!$s(a,o):!0}function Vf(e,t,r){var s=!1,a=Or,o=t.contextType;return typeof o=="object"&&o!==null?o=wt(o):(a=ot(t)?rn:Ye.current,s=t.contextTypes,o=(s=s!=null)?Hn(e,a):Or),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ni,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Lu(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&ni.enqueueReplaceState(t,t.state,null)}function Hl(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},qc(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=wt(o):(o=ot(t)?rn:Ye.current,a.context=Hn(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Bl(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ni.enqueueReplaceState(a,a.state,null),_o(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Gn(e,t){try{var r="",s=t;do r+=Jx(s),s=s.return;while(s);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Ji(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function zl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wy=typeof WeakMap=="function"?WeakMap:Map;function Gf(e,t,r){r=tr(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Lo||(Lo=!0,Zl=s),zl(e,t)},r}function Jf(e,t,r){r=tr(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){zl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){zl(e,t),typeof s!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Mu(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new wy;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=Ly.bind(null,e,t,r),t.then(e,e))}function Ou(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Du(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=tr(-1,1),t.tag=2,Ir(r,t,1))),r.lanes|=1),e)}var by=dr.ReactCurrentOwner,st=!1;function Qe(e,t,r,s){t.child=e===null?jf(t,null,r,s):Wn(t,e.child,r,s)}function Uu(e,t,r,s,a){r=r.render;var o=t.ref;return Mn(t,a),s=Zc(e,t,r,s,o,a),r=ed(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,or(e,t,a)):(Ce&&r&&Bc(t),t.flags|=1,Qe(e,t,s,a),t.child)}function Fu(e,t,r,s,a){if(e===null){var o=r.type;return typeof o=="function"&&!dd(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,qf(e,t,o,s,a)):(e=to(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:$s,r(i,s)&&e.ref===t.ref)return or(e,t,a)}return t.flags|=1,e=Ar(o,s),e.ref=t.ref,e.return=t,t.child=e}function qf(e,t,r,s,a){if(e!==null){var o=e.memoizedProps;if($s(o,s)&&e.ref===t.ref)if(st=!1,t.pendingProps=s=o,(e.lanes&a)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,or(e,t,a)}return Wl(e,t,r,s,a)}function Kf(e,t,r){var s=t.pendingProps,a=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(_n,dt),dt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(_n,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:r,ve(_n,dt),dt|=s}else o!==null?(s=o.baseLanes|r,t.memoizedState=null):s=r,ve(_n,dt),dt|=s;return Qe(e,t,a,r),t.child}function Yf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Wl(e,t,r,s,a){var o=ot(r)?rn:Ye.current;return o=Hn(t,o),Mn(t,a),r=Zc(e,t,r,s,o,a),s=ed(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,or(e,t,a)):(Ce&&s&&Bc(t),t.flags|=1,Qe(e,t,r,a),t.child)}function $u(e,t,r,s,a){if(ot(r)){var o=!0;Co(t)}else o=!1;if(Mn(t,a),t.stateNode===null)Xa(e,t),Vf(t,r,s),Hl(t,r,s,a),s=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=wt(d):(d=ot(r)?rn:Ye.current,d=Hn(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Lu(t,i,s,d),gr=!1;var p=t.memoizedState;i.state=p,_o(t,s,i,a),c=t.memoizedState,l!==s||p!==c||at.current||gr?(typeof u=="function"&&(Bl(t,r,u,s),c=t.memoizedState),(l=gr||Pu(t,r,l,s,p,c,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),i.props=s,i.state=c,i.context=d,s=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Cf(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ct(t.type,l),i.props=d,h=t.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=wt(c):(c=ot(r)?rn:Ye.current,c=Hn(t,c));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||p!==c)&&Lu(t,i,s,c),gr=!1,p=t.memoizedState,i.state=p,_o(t,s,i,a);var f=t.memoizedState;l!==h||p!==f||at.current||gr?(typeof g=="function"&&(Bl(t,r,g,s),f=t.memoizedState),(d=gr||Pu(t,r,d,s,p,f,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,f,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,f,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=f),i.props=s,i.state=f,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),s=!1)}return Vl(e,t,r,s,o,a)}function Vl(e,t,r,s,a,o){Yf(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return a&&ku(t,r,!1),or(e,t,o);s=t.stateNode,by.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Wn(t,e.child,null,o),t.child=Wn(t,null,l,o)):Qe(e,t,l,o),t.memoizedState=s.state,a&&ku(t,r,!0),t.child}function Qf(e){var t=e.stateNode;t.pendingContext?Cu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cu(e,t.context,!1),Kc(e,t.containerInfo)}function Bu(e,t,r,s,a){return zn(),zc(a),t.flags|=256,Qe(e,t,r,s),t.child}var Gl={dehydrated:null,treeContext:null,retryLane:0};function Jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xf(e,t,r){var s=t.pendingProps,a=Ee.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ve(Ee,a&1),e===null)return Fl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,o?(s=t.mode,o=t.child,i={mode:"hidden",children:i},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=oi(i,s,0,null),e=Zr(e,s,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Jl(r),t.memoizedState=Gl,e):nd(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return jy(e,t,i,s,l,a,r);if(o){o=s.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(i&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ar(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Ar(l,o):(o=Zr(o,i,r,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,i=e.child.memoizedState,i=i===null?Jl(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Gl,s}return o=e.child,e=o.sibling,s=Ar(o,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function nd(e,t){return t=oi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ma(e,t,r,s){return s!==null&&zc(s),Wn(t,e.child,null,r),e=nd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jy(e,t,r,s,a,o,i){if(r)return t.flags&256?(t.flags&=-257,s=Ji(Error(U(422))),Ma(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,a=t.mode,s=oi({mode:"visible",children:s.children},a,0,null),o=Zr(o,a,i,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,t.mode&1&&Wn(t,e.child,null,i),t.child.memoizedState=Jl(i),t.memoizedState=Gl,o);if(!(t.mode&1))return Ma(e,t,i,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,o=Error(U(419)),s=Ji(o,s,void 0),Ma(e,t,i,s)}if(l=(i&e.childLanes)!==0,st||l){if(s=He,s!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,ar(e,a),It(s,e,a,-1))}return cd(),s=Ji(Error(U(421))),Ma(e,t,i,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=My.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ut=Er(a.nextSibling),ht=t,Ce=!0,St=null,e!==null&&(gt[xt++]=Yt,gt[xt++]=Qt,gt[xt++]=nn,Yt=e.id,Qt=e.overflow,nn=t),t=nd(t,s.children),t.flags|=4096,t)}function Hu(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),$l(e.return,t,r)}function qi(e,t,r,s,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=r,o.tailMode=a)}function Zf(e,t,r){var s=t.pendingProps,a=s.revealOrder,o=s.tail;if(Qe(e,t,s.children,r),s=Ee.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hu(e,r,t);else if(e.tag===19)Hu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ve(Ee,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ro(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),qi(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ro(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}qi(t,!0,r,null,o);break;case"together":qi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function or(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),an|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,r=Ar(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ar(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ny(e,t,r){switch(t.tag){case 3:Qf(t),zn();break;case 5:kf(t);break;case 1:ot(t.type)&&Co(t);break;case 4:Kc(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;ve(Eo,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ve(Ee,Ee.current&1),t.flags|=128,null):r&t.child.childLanes?Xf(e,t,r):(ve(Ee,Ee.current&1),e=or(e,t,r),e!==null?e.sibling:null);ve(Ee,Ee.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Zf(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ve(Ee,Ee.current),s)break;return null;case 22:case 23:return t.lanes=0,Kf(e,t,r)}return or(e,t,r)}var ep,ql,tp,rp;ep=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ql=function(){};tp=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Kr($t.current);var o=null;switch(r){case"input":a=gl(e,a),s=gl(e,s),o=[];break;case"select":a=_e({},a,{value:void 0}),s=_e({},s,{value:void 0}),o=[];break;case"textarea":a=vl(e,a),s=vl(e,s),o=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=jo)}bl(r,s);var i;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ps.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ps.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&we("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};rp=function(e,t,r,s){r!==s&&(t.flags|=4)};function ms(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Cy(e,t,r){var s=t.pendingProps;switch(Hc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return ot(t.type)&&No(),Je(t),null;case 3:return s=t.stateNode,Vn(),je(at),je(Ye),Qc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Pa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(rc(St),St=null))),ql(e,t),Je(t),null;case 5:Yc(t);var a=Kr(Vs.current);if(r=t.type,e!==null&&t.stateNode!=null)tp(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(U(166));return Je(t),null}if(e=Kr($t.current),Pa(t)){s=t.stateNode,r=t.type;var o=t.memoizedProps;switch(s[Dt]=t,s[zs]=o,e=(t.mode&1)!==0,r){case"dialog":we("cancel",s),we("close",s);break;case"iframe":case"object":case"embed":we("load",s);break;case"video":case"audio":for(a=0;a<bs.length;a++)we(bs[a],s);break;case"source":we("error",s);break;case"img":case"image":case"link":we("error",s),we("load",s);break;case"details":we("toggle",s);break;case"input":Qd(s,o),we("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},we("invalid",s);break;case"textarea":Zd(s,o),we("invalid",s)}bl(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?s.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ta(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ta(s.textContent,l,e),a=["children",""+l]):Ps.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&we("scroll",s)}switch(r){case"input":Ca(s),Xd(s,o,!0);break;case"textarea":Ca(s),eu(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=jo)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_m(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(r,{is:s.is}):(e=i.createElement(r),r==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,r),e[Dt]=t,e[zs]=s,ep(e,t,!1,!1),t.stateNode=e;e:{switch(i=jl(r,s),r){case"dialog":we("cancel",e),we("close",e),a=s;break;case"iframe":case"object":case"embed":we("load",e),a=s;break;case"video":case"audio":for(a=0;a<bs.length;a++)we(bs[a],e);a=s;break;case"source":we("error",e),a=s;break;case"img":case"image":case"link":we("error",e),we("load",e),a=s;break;case"details":we("toggle",e),a=s;break;case"input":Qd(e,s),a=gl(e,s),we("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=_e({},s,{value:void 0}),we("invalid",e);break;case"textarea":Zd(e,s),a=vl(e,s),we("invalid",e);break;default:a=s}bl(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Tm(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Rm(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ls(e,c):typeof c=="number"&&Ls(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ps.hasOwnProperty(o)?c!=null&&o==="onScroll"&&we("scroll",e):c!=null&&Ec(e,o,c,i))}switch(r){case"input":Ca(e),Xd(e,s,!1);break;case"textarea":Ca(e),eu(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Mr(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?An(e,!!s.multiple,o,!1):s.defaultValue!=null&&An(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=jo)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)rp(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(U(166));if(r=Kr(Vs.current),Kr($t.current),Pa(t)){if(s=t.stateNode,r=t.memoizedProps,s[Dt]=t,(o=s.nodeValue!==r)&&(e=ht,e!==null))switch(e.tag){case 3:Ta(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ta(s.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Dt]=t,t.stateNode=s}return Je(t),null;case 13:if(je(Ee),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&ut!==null&&t.mode&1&&!(t.flags&128))wf(),zn(),t.flags|=98560,o=!1;else if(o=Pa(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(U(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[Dt]=t}else zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),o=!1}else St!==null&&(rc(St),St=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?Fe===0&&(Fe=3):cd())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return Vn(),ql(e,t),e===null&&Bs(t.stateNode.containerInfo),Je(t),null;case 10:return Gc(t.type._context),Je(t),null;case 17:return ot(t.type)&&No(),Je(t),null;case 19:if(je(Ee),o=t.memoizedState,o===null)return Je(t),null;if(s=(t.flags&128)!==0,i=o.rendering,i===null)if(s)ms(o,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ro(e),i!==null){for(t.flags|=128,ms(o,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)o=r,e=s,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ve(Ee,Ee.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pe()>Jn&&(t.flags|=128,s=!0,ms(o,!1),t.lanes=4194304)}else{if(!s)if(e=Ro(i),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ms(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ce)return Je(t),null}else 2*Pe()-o.renderingStartTime>Jn&&r!==1073741824&&(t.flags|=128,s=!0,ms(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pe(),t.sibling=null,r=Ee.current,ve(Ee,s?r&1|2:r&1),t):(Je(t),null);case 22:case 23:return ld(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?dt&1073741824&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function ky(e,t){switch(Hc(t),t.tag){case 1:return ot(t.type)&&No(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vn(),je(at),je(Ye),Qc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yc(t),null;case 13:if(je(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(Ee),null;case 4:return Vn(),null;case 10:return Gc(t.type._context),null;case 22:case 23:return ld(),null;case 24:return null;default:return null}}var Oa=!1,qe=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,W=null;function In(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ae(e,t,s)}else r.current=null}function Kl(e,t,r){try{r()}catch(s){Ae(e,t,s)}}var zu=!1;function Ey(e,t){if(Tl=vo,e=of(),$c(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var g;h!==r||a!==0&&h.nodeType!==3||(l=i+a),h!==o||s!==0&&h.nodeType!==3||(c=i+s),h.nodeType===3&&(i+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===e)break t;if(p===r&&++d===a&&(l=i),p===o&&++u===s&&(c=i),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pl={focusedElem:e,selectionRange:r},vo=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var b=f.memoizedProps,w=f.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?b:Ct(t.type,b),w);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(j){Ae(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return f=zu,zu=!1,f}function Is(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&Kl(t,r,o)}a=a.next}while(a!==s)}}function si(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Yl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function np(e){var t=e.alternate;t!==null&&(e.alternate=null,np(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dt],delete t[zs],delete t[Ol],delete t[cy],delete t[dy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sp(e){return e.tag===5||e.tag===3||e.tag===4}function Wu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ql(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=jo));else if(s!==4&&(e=e.child,e!==null))for(Ql(e,t,r),e=e.sibling;e!==null;)Ql(e,t,r),e=e.sibling}function Xl(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Xl(e,t,r),e=e.sibling;e!==null;)Xl(e,t,r),e=e.sibling}var ze=null,kt=!1;function mr(e,t,r){for(r=r.child;r!==null;)ap(e,t,r),r=r.sibling}function ap(e,t,r){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Yo,r)}catch{}switch(r.tag){case 5:qe||In(r,t);case 6:var s=ze,a=kt;ze=null,mr(e,t,r),ze=s,kt=a,ze!==null&&(kt?(e=ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ze.removeChild(r.stateNode));break;case 18:ze!==null&&(kt?(e=ze,r=r.stateNode,e.nodeType===8?Bi(e.parentNode,r):e.nodeType===1&&Bi(e,r),Us(e)):Bi(ze,r.stateNode));break;case 4:s=ze,a=kt,ze=r.stateNode.containerInfo,kt=!0,mr(e,t,r),ze=s,kt=a;break;case 0:case 11:case 14:case 15:if(!qe&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Kl(r,t,i),a=a.next}while(a!==s)}mr(e,t,r);break;case 1:if(!qe&&(In(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Ae(r,t,l)}mr(e,t,r);break;case 21:mr(e,t,r);break;case 22:r.mode&1?(qe=(s=qe)||r.memoizedState!==null,mr(e,t,r),qe=s):mr(e,t,r);break;default:mr(e,t,r)}}function Vu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Sy),t.forEach(function(s){var a=Oy.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Nt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,kt=!1;break e;case 3:ze=l.stateNode.containerInfo,kt=!0;break e;case 4:ze=l.stateNode.containerInfo,kt=!0;break e}l=l.return}if(ze===null)throw Error(U(160));ap(o,i,a),ze=null,kt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ae(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)op(t,e),t=t.sibling}function op(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nt(t,e),Lt(e),s&4){try{Is(3,e,e.return),si(3,e)}catch(b){Ae(e,e.return,b)}try{Is(5,e,e.return)}catch(b){Ae(e,e.return,b)}}break;case 1:Nt(t,e),Lt(e),s&512&&r!==null&&In(r,r.return);break;case 5:if(Nt(t,e),Lt(e),s&512&&r!==null&&In(r,r.return),e.flags&32){var a=e.stateNode;try{Ls(a,"")}catch(b){Ae(e,e.return,b)}}if(s&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Em(a,o),jl(l,i);var d=jl(l,o);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];u==="style"?Tm(a,h):u==="dangerouslySetInnerHTML"?Rm(a,h):u==="children"?Ls(a,h):Ec(a,u,h,d)}switch(l){case"input":xl(a,o);break;case"textarea":Im(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?An(a,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?An(a,!!o.multiple,o.defaultValue,!0):An(a,!!o.multiple,o.multiple?[]:"",!1))}a[zs]=o}catch(b){Ae(e,e.return,b)}}break;case 6:if(Nt(t,e),Lt(e),s&4){if(e.stateNode===null)throw Error(U(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(b){Ae(e,e.return,b)}}break;case 3:if(Nt(t,e),Lt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Us(t.containerInfo)}catch(b){Ae(e,e.return,b)}break;case 4:Nt(t,e),Lt(e);break;case 13:Nt(t,e),Lt(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(od=Pe())),s&4&&Vu(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(qe=(d=qe)||u,Nt(t,e),qe=d):Nt(t,e),Lt(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(W=e,u=e.child;u!==null;){for(h=W=u;W!==null;){switch(p=W,g=p.child,p.tag){case 0:case 11:case 14:case 15:Is(4,p,p.return);break;case 1:In(p,p.return);var f=p.stateNode;if(typeof f.componentWillUnmount=="function"){s=p,r=p.return;try{t=s,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(b){Ae(s,r,b)}}break;case 5:In(p,p.return);break;case 22:if(p.memoizedState!==null){Ju(h);continue}}g!==null?(g.return=p,W=g):Ju(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Am("display",i))}catch(b){Ae(e,e.return,b)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(b){Ae(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nt(t,e),Lt(e),s&4&&Vu(e);break;case 21:break;default:Nt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(sp(r)){var s=r;break e}r=r.return}throw Error(U(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Ls(a,""),s.flags&=-33);var o=Wu(e);Xl(e,o,a);break;case 3:case 4:var i=s.stateNode.containerInfo,l=Wu(e);Ql(e,l,i);break;default:throw Error(U(161))}}catch(c){Ae(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Iy(e,t,r){W=e,ip(e)}function ip(e,t,r){for(var s=(e.mode&1)!==0;W!==null;){var a=W,o=a.child;if(a.tag===22&&s){var i=a.memoizedState!==null||Oa;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||qe;l=Oa;var d=qe;if(Oa=i,(qe=c)&&!d)for(W=a;W!==null;)i=W,c=i.child,i.tag===22&&i.memoizedState!==null?qu(a):c!==null?(c.return=i,W=c):qu(a);for(;o!==null;)W=o,ip(o),o=o.sibling;W=a,Oa=l,qe=d}Gu(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,W=o):Gu(e)}}function Gu(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qe||si(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!qe)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ct(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ru(t,o,s);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ru(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Us(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}qe||t.flags&512&&Yl(t)}catch(p){Ae(t,t.return,p)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Ju(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function qu(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{si(4,t)}catch(c){Ae(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Ae(t,a,c)}}var o=t.return;try{Yl(t)}catch(c){Ae(t,o,c)}break;case 5:var i=t.return;try{Yl(t)}catch(c){Ae(t,i,c)}}}catch(c){Ae(t,t.return,c)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var _y=Math.ceil,Po=dr.ReactCurrentDispatcher,sd=dr.ReactCurrentOwner,vt=dr.ReactCurrentBatchConfig,me=0,He=null,Oe=null,We=0,dt=0,_n=Fr(0),Fe=0,Ks=null,an=0,ai=0,ad=0,_s=null,nt=null,od=0,Jn=1/0,Jt=null,Lo=!1,Zl=null,_r=null,Da=!1,Nr=null,Mo=0,Rs=0,ec=null,Za=-1,eo=0;function Xe(){return me&6?Pe():Za!==-1?Za:Za=Pe()}function Rr(e){return e.mode&1?me&2&&We!==0?We&-We:hy.transition!==null?(eo===0&&(eo=Wm()),eo):(e=pe,e!==0||(e=window.event,e=e===void 0?16:Qm(e.type)),e):1}function It(e,t,r,s){if(50<Rs)throw Rs=0,ec=null,Error(U(185));ra(e,r,s),(!(me&2)||e!==He)&&(e===He&&(!(me&2)&&(ai|=r),Fe===4&&yr(e,We)),it(e,s),r===1&&me===0&&!(t.mode&1)&&(Jn=Pe()+500,ti&&$r()))}function it(e,t){var r=e.callbackNode;h0(e,t);var s=yo(e,e===He?We:0);if(s===0)r!==null&&nu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&nu(r),t===1)e.tag===0?uy(Ku.bind(null,e)):xf(Ku.bind(null,e)),iy(function(){!(me&6)&&$r()}),r=null;else{switch(Vm(s)){case 1:r=Tc;break;case 4:r=Hm;break;case 16:r=xo;break;case 536870912:r=zm;break;default:r=xo}r=pp(r,lp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function lp(e,t){if(Za=-1,eo=0,me&6)throw Error(U(327));var r=e.callbackNode;if(On()&&e.callbackNode!==r)return null;var s=yo(e,e===He?We:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Oo(e,s);else{t=s;var a=me;me|=2;var o=dp();(He!==e||We!==t)&&(Jt=null,Jn=Pe()+500,Xr(e,t));do try{Ty();break}catch(l){cp(e,l)}while(!0);Vc(),Po.current=o,me=a,Oe!==null?t=0:(He=null,We=0,t=Fe)}if(t!==0){if(t===2&&(a=El(e),a!==0&&(s=a,t=tc(e,a))),t===1)throw r=Ks,Xr(e,0),yr(e,s),it(e,Pe()),r;if(t===6)yr(e,s);else{if(a=e.current.alternate,!(s&30)&&!Ry(a)&&(t=Oo(e,s),t===2&&(o=El(e),o!==0&&(s=o,t=tc(e,o))),t===1))throw r=Ks,Xr(e,0),yr(e,s),it(e,Pe()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(U(345));case 2:Vr(e,nt,Jt);break;case 3:if(yr(e,s),(s&130023424)===s&&(t=od+500-Pe(),10<t)){if(yo(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Xe(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ml(Vr.bind(null,e,nt,Jt),t);break}Vr(e,nt,Jt);break;case 4:if(yr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var i=31-Et(s);o=1<<i,i=t[i],i>a&&(a=i),s&=~o}if(s=a,s=Pe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*_y(s/1960))-s,10<s){e.timeoutHandle=Ml(Vr.bind(null,e,nt,Jt),s);break}Vr(e,nt,Jt);break;case 5:Vr(e,nt,Jt);break;default:throw Error(U(329))}}}return it(e,Pe()),e.callbackNode===r?lp.bind(null,e):null}function tc(e,t){var r=_s;return e.current.memoizedState.isDehydrated&&(Xr(e,t).flags|=256),e=Oo(e,t),e!==2&&(t=nt,nt=r,t!==null&&rc(t)),e}function rc(e){nt===null?nt=e:nt.push.apply(nt,e)}function Ry(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],o=a.getSnapshot;a=a.value;try{if(!Rt(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yr(e,t){for(t&=~ad,t&=~ai,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Et(t),s=1<<r;e[r]=-1,t&=~s}}function Ku(e){if(me&6)throw Error(U(327));On();var t=yo(e,0);if(!(t&1))return it(e,Pe()),null;var r=Oo(e,t);if(e.tag!==0&&r===2){var s=El(e);s!==0&&(t=s,r=tc(e,s))}if(r===1)throw r=Ks,Xr(e,0),yr(e,t),it(e,Pe()),r;if(r===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vr(e,nt,Jt),it(e,Pe()),null}function id(e,t){var r=me;me|=1;try{return e(t)}finally{me=r,me===0&&(Jn=Pe()+500,ti&&$r())}}function on(e){Nr!==null&&Nr.tag===0&&!(me&6)&&On();var t=me;me|=1;var r=vt.transition,s=pe;try{if(vt.transition=null,pe=1,e)return e()}finally{pe=s,vt.transition=r,me=t,!(me&6)&&$r()}}function ld(){dt=_n.current,je(_n)}function Xr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,oy(r)),Oe!==null)for(r=Oe.return;r!==null;){var s=r;switch(Hc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&No();break;case 3:Vn(),je(at),je(Ye),Qc();break;case 5:Yc(s);break;case 4:Vn();break;case 13:je(Ee);break;case 19:je(Ee);break;case 10:Gc(s.type._context);break;case 22:case 23:ld()}r=r.return}if(He=e,Oe=e=Ar(e.current,null),We=dt=t,Fe=0,Ks=null,ad=ai=an=0,nt=_s=null,qr!==null){for(t=0;t<qr.length;t++)if(r=qr[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,s.next=i}r.pending=s}qr=null}return e}function cp(e,t){do{var r=Oe;try{if(Vc(),Ya.current=To,Ao){for(var s=Ie.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ao=!1}if(sn=0,Be=Ue=Ie=null,Es=!1,Gs=0,sd.current=null,r===null||r.return===null){Fe=1,Ks=t,Oe=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=We,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Ou(i);if(g!==null){g.flags&=-257,Du(g,i,l,o,t),g.mode&1&&Mu(o,d,t),t=g,c=d;var f=t.updateQueue;if(f===null){var b=new Set;b.add(c),t.updateQueue=b}else f.add(c);break e}else{if(!(t&1)){Mu(o,d,t),cd();break e}c=Error(U(426))}}else if(Ce&&l.mode&1){var w=Ou(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Du(w,i,l,o,t),zc(Gn(c,l));break e}}o=c=Gn(c,l),Fe!==4&&(Fe=2),_s===null?_s=[o]:_s.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Gf(o,c,t);_u(o,m);break e;case 1:l=c;var y=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(_r===null||!_r.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=Jf(o,l,t);_u(o,j);break e}}o=o.return}while(o!==null)}hp(r)}catch(C){t=C,Oe===r&&r!==null&&(Oe=r=r.return);continue}break}while(!0)}function dp(){var e=Po.current;return Po.current=To,e===null?To:e}function cd(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),He===null||!(an&268435455)&&!(ai&268435455)||yr(He,We)}function Oo(e,t){var r=me;me|=2;var s=dp();(He!==e||We!==t)&&(Jt=null,Xr(e,t));do try{Ay();break}catch(a){cp(e,a)}while(!0);if(Vc(),me=r,Po.current=s,Oe!==null)throw Error(U(261));return He=null,We=0,Fe}function Ay(){for(;Oe!==null;)up(Oe)}function Ty(){for(;Oe!==null&&!n0();)up(Oe)}function up(e){var t=fp(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?hp(e):Oe=t,sd.current=null}function hp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ky(r,t),r!==null){r.flags&=32767,Oe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Oe=null;return}}else if(r=Cy(r,t,dt),r!==null){Oe=r;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);Fe===0&&(Fe=5)}function Vr(e,t,r){var s=pe,a=vt.transition;try{vt.transition=null,pe=1,Py(e,t,r,s)}finally{vt.transition=a,pe=s}return null}function Py(e,t,r,s){do On();while(Nr!==null);if(me&6)throw Error(U(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(m0(e,o),e===He&&(Oe=He=null,We=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Da||(Da=!0,pp(xo,function(){return On(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=vt.transition,vt.transition=null;var i=pe;pe=1;var l=me;me|=4,sd.current=null,Ey(e,r),op(r,e),Z0(Pl),vo=!!Tl,Pl=Tl=null,e.current=r,Iy(r),s0(),me=l,pe=i,vt.transition=o}else e.current=r;if(Da&&(Da=!1,Nr=e,Mo=a),o=e.pendingLanes,o===0&&(_r=null),i0(r.stateNode),it(e,Pe()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Lo)throw Lo=!1,e=Zl,Zl=null,e;return Mo&1&&e.tag!==0&&On(),o=e.pendingLanes,o&1?e===ec?Rs++:(Rs=0,ec=e):Rs=0,$r(),null}function On(){if(Nr!==null){var e=Vm(Mo),t=vt.transition,r=pe;try{if(vt.transition=null,pe=16>e?16:e,Nr===null)var s=!1;else{if(e=Nr,Nr=null,Mo=0,me&6)throw Error(U(331));var a=me;for(me|=4,W=e.current;W!==null;){var o=W,i=o.child;if(W.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(W=d;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:Is(8,u,o)}var h=u.child;if(h!==null)h.return=u,W=h;else for(;W!==null;){u=W;var p=u.sibling,g=u.return;if(np(u),u===d){W=null;break}if(p!==null){p.return=g,W=p;break}W=g}}}var f=o.alternate;if(f!==null){var b=f.child;if(b!==null){f.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}W=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,W=i;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Is(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,W=m;break e}W=o.return}}var y=e.current;for(W=y;W!==null;){i=W;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,W=v;else e:for(i=y;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:si(9,l)}}catch(C){Ae(l,l.return,C)}if(l===i){W=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,W=j;break e}W=l.return}}if(me=a,$r(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Yo,e)}catch{}s=!0}return s}finally{pe=r,vt.transition=t}}return!1}function Yu(e,t,r){t=Gn(r,t),t=Gf(e,t,1),e=Ir(e,t,1),t=Xe(),e!==null&&(ra(e,1,t),it(e,t))}function Ae(e,t,r){if(e.tag===3)Yu(e,e,r);else for(;t!==null;){if(t.tag===3){Yu(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(_r===null||!_r.has(s))){e=Gn(r,e),e=Jf(t,e,1),t=Ir(t,e,1),e=Xe(),t!==null&&(ra(t,1,e),it(t,e));break}}t=t.return}}function Ly(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&r,He===e&&(We&r)===r&&(Fe===4||Fe===3&&(We&130023424)===We&&500>Pe()-od?Xr(e,0):ad|=r),it(e,t)}function mp(e,t){t===0&&(e.mode&1?(t=Ea,Ea<<=1,!(Ea&130023424)&&(Ea=4194304)):t=1);var r=Xe();e=ar(e,t),e!==null&&(ra(e,t,r),it(e,r))}function My(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),mp(e,r)}function Oy(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(U(314))}s!==null&&s.delete(t),mp(e,r)}var fp;fp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)st=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return st=!1,Ny(e,t,r);st=!!(e.flags&131072)}else st=!1,Ce&&t.flags&1048576&&yf(t,So,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Xa(e,t),e=t.pendingProps;var a=Hn(t,Ye.current);Mn(t,r),a=Zc(null,t,s,e,a,r);var o=ed();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(s)?(o=!0,Co(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,qc(t),a.updater=ni,t.stateNode=a,a._reactInternals=t,Hl(t,s,e,r),t=Vl(null,t,s,!0,o,r)):(t.tag=0,Ce&&o&&Bc(t),Qe(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Xa(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=Uy(s),e=Ct(s,e),a){case 0:t=Wl(null,t,s,e,r);break e;case 1:t=$u(null,t,s,e,r);break e;case 11:t=Uu(null,t,s,e,r);break e;case 14:t=Fu(null,t,s,Ct(s.type,e),r);break e}throw Error(U(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ct(s,a),Wl(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ct(s,a),$u(e,t,s,a,r);case 3:e:{if(Qf(t),e===null)throw Error(U(387));s=t.pendingProps,o=t.memoizedState,a=o.element,Cf(e,t),_o(t,s,null,r);var i=t.memoizedState;if(s=i.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Gn(Error(U(423)),t),t=Bu(e,t,s,r,a);break e}else if(s!==a){a=Gn(Error(U(424)),t),t=Bu(e,t,s,r,a);break e}else for(ut=Er(t.stateNode.containerInfo.firstChild),ht=t,Ce=!0,St=null,r=jf(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zn(),s===a){t=or(e,t,r);break e}Qe(e,t,s,r)}t=t.child}return t;case 5:return kf(t),e===null&&Fl(t),s=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,Ll(s,a)?i=null:o!==null&&Ll(s,o)&&(t.flags|=32),Yf(e,t),Qe(e,t,i,r),t.child;case 6:return e===null&&Fl(t),null;case 13:return Xf(e,t,r);case 4:return Kc(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Wn(t,null,s,r):Qe(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ct(s,a),Uu(e,t,s,a,r);case 7:return Qe(e,t,t.pendingProps,r),t.child;case 8:return Qe(e,t,t.pendingProps.children,r),t.child;case 12:return Qe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,ve(Eo,s._currentValue),s._currentValue=i,o!==null)if(Rt(o.value,i)){if(o.children===a.children&&!at.current){t=or(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(o.tag===1){c=tr(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),$l(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(U(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),$l(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Qe(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Mn(t,r),a=wt(a),s=s(a),t.flags|=1,Qe(e,t,s,r),t.child;case 14:return s=t.type,a=Ct(s,t.pendingProps),a=Ct(s.type,a),Fu(e,t,s,a,r);case 15:return qf(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ct(s,a),Xa(e,t),t.tag=1,ot(s)?(e=!0,Co(t)):e=!1,Mn(t,r),Vf(t,s,a),Hl(t,s,a,r),Vl(null,t,s,!0,e,r);case 19:return Zf(e,t,r);case 22:return Kf(e,t,r)}throw Error(U(156,t.tag))};function pp(e,t){return Bm(e,t)}function Dy(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,r,s){return new Dy(e,t,r,s)}function dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Uy(e){if(typeof e=="function")return dd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_c)return 11;if(e===Rc)return 14}return 2}function Ar(e,t){var r=e.alternate;return r===null?(r=yt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function to(e,t,r,s,a,o){var i=2;if(s=e,typeof e=="function")dd(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vn:return Zr(r.children,a,o,t);case Ic:i=8,a|=8;break;case hl:return e=yt(12,r,t,a|2),e.elementType=hl,e.lanes=o,e;case ml:return e=yt(13,r,t,a),e.elementType=ml,e.lanes=o,e;case fl:return e=yt(19,r,t,a),e.elementType=fl,e.lanes=o,e;case Cm:return oi(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jm:i=10;break e;case Nm:i=9;break e;case _c:i=11;break e;case Rc:i=14;break e;case pr:i=16,s=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=yt(i,r,t,a),t.elementType=e,t.type=s,t.lanes=o,t}function Zr(e,t,r,s){return e=yt(7,e,s,t),e.lanes=r,e}function oi(e,t,r,s){return e=yt(22,e,s,t),e.elementType=Cm,e.lanes=r,e.stateNode={isHidden:!1},e}function Ki(e,t,r){return e=yt(6,e,null,t),e.lanes=r,e}function Yi(e,t,r){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fy(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ri(0),this.expirationTimes=Ri(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ud(e,t,r,s,a,o,i,l,c){return e=new Fy(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=yt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qc(o),e}function $y(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function gp(e){if(!e)return Or;e=e._reactInternals;e:{if(hn(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var r=e.type;if(ot(r))return gf(e,r,t)}return t}function xp(e,t,r,s,a,o,i,l,c){return e=ud(r,s,!0,e,a,o,i,l,c),e.context=gp(null),r=e.current,s=Xe(),a=Rr(r),o=tr(s,a),o.callback=t??null,Ir(r,o,a),e.current.lanes=a,ra(e,a,s),it(e,s),e}function ii(e,t,r,s){var a=t.current,o=Xe(),i=Rr(a);return r=gp(r),t.context===null?t.context=r:t.pendingContext=r,t=tr(o,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ir(a,t,i),e!==null&&(It(e,a,i,o),Ka(e,a,i)),i}function Do(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hd(e,t){Qu(e,t),(e=e.alternate)&&Qu(e,t)}function By(){return null}var yp=typeof reportError=="function"?reportError:function(e){console.error(e)};function md(e){this._internalRoot=e}li.prototype.render=md.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));ii(e,t,null,null)};li.prototype.unmount=md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;on(function(){ii(null,e,null,null)}),t[sr]=null}};function li(e){this._internalRoot=e}li.prototype.unstable_scheduleHydration=function(e){if(e){var t=qm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xr.length&&t!==0&&t<xr[r].priority;r++);xr.splice(r,0,e),r===0&&Ym(e)}};function fd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ci(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xu(){}function Hy(e,t,r,s,a){if(a){if(typeof s=="function"){var o=s;s=function(){var d=Do(i);o.call(d)}}var i=xp(t,s,e,0,null,!1,!1,"",Xu);return e._reactRootContainer=i,e[sr]=i.current,Bs(e.nodeType===8?e.parentNode:e),on(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Do(c);l.call(d)}}var c=ud(e,0,!1,null,null,!1,!1,"",Xu);return e._reactRootContainer=c,e[sr]=c.current,Bs(e.nodeType===8?e.parentNode:e),on(function(){ii(t,c,r,s)}),c}function di(e,t,r,s,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=Do(i);l.call(c)}}ii(t,i,e,a)}else i=Hy(r,t,e,a,s);return Do(i)}Gm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ws(t.pendingLanes);r!==0&&(Pc(t,r|1),it(t,Pe()),!(me&6)&&(Jn=Pe()+500,$r()))}break;case 13:on(function(){var s=ar(e,1);if(s!==null){var a=Xe();It(s,e,1,a)}}),hd(e,1)}};Lc=function(e){if(e.tag===13){var t=ar(e,134217728);if(t!==null){var r=Xe();It(t,e,134217728,r)}hd(e,134217728)}};Jm=function(e){if(e.tag===13){var t=Rr(e),r=ar(e,t);if(r!==null){var s=Xe();It(r,e,t,s)}hd(e,t)}};qm=function(){return pe};Km=function(e,t){var r=pe;try{return pe=e,t()}finally{pe=r}};Cl=function(e,t,r){switch(t){case"input":if(xl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=ei(s);if(!a)throw Error(U(90));Sm(s),xl(s,a)}}}break;case"textarea":Im(e,r);break;case"select":t=r.value,t!=null&&An(e,!!r.multiple,t,!1)}};Mm=id;Om=on;var zy={usingClientEntryPoint:!1,Events:[sa,Nn,ei,Pm,Lm,id]},fs={findFiberByHostInstance:Jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wy={bundleType:fs.bundleType,version:fs.version,rendererPackageName:fs.rendererPackageName,rendererConfig:fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fm(e),e===null?null:e.stateNode},findFiberByHostInstance:fs.findFiberByHostInstance||By,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ua.isDisabled&&Ua.supportsFiber)try{Yo=Ua.inject(Wy),Ft=Ua}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zy;ft.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fd(t))throw Error(U(200));return $y(e,t,null,r)};ft.createRoot=function(e,t){if(!fd(e))throw Error(U(299));var r=!1,s="",a=yp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ud(e,1,!1,null,null,r,!1,s,a),e[sr]=t.current,Bs(e.nodeType===8?e.parentNode:e),new md(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Fm(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return on(e)};ft.hydrate=function(e,t,r){if(!ci(t))throw Error(U(200));return di(null,e,t,!0,r)};ft.hydrateRoot=function(e,t,r){if(!fd(e))throw Error(U(405));var s=r!=null&&r.hydratedSources||null,a=!1,o="",i=yp;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=xp(t,null,e,1,r??null,a,!1,o,i),e[sr]=t.current,Bs(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new li(t)};ft.render=function(e,t,r){if(!ci(t))throw Error(U(200));return di(null,e,t,!1,r)};ft.unmountComponentAtNode=function(e){if(!ci(e))throw Error(U(40));return e._reactRootContainer?(on(function(){di(null,null,e,!1,function(){e._reactRootContainer=null,e[sr]=null})}),!0):!1};ft.unstable_batchedUpdates=id;ft.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!ci(r))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return di(e,t,r,!1,s)};ft.version="18.3.1-next-f1338f8080-20240426";function vp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vp)}catch(e){console.error(e)}}vp(),ym.exports=ft;var Vy=ym.exports,Zu=Vy;dl.createRoot=Zu.createRoot,dl.hydrateRoot=Zu.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eh="popstate";function Gy(e={}){function t(s,a){let{pathname:o,search:i,hash:l}=s.location;return nc("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Ys(a)}return qy(t,r,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jy(){return Math.random().toString(36).substring(2,10)}function th(e,t){return{usr:e.state,key:e.key,idx:t}}function nc(e,t,r=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?es(t):t,state:r,key:t&&t.key||s||Jy()}}function Ys({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function es(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function qy(e,t,r,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,i=a.history,l="POP",c=null,d=u();d==null&&(d=0,i.replaceState({...i.state,idx:d},""));function u(){return(i.state||{idx:null}).idx}function h(){l="POP";let w=u(),m=w==null?null:w-d;d=w,c&&c({action:l,location:b.location,delta:m})}function p(w,m){l="PUSH";let y=nc(b.location,w,m);d=u()+1;let v=th(y,d),j=b.createHref(y);try{i.pushState(v,"",j)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(j)}o&&c&&c({action:l,location:b.location,delta:1})}function g(w,m){l="REPLACE";let y=nc(b.location,w,m);d=u();let v=th(y,d),j=b.createHref(y);i.replaceState(v,"",j),o&&c&&c({action:l,location:b.location,delta:0})}function f(w){return Ky(w)}let b={get action(){return l},get location(){return e(a,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(eh,h),c=w,()=>{a.removeEventListener(eh,h),c=null}},createHref(w){return t(a,w)},createURL:f,encodeLocation(w){let m=f(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:g,go(w){return i.go(w)}};return b}function Ky(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ke(r,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Ys(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function wp(e,t,r="/"){return Yy(e,t,r,!1)}function Yy(e,t,r,s){let a=typeof t=="string"?es(t):t,o=ir(a.pathname||"/",r);if(o==null)return null;let i=bp(e);Qy(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=lv(o);l=ov(i[c],d,s)}return l}function bp(e,t=[],r=[],s="",a=!1){let o=(i,l,c=a,d)=>{let u={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(s)&&c)return;ke(u.relativePath.startsWith(s),`Absolute route path "${u.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(s.length)}let h=rr([s,u.relativePath]),p=r.concat(u);i.children&&i.children.length>0&&(ke(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),bp(i.children,t,p,h,c)),!(i.path==null&&!i.index)&&t.push({path:h,score:sv(h,i.index),routesMeta:p})};return e.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))o(i,l);else for(let d of jp(i.path))o(i,l,!0,d)}),t}function jp(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let i=jp(s.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Qy(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:av(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var Xy=/^:[\w-]+$/,Zy=3,ev=2,tv=1,rv=10,nv=-2,rh=e=>e==="*";function sv(e,t){let r=e.split("/"),s=r.length;return r.some(rh)&&(s+=nv),t&&(s+=ev),r.filter(a=>!rh(a)).reduce((a,o)=>a+(Xy.test(o)?Zy:o===""?tv:rv),s)}function av(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function ov(e,t,r=!1){let{routesMeta:s}=e,a={},o="/",i=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=o==="/"?t:t.slice(o.length)||"/",h=Uo({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!h&&d&&r&&!s[s.length-1].route.index&&(h=Uo({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:rr([o,h.pathname]),pathnameBase:hv(rr([o,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(o=rr([o,h.pathnameBase]))}return i}function Uo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=iv(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,{paramName:u,isOptional:h},p)=>{if(u==="*"){let f=l[p]||"";i=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}const g=l[p];return h&&!g?d[u]=void 0:d[u]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:e}}function iv(e,t=!1,r=!0){jt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function lv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ir(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function cv(e,t="/"){let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?es(e):e;return{pathname:r?r.startsWith("/")?r:dv(r,t):t,search:mv(s),hash:fv(a)}}function dv(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Qi(e,t,r,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uv(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pd(e){let t=uv(e);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function gd(e,t,r,s=!1){let a;typeof e=="string"?a=es(e):(a={...e},ke(!a.pathname||!a.pathname.includes("?"),Qi("?","pathname","search",a)),ke(!a.pathname||!a.pathname.includes("#"),Qi("#","pathname","hash",a)),ke(!a.search||!a.search.includes("#"),Qi("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let h=t.length-1;if(!s&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;a.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=cv(a,l),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var rr=e=>e.join("/").replace(/\/\/+/g,"/"),hv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Np=["POST","PUT","PATCH","DELETE"];new Set(Np);var gv=["GET",...Np];new Set(gv);var ts=x.createContext(null);ts.displayName="DataRouter";var ui=x.createContext(null);ui.displayName="DataRouterState";x.createContext(!1);var Cp=x.createContext({isTransitioning:!1});Cp.displayName="ViewTransition";var xv=x.createContext(new Map);xv.displayName="Fetchers";var yv=x.createContext(null);yv.displayName="Await";var At=x.createContext(null);At.displayName="Navigation";var oa=x.createContext(null);oa.displayName="Location";var Tt=x.createContext({outlet:null,matches:[],isDataRoute:!1});Tt.displayName="Route";var xd=x.createContext(null);xd.displayName="RouteError";function vv(e,{relative:t}={}){ke(rs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=x.useContext(At),{hash:a,pathname:o,search:i}=ia(e,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:rr([r,o])),s.createHref({pathname:l,search:i,hash:a})}function rs(){return x.useContext(oa)!=null}function zt(){return ke(rs(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(oa).location}var kp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sp(e){x.useContext(At).static||x.useLayoutEffect(e)}function ce(){let{isDataRoute:e}=x.useContext(Tt);return e?Tv():wv()}function wv(){ke(rs(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(ts),{basename:t,navigator:r}=x.useContext(At),{matches:s}=x.useContext(Tt),{pathname:a}=zt(),o=JSON.stringify(pd(s)),i=x.useRef(!1);return Sp(()=>{i.current=!0}),x.useCallback((c,d={})=>{if(jt(i.current,kp),!i.current)return;if(typeof c=="number"){r.go(c);return}let u=gd(c,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:rr([t,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[t,r,o,a,e])}x.createContext(null);function hi(){let{matches:e}=x.useContext(Tt),t=e[e.length-1];return t?t.params:{}}function ia(e,{relative:t}={}){let{matches:r}=x.useContext(Tt),{pathname:s}=zt(),a=JSON.stringify(pd(r));return x.useMemo(()=>gd(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function bv(e,t){return Ep(e,t)}function Ep(e,t,r,s,a){var y;ke(rs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(At),{matches:i}=x.useContext(Tt),l=i[i.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let v=h&&h.path||"";Ip(d,!h||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let p=zt(),g;if(t){let v=typeof t=="string"?es(t):t;ke(u==="/"||((y=v.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${v.pathname}" was given in the \`location\` prop.`),g=v}else g=p;let f=g.pathname||"/",b=f;if(u!=="/"){let v=u.replace(/^\//,"").split("/");b="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=wp(e,{pathname:b});jt(h||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),jt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=Sv(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:rr([u,o.encodeLocation?o.encodeLocation(v.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:rr([u,o.encodeLocation?o.encodeLocation(v.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathnameBase])})),i,r,s,a);return t&&m?x.createElement(oa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},m):m}function jv(){let e=Av(),t=pv(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,i)}var Nv=x.createElement(jv,null),Cv=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(Tt.Provider,{value:this.props.routeContext},x.createElement(xd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kv({routeContext:e,match:t,children:r}){let s=x.useContext(ts);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Tt.Provider,{value:e},r)}function Sv(e,t=[],r=null,s=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,i=r==null?void 0:r.errors;if(i!=null){let d=o.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);ke(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<o.length;d++){let u=o[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:h,errors:p}=r,g=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,u,h)=>{let p,g=!1,f=null,b=null;r&&(p=i&&u.route.id?i[u.route.id]:void 0,f=u.route.errorElement||Nv,l&&(c<0&&h===0?(Ip("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):c===h&&(g=!0,b=u.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,h+1)),m=()=>{let y;return p?y=f:g?y=b:u.route.Component?y=x.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=d,x.createElement(kv,{match:u,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:y})};return r&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?x.createElement(Cv,{location:r.location,revalidation:r.revalidation,component:f,error:p,children:m(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:s}):m()},null)}function yd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ev(e){let t=x.useContext(ts);return ke(t,yd(e)),t}function Iv(e){let t=x.useContext(ui);return ke(t,yd(e)),t}function _v(e){let t=x.useContext(Tt);return ke(t,yd(e)),t}function vd(e){let t=_v(e),r=t.matches[t.matches.length-1];return ke(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Rv(){return vd("useRouteId")}function Av(){var s;let e=x.useContext(xd),t=Iv("useRouteError"),r=vd("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[r]}function Tv(){let{router:e}=Ev("useNavigate"),t=vd("useNavigate"),r=x.useRef(!1);return Sp(()=>{r.current=!0}),x.useCallback(async(a,o={})=>{jt(r.current,kp),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var nh={};function Ip(e,t,r){!t&&!nh[e]&&(nh[e]=!0,jt(!1,r))}x.memo(Pv);function Pv({routes:e,future:t,state:r,unstable_onError:s}){return Ep(e,void 0,r,s,t)}function sh({to:e,replace:t,state:r,relative:s}){ke(rs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=x.useContext(At);jt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(Tt),{pathname:i}=zt(),l=ce(),c=gd(e,pd(o),i,s==="path"),d=JSON.stringify(c);return x.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:s})},[l,d,s,t,r]),null}function Z(e){ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Lv({basename:e="/",children:t=null,location:r,navigationType:s="POP",navigator:a,static:o=!1}){ke(!rs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:i,navigator:a,static:o,future:{}}),[i,a,o]);typeof r=="string"&&(r=es(r));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:p="default"}=r,g=x.useMemo(()=>{let f=ir(c,i);return f==null?null:{location:{pathname:f,search:d,hash:u,state:h,key:p},navigationType:s}},[i,c,d,u,h,p,s]);return jt(g!=null,`<Router basename="${i}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:x.createElement(At.Provider,{value:l},x.createElement(oa.Provider,{children:t,value:g}))}function Mv({children:e,location:t}){return bv(sc(e),t)}function sc(e,t=[]){let r=[];return x.Children.forEach(e,(s,a)=>{if(!x.isValidElement(s))return;let o=[...t,a];if(s.type===x.Fragment){r.push.apply(r,sc(s.props.children,o));return}ke(s.type===Z,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ke(!s.props.index||!s.props.children,"An index route cannot have child routes.");let i={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=sc(s.props.children,o)),r.push(i)}),r}var ro="get",no="application/x-www-form-urlencoded";function mi(e){return e!=null&&typeof e.tagName=="string"}function Ov(e){return mi(e)&&e.tagName.toLowerCase()==="button"}function Dv(e){return mi(e)&&e.tagName.toLowerCase()==="form"}function Uv(e){return mi(e)&&e.tagName.toLowerCase()==="input"}function Fv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $v(e,t){return e.button===0&&(!t||t==="_self")&&!Fv(e)}function ac(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function Bv(e,t){let r=ac(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(o=>{r.append(a,o)})}),r}var Fa=null;function Hv(){if(Fa===null)try{new FormData(document.createElement("form"),0),Fa=!1}catch{Fa=!0}return Fa}var zv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xi(e){return e!=null&&!zv.has(e)?(jt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${no}"`),null):e}function Wv(e,t){let r,s,a,o,i;if(Dv(e)){let l=e.getAttribute("action");s=l?ir(l,t):null,r=e.getAttribute("method")||ro,a=Xi(e.getAttribute("enctype"))||no,o=new FormData(e)}else if(Ov(e)||Uv(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(s=c?ir(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||ro,a=Xi(e.getAttribute("formenctype"))||Xi(l.getAttribute("enctype"))||no,o=new FormData(l,e),!Hv()){let{name:d,type:u,value:h}=e;if(u==="image"){let p=d?`${d}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else d&&o.append(d,h)}}else{if(mi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ro,s=null,a=no,i=e}return o&&a==="text/plain"&&(i=o,o=void 0),{action:s,method:r.toLowerCase(),encType:a,formData:o,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vv(e,t,r){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${r}`:t&&ir(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function Gv(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jv(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function qv(e,t,r){let s=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let i=await Gv(o,r);return i.links?i.links():[]}return[]}));return Xv(s.flat(1).filter(Jv).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ah(e,t,r,s,a,o){let i=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var u;return r[d].pathname!==c.pathname||((u=r[d].route.path)==null?void 0:u.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,d)=>i(c,d)||l(c,d)):o==="data"?t.filter((c,d)=>{var h;let u=s.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(i(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Kv(e,t,{includeHydrateFallback:r}={}){return Yv(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Yv(e){return[...new Set(e)]}function Qv(e){let t={},r=Object.keys(e).sort();for(let s of r)t[s]=e[s];return t}function Xv(e,t){let r=new Set;return new Set(t),e.reduce((s,a)=>{let o=JSON.stringify(Qv(a));return r.has(o)||(r.add(o),s.push({key:o,link:a})),s},[])}function _p(){let e=x.useContext(ts);return wd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Zv(){let e=x.useContext(ui);return wd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var bd=x.createContext(void 0);bd.displayName="FrameworkContext";function Rp(){let e=x.useContext(bd);return wd(e,"You must render this element inside a <HydratedRouter> element"),e}function ew(e,t){let r=x.useContext(bd),[s,a]=x.useState(!1),[o,i]=x.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=t,p=x.useRef(null);x.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let b=m=>{m.forEach(y=>{i(y.isIntersecting)})},w=new IntersectionObserver(b,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[e]),x.useEffect(()=>{if(s){let b=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(b)}}},[s]);let g=()=>{a(!0)},f=()=>{a(!1),i(!1)};return r?e!=="intent"?[o,p,{}]:[o,p,{onFocus:ps(l,g),onBlur:ps(c,f),onMouseEnter:ps(d,g),onMouseLeave:ps(u,f),onTouchStart:ps(h,g)}]:[!1,p,{}]}function ps(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function tw({page:e,...t}){let{router:r}=_p(),s=x.useMemo(()=>wp(r.routes,e,r.basename),[r.routes,e,r.basename]);return s?x.createElement(nw,{page:e,matches:s,...t}):null}function rw(e){let{manifest:t,routeModules:r}=Rp(),[s,a]=x.useState([]);return x.useEffect(()=>{let o=!1;return qv(e,t,r).then(i=>{o||a(i)}),()=>{o=!0}},[e,t,r]),s}function nw({page:e,matches:t,...r}){let s=zt(),{manifest:a,routeModules:o}=Rp(),{basename:i}=_p(),{loaderData:l,matches:c}=Zv(),d=x.useMemo(()=>ah(e,t,c,a,s,"data"),[e,t,c,a,s]),u=x.useMemo(()=>ah(e,t,c,a,s,"assets"),[e,t,c,a,s]),h=x.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let f=new Set,b=!1;if(t.forEach(m=>{var v;let y=a.routes[m.route.id];!y||!y.hasLoader||(!d.some(j=>j.route.id===m.route.id)&&m.route.id in l&&((v=o[m.route.id])!=null&&v.shouldRevalidate)||y.hasClientLoader?b=!0:f.add(m.route.id))}),f.size===0)return[];let w=Vv(e,i,"data");return b&&f.size>0&&w.searchParams.set("_routes",t.filter(m=>f.has(m.route.id)).map(m=>m.route.id).join(",")),[w.pathname+w.search]},[i,l,s,a,d,t,e,o]),p=x.useMemo(()=>Kv(u,a),[u,a]),g=rw(u);return x.createElement(x.Fragment,null,h.map(f=>x.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...r})),p.map(f=>x.createElement("link",{key:f,rel:"modulepreload",href:f,...r})),g.map(({key:f,link:b})=>x.createElement("link",{key:f,nonce:r.nonce,...b})))}function sw(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Ap=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ap&&(window.__reactRouterVersion="7.9.4")}catch{}function aw({basename:e,children:t,window:r}){let s=x.useRef();s.current==null&&(s.current=Gy({window:r,v5Compat:!0}));let a=s.current,[o,i]=x.useState({action:a.action,location:a.location}),l=x.useCallback(c=>{x.startTransition(()=>i(c))},[i]);return x.useLayoutEffect(()=>a.listen(l),[a,l]),x.createElement(Lv,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var Tp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pp=x.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:a,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h,...p},g){let{basename:f}=x.useContext(At),b=typeof d=="string"&&Tp.test(d),w,m=!1;if(typeof d=="string"&&b&&(w=d,Ap))try{let I=new URL(window.location.href),N=d.startsWith("//")?new URL(I.protocol+d):new URL(d),P=ir(N.pathname,f);N.origin===I.origin&&P!=null?d=P+N.search+N.hash:m=!0}catch{jt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=vv(d,{relative:a}),[v,j,C]=ew(s,p),S=cw(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function k(I){t&&t(I),I.defaultPrevented||S(I)}let E=x.createElement("a",{...p,...C,href:w||y,onClick:m||o?t:k,ref:sw(g,j),target:c,"data-discover":!b&&r==="render"?"true":void 0});return v&&!b?x.createElement(x.Fragment,null,E,x.createElement(tw,{page:y})):E});Pp.displayName="Link";var ow=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:i,viewTransition:l,children:c,...d},u){let h=ia(i,{relative:d.relative}),p=zt(),g=x.useContext(ui),{navigator:f,basename:b}=x.useContext(At),w=g!=null&&fw(h)&&l===!0,m=f.encodeLocation?f.encodeLocation(h).pathname:h.pathname,y=p.pathname,v=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(y=y.toLowerCase(),v=v?v.toLowerCase():null,m=m.toLowerCase()),v&&b&&(v=ir(v,b)||v);const j=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let C=y===m||!a&&y.startsWith(m)&&y.charAt(j)==="/",S=v!=null&&(v===m||!a&&v.startsWith(m)&&v.charAt(m.length)==="/"),k={isActive:C,isPending:S,isTransitioning:w},E=C?t:void 0,I;typeof s=="function"?I=s(k):I=[s,C?"active":null,S?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(k):o;return x.createElement(Pp,{...d,"aria-current":E,className:I,ref:u,style:N,to:i,viewTransition:l},typeof c=="function"?c(k):c)});ow.displayName="NavLink";var iw=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:a,state:o,method:i=ro,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...p},g)=>{let f=hw(),b=mw(l,{relative:d}),w=i.toLowerCase()==="get"?"get":"post",m=typeof l=="string"&&Tp.test(l),y=v=>{if(c&&c(v),v.defaultPrevented)return;v.preventDefault();let j=v.nativeEvent.submitter,C=(j==null?void 0:j.getAttribute("formmethod"))||i;f(j||v.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:a,state:o,relative:d,preventScrollReset:u,viewTransition:h})};return x.createElement("form",{ref:g,method:w,action:b,onSubmit:s?c:y,...p,"data-discover":!m&&e==="render"?"true":void 0})});iw.displayName="Form";function lw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lp(e){let t=x.useContext(ts);return ke(t,lw(e)),t}function cw(e,{target:t,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:i}={}){let l=ce(),c=zt(),d=ia(e,{relative:o});return x.useCallback(u=>{if($v(u,t)){u.preventDefault();let h=r!==void 0?r:Ys(c)===Ys(d);l(e,{replace:h,state:s,preventScrollReset:a,relative:o,viewTransition:i})}},[c,l,d,r,s,t,e,a,o,i])}function Br(e){jt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(ac(e)),r=x.useRef(!1),s=zt(),a=x.useMemo(()=>Bv(s.search,r.current?null:t.current),[s.search]),o=ce(),i=x.useCallback((l,c)=>{const d=ac(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,o("?"+d,c)},[o,a]);return[a,i]}var dw=0,uw=()=>`__${String(++dw)}__`;function hw(){let{router:e}=Lp("useSubmit"),{basename:t}=x.useContext(At),r=Rv();return x.useCallback(async(s,a={})=>{let{action:o,method:i,encType:l,formData:c,body:d}=Wv(s,t);if(a.navigate===!1){let u=a.fetcherKey||uw();await e.fetch(u,r,a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||i,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||i,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function mw(e,{relative:t}={}){let{basename:r}=x.useContext(At),s=x.useContext(Tt);ke(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...ia(e||".",{relative:t})},i=zt();if(e==null){o.search=i.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let u=l.toString();o.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:rr([r,o.pathname])),Ys(o)}function fw(e,{relative:t}={}){let r=x.useContext(Cp);ke(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Lp("useViewTransitionState"),a=ia(e,{relative:t});if(!r.isTransitioning)return!1;let o=ir(r.currentLocation.pathname,s)||r.currentLocation.pathname,i=ir(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Uo(a.pathname,i)!=null||Uo(a.pathname,o)!=null}const pw=()=>{const{pathname:e}=zt();return x.useEffect(()=>{window.scrollTo(0,0)},[e]),null};var oh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=function(e){const t=[];let r=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},gw=function(e){const t=[];let r=0,s=0;for(;r<e.length;){const a=e[r++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const o=e[r++];t[s++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=e[r++],i=e[r++],l=e[r++],c=((a&7)<<18|(o&63)<<12|(i&63)<<6|l&63)-65536;t[s++]=String.fromCharCode(55296+(c>>10)),t[s++]=String.fromCharCode(56320+(c&1023))}else{const o=e[r++],i=e[r++];t[s++]=String.fromCharCode((a&15)<<12|(o&63)<<6|i&63)}}return t.join("")},Op={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const o=e[a],i=a+1<e.length,l=i?e[a+1]:0,c=a+2<e.length,d=c?e[a+2]:0,u=o>>2,h=(o&3)<<4|l>>4;let p=(l&15)<<2|d>>6,g=d&63;c||(g=64,i||(p=64)),s.push(r[u],r[h],r[p],r[g])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Mp(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):gw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const o=r[e.charAt(a++)],l=a<e.length?r[e.charAt(a)]:0;++a;const d=a<e.length?r[e.charAt(a)]:64;++a;const h=a<e.length?r[e.charAt(a)]:64;if(++a,o==null||l==null||d==null||h==null)throw new xw;const p=o<<2|l>>4;if(s.push(p),d!==64){const g=l<<4&240|d>>2;if(s.push(g),h!==64){const f=d<<6&192|h;s.push(f)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class xw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yw=function(e){const t=Mp(e);return Op.encodeByteArray(t,!0)},Dp=function(e){return yw(e).replace(/\./g,"")},Up=function(e){try{return Op.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=()=>vw().__FIREBASE_DEFAULTS__,bw=()=>{if(typeof process>"u"||typeof oh>"u")return;const e=oh.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},jw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Up(e[1]);return t&&JSON.parse(t)},jd=()=>{try{return ww()||bw()||jw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Nw=e=>{var t,r;return(r=(t=jd())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},Fp=()=>{var e;return(e=jd())===null||e===void 0?void 0:e.config},$p=e=>{var t;return(t=jd())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Sw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ew(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Iw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _w(){const e=Ze();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Rw(){try{return typeof indexedDB=="object"}catch{return!1}}function Aw(){return new Promise((e,t)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var o;t(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="FirebaseError";class Hr extends Error{constructor(t,r,s){super(r),this.code=t,this.customData=s,this.name=Tw,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,la.prototype.create)}}class la{constructor(t,r,s){this.service=t,this.serviceName=r,this.errors=s}create(t,...r){const s=r[0]||{},a=`${this.service}/${t}`,o=this.errors[t],i=o?Pw(o,s):"Error",l=`${this.serviceName}: ${i} (${a}).`;return new Hr(a,l,s)}}function Pw(e,t){return e.replace(Lw,(r,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const Lw=/\{\$([^}]+)}/g;function Mw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Fo(e,t){if(e===t)return!0;const r=Object.keys(e),s=Object.keys(t);for(const a of r){if(!s.includes(a))return!1;const o=e[a],i=t[a];if(ih(o)&&ih(i)){if(!Fo(o,i))return!1}else if(o!==i)return!1}for(const a of s)if(!r.includes(a))return!1;return!0}function ih(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(e){const t=[];for(const[r,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Ow(e,t){const r=new Dw(e,t);return r.subscribe.bind(r)}class Dw{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,s){let a;if(t===void 0&&r===void 0&&s===void 0)throw new Error("Missing Observer.");Uw(t,["next","error","complete"])?a=t:a={next:t,error:r,complete:s},a.next===void 0&&(a.next=Zi),a.error===void 0&&(a.error=Zi),a.complete===void 0&&(a.complete=Zi);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uw(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function Zi(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(e){return e&&e._delegate?e._delegate:e}let $o=class{constructor(t,r,s){this.name=t,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const s=new Cw;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Bw(t))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:a});s.resolve(o)}catch{}}}}clearInstance(t=Gr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gr){return this.instances.has(t)}getOptions(t=Gr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[o,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);s===l&&i.resolve(a)}return a}onInit(t,r){var s;const a=this.normalizeInstanceIdentifier(r),o=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;o.add(t),this.onInitCallbacks.set(a,o);const i=this.instances.get(a);return i&&t(i,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,r){const s=this.onInitCallbacks.get(r);if(s)for(const a of s)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$w(t),options:r}),this.instances.set(t,s),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Gr){return this.component?this.component.multipleInstances?t:Gr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $w(e){return e===Gr?void 0:e}function Bw(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Fw(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(be||(be={}));const zw={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},Ww=be.INFO,Vw={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},Gw=(e,t,...r)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=Vw[t];if(a)console[a](`[${s}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let Jw=class{constructor(t){this.name=t,this._logLevel=Ww,this._logHandler=Gw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in be))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...t),this._logHandler(this,be.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...t),this._logHandler(this,be.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,be.INFO,...t),this._logHandler(this,be.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,be.WARN,...t),this._logHandler(this,be.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...t),this._logHandler(this,be.ERROR,...t)}};const qw=(e,t)=>t.some(r=>e instanceof r);let lh,ch;function Kw(){return lh||(lh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yw(){return ch||(ch=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bp=new WeakMap,oc=new WeakMap,Hp=new WeakMap,el=new WeakMap,Nd=new WeakMap;function Qw(e){const t=new Promise((r,s)=>{const a=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{r(Tr(e.result)),a()},i=()=>{s(e.error),a()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(r=>{r instanceof IDBCursor&&Bp.set(r,e)}).catch(()=>{}),Nd.set(t,e),t}function Xw(e){if(oc.has(e))return;const t=new Promise((r,s)=>{const a=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{r(),a()},i=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});oc.set(e,t)}let ic={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return oc.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Hp.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Tr(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Zw(e){ic=e(ic)}function eb(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const s=e.call(tl(this),t,...r);return Hp.set(s,t.sort?t.sort():[t]),Tr(s)}:Yw().includes(e)?function(...t){return e.apply(tl(this),t),Tr(Bp.get(this))}:function(...t){return Tr(e.apply(tl(this),t))}}function tb(e){return typeof e=="function"?eb(e):(e instanceof IDBTransaction&&Xw(e),qw(e,Kw())?new Proxy(e,ic):e)}function Tr(e){if(e instanceof IDBRequest)return Qw(e);if(el.has(e))return el.get(e);const t=tb(e);return t!==e&&(el.set(e,t),Nd.set(t,e)),t}const tl=e=>Nd.get(e);function rb(e,t,{blocked:r,upgrade:s,blocking:a,terminated:o}={}){const i=indexedDB.open(e,t),l=Tr(i);return s&&i.addEventListener("upgradeneeded",c=>{s(Tr(i.result),c.oldVersion,c.newVersion,Tr(i.transaction),c)}),r&&i.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),a&&c.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const nb=["get","getKey","getAll","getAllKeys","count"],sb=["put","add","delete","clear"],rl=new Map;function dh(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rl.get(t))return rl.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,a=sb.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(a||nb.includes(r)))return;const o=async function(i,...l){const c=this.transaction(i,a?"readwrite":"readonly");let d=c.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),a&&c.done]))[0]};return rl.set(t,o),o}Zw(e=>({...e,get:(t,r,s)=>dh(t,r)||e.get(t,r,s),has:(t,r)=>!!dh(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(ob(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function ob(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const lc="@firebase/app",uh="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Jw("@firebase/app"),ib="@firebase/app-compat",lb="@firebase/analytics-compat",cb="@firebase/analytics",db="@firebase/app-check-compat",ub="@firebase/app-check",hb="@firebase/auth",mb="@firebase/auth-compat",fb="@firebase/database",pb="@firebase/data-connect",gb="@firebase/database-compat",xb="@firebase/functions",yb="@firebase/functions-compat",vb="@firebase/installations",wb="@firebase/installations-compat",bb="@firebase/messaging",jb="@firebase/messaging-compat",Nb="@firebase/performance",Cb="@firebase/performance-compat",kb="@firebase/remote-config",Sb="@firebase/remote-config-compat",Eb="@firebase/storage",Ib="@firebase/storage-compat",_b="@firebase/firestore",Rb="@firebase/vertexai-preview",Ab="@firebase/firestore-compat",Tb="firebase",Pb="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="[DEFAULT]",Lb={[lc]:"fire-core",[ib]:"fire-core-compat",[cb]:"fire-analytics",[lb]:"fire-analytics-compat",[ub]:"fire-app-check",[db]:"fire-app-check-compat",[hb]:"fire-auth",[mb]:"fire-auth-compat",[fb]:"fire-rtdb",[pb]:"fire-data-connect",[gb]:"fire-rtdb-compat",[xb]:"fire-fn",[yb]:"fire-fn-compat",[vb]:"fire-iid",[wb]:"fire-iid-compat",[bb]:"fire-fcm",[jb]:"fire-fcm-compat",[Nb]:"fire-perf",[Cb]:"fire-perf-compat",[kb]:"fire-rc",[Sb]:"fire-rc-compat",[Eb]:"fire-gcs",[Ib]:"fire-gcs-compat",[_b]:"fire-fst",[Ab]:"fire-fst-compat",[Rb]:"fire-vertex","fire-js":"fire-js",[Tb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Map,Mb=new Map,dc=new Map;function hh(e,t){try{e.container.addComponent(t)}catch(r){lr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Qs(e){const t=e.name;if(dc.has(t))return lr.debug(`There were multiple attempts to register component ${t}.`),!1;dc.set(t,e);for(const r of Bo.values())hh(r,e);for(const r of Mb.values())hh(r,e);return!0}function zp(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Ut(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new la("app","Firebase",Ob);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t,r,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=Pb;function Wp(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:cc,automaticDataCollectionEnabled:!1},t),a=s.name;if(typeof a!="string"||!a)throw Pr.create("bad-app-name",{appName:String(a)});if(r||(r=Fp()),!r)throw Pr.create("no-options");const o=Bo.get(a);if(o){if(Fo(r,o.options)&&Fo(s,o.config))return o;throw Pr.create("duplicate-app",{appName:a})}const i=new Hw(a);for(const c of dc.values())i.addComponent(c);const l=new Db(r,s,i);return Bo.set(a,l),l}function Ub(e=cc){const t=Bo.get(e);if(!t&&e===cc&&Fp())return Wp();if(!t)throw Pr.create("no-app",{appName:e});return t}function Dn(e,t,r){var s;let a=(s=Lb[e])!==null&&s!==void 0?s:e;r&&(a+=`-${r}`);const o=a.match(/\s|\//),i=t.match(/\s|\//);if(o||i){const l=[`Unable to register library "${a}" with version "${t}":`];o&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&i&&l.push("and"),i&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),lr.warn(l.join(" "));return}Qs(new $o(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firebase-heartbeat-database",$b=1,Xs="firebase-heartbeat-store";let nl=null;function Vp(){return nl||(nl=rb(Fb,$b,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Xs)}catch(r){console.warn(r)}}}}).catch(e=>{throw Pr.create("idb-open",{originalErrorMessage:e.message})})),nl}async function Bb(e){try{const r=(await Vp()).transaction(Xs),s=await r.objectStore(Xs).get(Gp(e));return await r.done,s}catch(t){if(t instanceof Hr)lr.warn(t.message);else{const r=Pr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});lr.warn(r.message)}}}async function mh(e,t){try{const s=(await Vp()).transaction(Xs,"readwrite");await s.objectStore(Xs).put(t,Gp(e)),await s.done}catch(r){if(r instanceof Hr)lr.warn(r.message);else{const s=Pr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});lr.warn(s.message)}}}function Gp(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=1024,zb=30*24*60*60*1e3;class Wb{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Gb(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const l=new Date(i.date).valueOf();return Date.now()-l<=zb}),this._storage.overwrite(this._heartbeatsCache))}catch(s){lr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=fh(),{heartbeatsToSend:s,unsentEntries:a}=Vb(this._heartbeatsCache.heartbeats),o=Dp(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return lr.warn(r),""}}}function fh(){return new Date().toISOString().substring(0,10)}function Vb(e,t=Hb){const r=[];let s=e.slice();for(const a of e){const o=r.find(i=>i.agent===a.agent);if(o){if(o.dates.push(a.date),ph(r)>t){o.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),ph(r)>t){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class Gb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rw()?Aw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Bb(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return mh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return mh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function ph(e){return Dp(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(e){Qs(new $o("platform-logger",t=>new ab(t),"PRIVATE")),Qs(new $o("heartbeat",t=>new Wb(t),"PRIVATE")),Dn(lc,uh,e),Dn(lc,uh,"esm2017"),Dn("fire-js","")}Jb("");var qb="firebase",Kb="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(qb,Kb,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(xe||(xe={}));const Yb={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Qb=xe.INFO,Xb={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Zb=(e,t,...r)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=Xb[t];if(a)console[a](`[${s}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ej{constructor(t){this.name=t,this._logLevel=Qb,this._logHandler=Zb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Yb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...t),this._logHandler(this,xe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...t),this._logHandler(this,xe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...t),this._logHandler(this,xe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...t),this._logHandler(this,xe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...t),this._logHandler(this,xe.ERROR,...t)}}function Cd(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}class gh{constructor(t,r,s){this.name=t,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}function Jp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tj=Jp,qp=new la("auth","Firebase",Jp());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new ej("@firebase/auth");function rj(e,...t){Ho.logLevel<=xe.WARN&&Ho.warn(`Auth (${da}): ${e}`,...t)}function so(e,...t){Ho.logLevel<=xe.ERROR&&Ho.error(`Auth (${da}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(e,...t){throw Sd(e,...t)}function _t(e,...t){return Sd(e,...t)}function kd(e,t,r){const s=Object.assign(Object.assign({},tj()),{[t]:r});return new la("auth","Firebase",s).create(t,{appName:e.name})}function Lr(e){return kd(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nj(e,t,r){const s=r;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ht(e,"argument-error"),kd(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sd(e,...t){if(typeof e!="string"){const r=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(r,...s)}return qp.create(e,...t)}function re(e,t,...r){if(!e)throw Sd(t,...r)}function Xt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw so(t),new Error(t)}function cr(e,t){e||Xt(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function sj(){return xh()==="http:"||xh()==="https:"}function xh(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sj()||Ew()||"connection"in navigator)?navigator.onLine:!0}function oj(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t,r){this.shortDelay=t,this.longDelay=r,cr(r>t,"Short delay should be less than long delay!"),this.isMobile=kw()||Iw()}get(){return aj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(e,t){cr(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{static initialize(t,r,s){this.fetchImpl=t,r&&(this.headersImpl=r),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=new ua(3e4,6e4);function ha(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function zr(e,t,r,s,a={}){return Yp(e,a,async()=>{let o={},i={};s&&(t==="GET"?i=s:o={body:JSON.stringify(s)});const l=ca(Object.assign({key:e.config.apiKey},i)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const d=Object.assign({method:t,headers:c},o);return Sw()||(d.referrerPolicy="no-referrer"),Kp.fetch()(Xp(e,e.config.apiHost,r,l),d)})}async function Yp(e,t,r){e._canInitEmulator=!1;const s=Object.assign(Object.assign({},ij),t);try{const a=new dj(e),o=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw $a(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const l=o.ok?i.errorMessage:i.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw $a(e,"credential-already-in-use",i);if(c==="EMAIL_EXISTS")throw $a(e,"email-already-in-use",i);if(c==="USER_DISABLED")throw $a(e,"user-disabled",i);const u=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw kd(e,u,d);Ht(e,u)}}catch(a){if(a instanceof Hr)throw a;Ht(e,"network-request-failed",{message:String(a)})}}async function Qp(e,t,r,s,a={}){const o=await zr(e,t,r,s,a);return"mfaPendingCredential"in o&&Ht(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Xp(e,t,r,s){const a=`${t}${r}?${s}`;return e.config.emulator?Ed(e.config,a):`${e.config.apiScheme}://${a}`}function cj(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dj{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,s)=>{this.timer=setTimeout(()=>s(_t(this.auth,"network-request-failed")),lj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $a(e,t,r){const s={appName:e.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const a=_t(e,t,s);return a.customData._tokenResponse=r,a}function yh(e){return e!==void 0&&e.enterprise!==void 0}class uj{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return cj(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function hj(e,t){return zr(e,"GET","/v2/recaptchaConfig",ha(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(e,t){return zr(e,"POST","/v1/accounts:delete",t)}async function Zp(e,t){return zr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function fj(e,t=!1){const r=Wt(e),s=await r.getIdToken(t),a=Id(s);re(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:a,token:s,authTime:As(sl(a.auth_time)),issuedAtTime:As(sl(a.iat)),expirationTime:As(sl(a.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function sl(e){return Number(e)*1e3}function Id(e){const[t,r,s]=e.split(".");if(t===void 0||r===void 0||s===void 0)return so("JWT malformed, contained fewer than 3 sections"),null;try{const a=Up(r);return a?JSON.parse(a):(so("Failed to decode base64 JWT payload"),null)}catch(a){return so("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function vh(e){const t=Id(e);return re(t,"internal-error"),re(typeof t.exp<"u","internal-error"),re(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qn(e,t,r=!1){if(r)return t;try{return await t}catch(s){throw s instanceof Hr&&pj(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function pj({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=As(this.lastLoginAt),this.creationTime=As(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(e){var t;const r=e.auth,s=await e.getIdToken(),a=await qn(e,Zp(r,{idToken:s}));re(a==null?void 0:a.users.length,r,"internal-error");const o=a.users[0];e._notifyReloadListener(o);const i=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?eg(o.providerUserInfo):[],l=yj(e.providerData,i),c=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(l!=null&&l.length),u=c?d:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new hc(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,h)}async function xj(e){const t=Wt(e);await zo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yj(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function eg(e){return e.map(t=>{var{providerId:r}=t,s=Cd(t,["providerId"]);return{providerId:r,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(e,t){const r=await Yp(e,{},async()=>{const s=ca({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=e.config,i=Xp(e,a,"/v1/token",`key=${o}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Kp.fetch()(i,{method:"POST",headers:l,body:s})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function wj(e,t){return zr(e,"POST","/v2/accounts:revokeToken",ha(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){re(t.idToken,"internal-error"),re(typeof t.idToken<"u","internal-error"),re(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):vh(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){re(t.length!==0,"internal-error");const r=vh(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:s,refreshToken:a,expiresIn:o}=await vj(t,r);this.updateTokensAndExpiration(s,a,Number(o))}updateTokensAndExpiration(t,r,s){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,r){const{refreshToken:s,accessToken:a,expirationTime:o}=r,i=new Un;return s&&(re(typeof s=="string","internal-error",{appName:t}),i.refreshToken=s),a&&(re(typeof a=="string","internal-error",{appName:t}),i.accessToken=a),o&&(re(typeof o=="number","internal-error",{appName:t}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Un,this.toJSON())}_performRefresh(){return Xt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(e,t){re(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Zt{constructor(t){var{uid:r,auth:s,stsTokenManager:a}=t,o=Cd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hc(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const r=await qn(this,this.stsTokenManager.getToken(this.auth,t));return re(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return fj(this,t)}reload(){return xj(this)}_assign(t){this!==t&&(re(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Zt(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),r&&await zo(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ut(this.auth.app))return Promise.reject(Lr(this.auth));const t=await this.getIdToken();return await qn(this,mj(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var s,a,o,i,l,c,d,u;const h=(s=r.displayName)!==null&&s!==void 0?s:void 0,p=(a=r.email)!==null&&a!==void 0?a:void 0,g=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,f=(i=r.photoURL)!==null&&i!==void 0?i:void 0,b=(l=r.tenantId)!==null&&l!==void 0?l:void 0,w=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,m=(d=r.createdAt)!==null&&d!==void 0?d:void 0,y=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:j,isAnonymous:C,providerData:S,stsTokenManager:k}=r;re(v&&k,t,"internal-error");const E=Un.fromJSON(this.name,k);re(typeof v=="string",t,"internal-error"),fr(h,t.name),fr(p,t.name),re(typeof j=="boolean",t,"internal-error"),re(typeof C=="boolean",t,"internal-error"),fr(g,t.name),fr(f,t.name),fr(b,t.name),fr(w,t.name),fr(m,t.name),fr(y,t.name);const I=new Zt({uid:v,auth:t,email:p,emailVerified:j,displayName:h,isAnonymous:C,photoURL:f,phoneNumber:g,tenantId:b,stsTokenManager:E,createdAt:m,lastLoginAt:y});return S&&Array.isArray(S)&&(I.providerData=S.map(N=>Object.assign({},N))),w&&(I._redirectEventId=w),I}static async _fromIdTokenResponse(t,r,s=!1){const a=new Un;a.updateFromServerResponse(r);const o=new Zt({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await zo(o),o}static async _fromGetAccountInfoResponse(t,r,s){const a=r.users[0];re(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?eg(a.providerUserInfo):[],i=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),l=new Un;l.updateFromIdToken(s);const c=new Zt({uid:a.localId,auth:t,stsTokenManager:l,isAnonymous:i}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new hc(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map;function er(e){cr(e instanceof Function,"Expected a class definition");let t=wh.get(e);return t?(cr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,wh.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}tg.type="NONE";const bh=tg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(e,t,r){return`firebase:${e}:${t}:${r}`}class Fn{constructor(t,r,s){this.persistence=t,this.auth=r,this.userKey=s;const{config:a,name:o}=this.auth;this.fullUserKey=ao(this.userKey,a.apiKey,o),this.fullPersistenceKey=ao("persistence",a.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Zt._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,s="authUser"){if(!r.length)return new Fn(er(bh),t,s);const a=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||er(bh);const i=ao(s,t.config.apiKey,t.name);let l=null;for(const d of r)try{const u=await d._get(i);if(u){const h=Zt._fromJSON(t,u);d!==o&&(l=h),o=d;break}}catch{}const c=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Fn(o,t,s):(o=c[0],l&&await o._set(i,l.toJSON()),await Promise.all(r.map(async d=>{if(d!==o)try{await d._remove(i)}catch{}})),new Fn(o,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ag(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rg(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ig(t))return"Blackberry";if(lg(t))return"Webos";if(ng(t))return"Safari";if((t.includes("chrome/")||sg(t))&&!t.includes("edge/"))return"Chrome";if(og(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(r);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function rg(e=Ze()){return/firefox\//i.test(e)}function ng(e=Ze()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sg(e=Ze()){return/crios\//i.test(e)}function ag(e=Ze()){return/iemobile/i.test(e)}function og(e=Ze()){return/android/i.test(e)}function ig(e=Ze()){return/blackberry/i.test(e)}function lg(e=Ze()){return/webos/i.test(e)}function _d(e=Ze()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function bj(e=Ze()){var t;return _d(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function jj(){return _w()&&document.documentMode===10}function cg(e=Ze()){return _d(e)||og(e)||lg(e)||ig(e)||/windows phone/i.test(e)||ag(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(e,t=[]){let r;switch(e){case"Browser":r=jh(Ze());break;case"Worker":r=`${jh(Ze())}-${e}`;break;default:r=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${da}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const s=o=>new Promise((i,l)=>{try{const c=t(o);i(c)}catch(c){l(c)}});s.onAbort=r,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const s of this.queue)await s(t),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(e,t={}){return zr(e,"GET","/v2/passwordPolicy",ha(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=6;class Sj{constructor(t){var r,s,a,o;const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=i.minPasswordLength)!==null&&r!==void 0?r:kj,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,s,a,o,i,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsLowercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(i=c.containsNumericCharacter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(t,r){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(r.meetsMinPasswordLength=t.length>=s),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,r,s,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(t,r,s,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nh(this),this.idTokenSubscription=new Nh(this),this.beforeStateQueue=new Nj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=er(r)),this._initializationPromise=this.queue(async()=>{var s,a;if(!this._deleted&&(this.persistenceManager=await Fn.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await Zp(this,{idToken:t}),s=await Zt._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(s)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(Ut(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=a==null?void 0:a._redirectEventId,c=await this.tryRedirectSignIn(t);(!i||i===l)&&(c!=null&&c.user)&&(a=c.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(i){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await zo(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oj()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ut(this.app))return Promise.reject(Lr(this));const r=t?Wt(t):null;return r&&re(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&re(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ut(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ut(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Cj(this),r=new Sj(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new la("auth","Firebase",t())}onAuthStateChanged(t,r,s){return this.registerStateListener(this.authStateSubscription,t,r,s)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,s){return this.registerStateListener(this.idTokenSubscription,t,r,s)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(s.tenantId=this.tenantId),await wj(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const s=await this.getOrInitRedirectPersistenceManager(r);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&er(t)||this._popupRedirectResolver;re(r,this,"argument-error"),this.redirectPersistenceManager=await Fn.create(this,[er(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,s;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,s,a){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let i=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(l,this,"internal-error"),l.then(()=>{i||o(this.currentUser)}),typeof r=="function"){const c=t.addObserver(r,s,a);return()=>{i=!0,c()}}else{const c=t.addObserver(r);return()=>{i=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=dg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(r["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&rj(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function mn(e){return Wt(e)}class Nh{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ow(r=>this.observer=r)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ij(e){fi=e}function ug(e){return fi.loadJS(e)}function _j(){return fi.recaptchaEnterpriseScript}function Rj(){return fi.gapiScript}function Aj(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const Tj="recaptcha-enterprise",Pj="NO_RECAPTCHA";class Lj{constructor(t){this.type=Tj,this.auth=mn(t)}async verify(t="verify",r=!1){async function s(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(i,l)=>{hj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new uj(c);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,i(d.siteKey)}}).catch(c=>{l(c)})})}function a(o,i,l){const c=window.grecaptcha;yh(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:t}).then(d=>{i(d)}).catch(()=>{i(Pj)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,i)=>{s(this.auth).then(l=>{if(!r&&yh(window.grecaptcha))a(l,o,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let c=_j();c.length!==0&&(c+=l),ug(c).then(()=>{a(l,o,i)}).catch(d=>{i(d)})}}).catch(l=>{i(l)})})}}async function Ch(e,t,r,s=!1){const a=new Lj(e);let o;try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const i=Object.assign({},t);return s?Object.assign(i,{captchaResp:o}):Object.assign(i,{captchaResponse:o}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}async function Mj(e,t,r,s){var a;if(!((a=e._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ch(e,t,r,r==="getOobCode");return s(e,o)}else return s(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Ch(e,t,r,r==="getOobCode");return s(e,i)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(e,t){const r=zp(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),o=r.getOptions();if(Fo(o,t??{}))return a;Ht(a,"already-initialized")}return r.initialize({options:t})}function Dj(e,t){const r=(t==null?void 0:t.persistence)||[],s=(Array.isArray(r)?r:[r]).map(er);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function Uj(e,t,r){const s=mn(e);re(s._canInitEmulator,s,"emulator-config-failed"),re(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,o=hg(t),{host:i,port:l}=Fj(t),c=l===null?"":`:${l}`;s.config.emulator={url:`${o}//${i}${c}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:i,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})}),$j()}function hg(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Fj(e){const t=hg(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const s=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const o=a[1];return{host:o,port:kh(s.substr(o.length+1))}}else{const[o,i]=s.split(":");return{host:o,port:kh(i)}}}function kh(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function $j(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Xt("not implemented")}_getIdTokenResponse(t){return Xt("not implemented")}_linkToIdToken(t,r){return Xt("not implemented")}_getReauthenticationResolver(t){return Xt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $n(e,t){return Qp(e,"POST","/v1/accounts:signInWithIdp",ha(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="http://localhost";class ln extends mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new ln(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Ht("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a}=r,o=Cd(r,["providerId","signInMethod"]);if(!s||!a)return null;const i=new ln(s,a);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(t){const r=this.buildRequest();return $n(t,r)}_linkToIdToken(t,r){const s=this.buildRequest();return s.idToken=r,$n(t,s)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,$n(t,r)}buildRequest(){const t={requestUri:Bj,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=ca(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Rd{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends ma{constructor(){super("facebook.com")}static credential(t){return ln._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends ma{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return ln._fromParams({providerId:Kt.PROVIDER_ID,signInMethod:Kt.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Kt.credentialFromTaggedObject(t)}static credentialFromError(t){return Kt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:s}=t;if(!r&&!s)return null;try{return Kt.credential(r,s)}catch{return null}}}Kt.GOOGLE_SIGN_IN_METHOD="google.com";Kt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends ma{constructor(){super("github.com")}static credential(t){return ln._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends ma{constructor(){super("twitter.com")}static credential(t,r){return ln._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:s}=t;if(!r||!s)return null;try{return br.credential(r,s)}catch{return null}}}br.TWITTER_SIGN_IN_METHOD="twitter.com";br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(e,t){return Qp(e,"POST","/v1/accounts:signUp",ha(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,s,a=!1){const o=await Zt._fromIdTokenResponse(t,s,a),i=Sh(s);return new cn({user:o,providerId:i,_tokenResponse:s,operationType:r})}static async _forOperation(t,r,s){await t._updateTokensIfNecessary(s,!0);const a=Sh(s);return new cn({user:t,providerId:a,_tokenResponse:s,operationType:r})}}function Sh(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Hr{constructor(t,r,s,a){var o;super(r.code,r.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Wo.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,r,s,a){return new Wo(t,r,s,a)}}function fg(e,t,r,s){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Wo._fromErrorAndOperation(e,o,t,s):o})}async function zj(e,t,r=!1){const s=await qn(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return cn._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(e,t,r=!1){const{auth:s}=e;if(Ut(s.app))return Promise.reject(Lr(s));const a="reauthenticate";try{const o=await qn(e,fg(s,a,t,e),r);re(o.idToken,s,"internal-error");const i=Id(o.idToken);re(i,s,"internal-error");const{sub:l}=i;return re(e.uid===l,s,"user-mismatch"),cn._forOperation(e,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ht(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(e,t,r=!1){if(Ut(e.app))return Promise.reject(Lr(e));const s="signIn",a=await fg(e,s,t),o=await cn._fromIdTokenResponse(e,s,a);return r||await e._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(e){const t=mn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Jj(e,t,r){if(Ut(e.app))return Promise.reject(Lr(e));const s=mn(e),i=await Mj(s,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hj).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Gj(e),c}),l=await cn._fromIdTokenResponse(s,"signIn",i);return await s._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(e,t){return zr(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const s=Wt(e),o={idToken:await s.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},i=await qn(s,qj(s.auth,o));s.displayName=i.displayName||null,s.photoURL=i.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(e,t){return Wt(e).setPersistence(t)}function Qj(e,t,r,s){return Wt(e).onIdTokenChanged(t,r,s)}function Xj(e,t,r){return Wt(e).beforeAuthStateChanged(t,r)}function mc(e,t,r,s){return Wt(e).onAuthStateChanged(t,r,s)}function Zj(e){return Wt(e).signOut()}const Vo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Vo,"1"),this.storage.removeItem(Vo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=1e3,tN=10;class gg extends pg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cg(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const s=this.storage.getItem(r),a=this.localCache[r];s!==a&&t(r,a,s)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((i,l,c)=>{this.notifyListeners(i,c)});return}const s=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const i=this.storage.getItem(s);!r&&this.localCache[s]===i||this.notifyListeners(s,i)},o=this.storage.getItem(s);jj()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,tN):a()}notifyListeners(t,r){this.localCache[t]=r;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:s}),!0)})},eN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}gg.type="LOCAL";const xg=gg;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends pg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}yg.type="SESSION";const vg=yg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const s=new pi(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:s,eventType:a,data:o}=r.data,i=this.handlersMap[a];if(!(i!=null&&i.size))return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const l=Array.from(i).map(async d=>d(r.origin,o)),c=await rN(l);r.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:c})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pi.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(e="",t=10){let r="";for(let s=0;s<t;s++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,i;return new Promise((l,c)=>{const d=Ad("",20);a.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},s);i={messageChannel:a,onMessage(h){const p=h;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(p.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(i),a.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:t,eventId:d,data:r},[a.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return window}function sN(e){Bt().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(){return typeof Bt().WorkerGlobalScope<"u"&&typeof Bt().importScripts=="function"}async function aN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oN(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function iN(){return wg()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="firebaseLocalStorageDb",lN=1,Go="firebaseLocalStorage",jg="fbase_key";class fa{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function gi(e,t){return e.transaction([Go],t?"readwrite":"readonly").objectStore(Go)}function cN(){const e=indexedDB.deleteDatabase(bg);return new fa(e).toPromise()}function fc(){const e=indexedDB.open(bg,lN);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Go,{keyPath:jg})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Go)?t(s):(s.close(),await cN(),t(await fc()))})})}async function Eh(e,t,r){const s=gi(e,!0).put({[jg]:t,value:r});return new fa(s).toPromise()}async function dN(e,t){const r=gi(e,!1).get(t),s=await new fa(r).toPromise();return s===void 0?null:s.value}function Ih(e,t){const r=gi(e,!0).delete(t);return new fa(r).toPromise()}const uN=800,hN=3;class Ng{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fc(),this.db)}async _withRetries(t){let r=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(r++>hN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pi._getInstance(iN()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await aN(),!this.activeServiceWorker)return;this.sender=new nN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((r=s[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||oN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fc();return await Eh(t,Vo,"1"),await Ih(t,Vo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(s=>Eh(s,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(s=>dN(s,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ih(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=gi(a,!1).getAll();return new fa(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ng.type="LOCAL";const mN=Ng;new ua(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(e,t){return t?er(t):(re(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends mg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $n(t,this._buildIdpRequest())}_linkToIdToken(t,r){return $n(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return $n(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function fN(e){return Vj(e.auth,new Td(e),e.bypassAuthState)}function pN(e){const{auth:t,user:r}=e;return re(r,t,"internal-error"),Wj(r,new Td(e),e.bypassAuthState)}async function gN(e){const{auth:t,user:r}=e;return re(r,t,"internal-error"),zj(r,new Td(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(t,r,s,a,o=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:s,postBody:a,tenantId:o,error:i,type:l}=t;if(i){this.reject(i);return}const c={auth:this.auth,requestUri:r,sessionId:s,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fN;case"linkViaPopup":case"linkViaRedirect":return gN;case"reauthViaPopup":case"reauthViaRedirect":return pN;default:Ht(this.auth,"internal-error")}}resolve(t){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new ua(2e3,1e4);async function yN(e,t,r){if(Ut(e.app))return Promise.reject(_t(e,"operation-not-supported-in-this-environment"));const s=mn(e);nj(e,t,Rd);const a=Cg(s,r);return new Yr(s,"signInViaPopup",t,a).executeNotNull()}class Yr extends kg{constructor(t,r,s,a,o){super(t,r,a,o),this.provider=s,this.authWindow=null,this.pollId=null,Yr.currentPopupAction&&Yr.currentPopupAction.cancel(),Yr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return re(t,this.auth,"internal-error"),t}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const t=Ad();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(_t(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(_t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,s;if(!((s=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_t(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,xN.get())};t()}}Yr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="pendingRedirect",oo=new Map;class wN extends kg{constructor(t,r,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s),this.eventId=null}async execute(){let t=oo.get(this.auth._key());if(!t){try{const s=await bN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(r){t=()=>Promise.reject(r)}oo.set(this.auth._key(),t)}return this.bypassAuthState||oo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bN(e,t){const r=CN(t),s=NN(e);if(!await s._isAvailable())return!1;const a=await s._get(r)==="true";return await s._remove(r),a}function jN(e,t){oo.set(e._key(),t)}function NN(e){return er(e._redirectPersistence)}function CN(e){return ao(vN,e.config.apiKey,e.name)}async function kN(e,t,r=!1){if(Ut(e.app))return Promise.reject(Lr(e));const s=mn(e),a=Cg(s,t),i=await new wN(s,a,r).execute();return i&&!r&&(delete i.user._redirectEventId,await s._persistUserIfCurrent(i.user),await s._setRedirectUser(null,t)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=10*60*1e3;class EN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(r=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!IN(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var s;if(t.error&&!Sg(t)){const a=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";r.onError(_t(this.auth,a))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const s=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=SN&&this.cachedEventUids.clear(),this.cachedEventUids.has(_h(t))}saveEventToCache(t){this.cachedEventUids.add(_h(t)),this.lastProcessedEventTime=Date.now()}}function _h(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Sg({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function IN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sg(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(e,t={}){return zr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AN=/^https?/;async function TN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await _N(e);for(const r of t)try{if(PN(r))return}catch{}Ht(e,"unauthorized-domain")}function PN(e){const t=uc(),{protocol:r,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return i.hostname===""&&s===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&i.hostname===s}if(!AN.test(r))return!1;if(RN.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new ua(3e4,6e4);function Rh(){const e=Bt().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function MN(e){return new Promise((t,r)=>{var s,a,o;function i(){Rh(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Rh(),r(_t(e,"network-request-failed"))},timeout:LN.get()})}if(!((a=(s=Bt().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((o=Bt().gapi)===null||o===void 0)&&o.load)i();else{const l=Aj("iframefcb");return Bt()[l]=()=>{gapi.load?i():r(_t(e,"network-request-failed"))},ug(`${Rj()}?onload=${l}`).catch(c=>r(c))}}).catch(t=>{throw io=null,t})}let io=null;function ON(e){return io=io||MN(e),io}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new ua(5e3,15e3),UN="__/auth/iframe",FN="emulator/auth/iframe",$N={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HN(e){const t=e.config;re(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?Ed(t,FN):`https://${e.config.authDomain}/${UN}`,s={apiKey:t.apiKey,appName:e.name,v:da},a=BN.get(e.config.apiHost);a&&(s.eid=a);const o=e._getFrameworks();return o.length&&(s.fw=o.join(",")),`${r}?${ca(s).slice(1)}`}async function zN(e){const t=await ON(e),r=Bt().gapi;return re(r,e,"internal-error"),t.open({where:document.body,url:HN(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$N,dontclear:!0},s=>new Promise(async(a,o)=>{await s.restyle({setHideOnLeave:!1});const i=_t(e,"network-request-failed"),l=Bt().setTimeout(()=>{o(i)},DN.get());function c(){Bt().clearTimeout(l),a(s)}s.ping(c).then(c,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VN=500,GN=600,JN="_blank",qN="http://localhost";class Ah{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KN(e,t,r,s=VN,a=GN){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),i=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},WN),{width:s.toString(),height:a.toString(),top:o,left:i}),d=Ze().toLowerCase();r&&(l=sg(d)?JN:r),rg(d)&&(t=t||qN,c.scrollbars="yes");const u=Object.entries(c).reduce((p,[g,f])=>`${p}${g}=${f},`,"");if(bj(d)&&l!=="_self")return YN(t||"",l),new Ah(null);const h=window.open(t||"",l,u);re(h,e,"popup-blocked");try{h.focus()}catch{}return new Ah(h)}function YN(e,t){const r=document.createElement("a");r.href=e,r.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="__/auth/handler",XN="emulator/auth/handler",ZN=encodeURIComponent("fac");async function Th(e,t,r,s,a,o){re(e.config.authDomain,e,"auth-domain-config-required"),re(e.config.apiKey,e,"invalid-api-key");const i={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:s,v:da,eventId:a};if(t instanceof Rd){t.setDefaultLanguage(e.languageCode),i.providerId=t.providerId||"",Mw(t.getCustomParameters())||(i.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,h]of Object.entries({}))i[u]=h}if(t instanceof ma){const u=t.getScopes().filter(h=>h!=="");u.length>0&&(i.scopes=u.join(","))}e.tenantId&&(i.tid=e.tenantId);const l=i;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await e._getAppCheckToken(),d=c?`#${ZN}=${encodeURIComponent(c)}`:"";return`${e2(e)}?${ca(l).slice(1)}${d}`}function e2({config:e}){return e.emulator?Ed(e,XN):`https://${e.authDomain}/${QN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="webStorageSupport";class t2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vg,this._completeRedirectFn=kN,this._overrideRedirectResult=jN}async _openPopup(t,r,s,a){var o;cr((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Th(t,r,s,uc(),a);return KN(t,i,Ad())}async _openRedirect(t,r,s,a){await this._originValidation(t);const o=await Th(t,r,s,uc(),a);return sN(o),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:o}=this.eventManagers[r];return a?Promise.resolve(a):(cr(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(t);return this.eventManagers[r]={promise:s},s.catch(()=>{delete this.eventManagers[r]}),s}async initAndGetManager(t){const r=await zN(t),s=new EN(t);return r.register("authEvent",a=>(re(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=r,s}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(al,{type:al},a=>{var o;const i=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[al];i!==void 0&&r(!!i),Ht(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=TN(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return cg()||ng()||_d()}}const r2=t2;var Ph="@firebase/auth",Lh="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a2(e){Qs(new gh("auth",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:i,authDomain:l}=s.options;re(i&&!i.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:i,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dg(e)},d=new Ej(s,a,o,c);return Dj(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,s)=>{t.getProvider("auth-internal").initialize()})),Qs(new gh("auth-internal",t=>{const r=mn(t.getProvider("auth").getImmediate());return(s=>new n2(s))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(Ph,Lh,s2(e)),Dn(Ph,Lh,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=5*60,i2=$p("authIdTokenMaxAge")||o2;let Mh=null;const l2=e=>async t=>{const r=t&&await t.getIdTokenResult(),s=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(s&&s>i2)return;const a=r==null?void 0:r.token;Mh!==a&&(Mh=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function xi(e=Ub()){const t=zp(e,"auth");if(t.isInitialized())return t.getImmediate();const r=Oj(e,{popupRedirectResolver:r2,persistence:[mN,xg,vg]}),s=$p("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const i=l2(o.toString());Xj(r,i,()=>i(r.currentUser)),Qj(r,l=>i(l))}}const a=Nw("auth");return a&&Uj(r,`http://${a}`),r}function c2(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}Ij({loadJS(e){return new Promise((t,r)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const o=_t("internal-error");o.customData=a,r(o)},s.type="text/javascript",s.charset="UTF-8",c2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a2("Browser");const d2={apiKey:"AIzaSyCjpoH763y2GH4VDc181IUBaZHqE_ryZ1c",authDomain:"gofast-a5f94.firebaseapp.com",projectId:"gofast-a5f94",storageBucket:"gofast-a5f94.firebasestorage.app",messagingSenderId:"500941094498",appId:"1:500941094498:web:4008d94b89a9e3a4889b3b",measurementId:"G-CQ0GJCJLXX"},u2=Wp(d2),fe=xi(u2);Yj(fe,xg).catch(e=>{console.error("Failed to set auth persistence:",e)});const yi=new Kt;yi.setCustomParameters({prompt:"select_account"});yi.addScope("email");yi.addScope("profile");async function Pd(){try{console.log(" Firebase: Signing in user with Google...");const t=(await yN(fe,yi)).user;return console.log(" Firebase: User signed in"),console.log(" Email:",t.email),console.log(" UID:",t.uid),{uid:t.uid,email:t.email,name:t.displayName,photoURL:t.photoURL}}catch(e){throw console.error(" Firebase: Sign-in error:",e),e}}function h2(){return fe.currentUser}const m2=()=>{const e=ce(),[t,r]=x.useState(!0),[s,a]=x.useState(!1);return x.useEffect(()=>{const o=fe.onAuthStateChanged(i=>{a(!!i),r(!1)});return()=>o()},[]),x.useEffect(()=>{if(!t){const o=setTimeout(()=>{e(s?"/athlete-welcome":"/athletesignup")},2e3);return()=>clearTimeout(o)}},[t,s,e]),t?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center",children:n.jsx("div",{className:"animate-pulse",children:n.jsx("div",{className:"w-16 h-16 bg-white rounded-full mx-auto mb-4"})})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center",children:n.jsx("div",{className:"animate-fade-in",children:n.jsx("img",{src:"/logo.jpg",alt:"GoFast Logo",className:"w-48 h-48 rounded-full shadow-2xl mx-auto"})})})};function Eg(e,t){return function(){return e.apply(t,arguments)}}const{toString:f2}=Object.prototype,{getPrototypeOf:Ld}=Object,{iterator:vi,toStringTag:Ig}=Symbol,wi=(e=>t=>{const r=f2.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Pt=e=>(e=e.toLowerCase(),t=>wi(t)===e),bi=e=>t=>typeof t===e,{isArray:ns}=Array,Kn=bi("undefined");function pa(e){return e!==null&&!Kn(e)&&e.constructor!==null&&!Kn(e.constructor)&&lt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _g=Pt("ArrayBuffer");function p2(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_g(e.buffer),t}const g2=bi("string"),lt=bi("function"),Rg=bi("number"),ga=e=>e!==null&&typeof e=="object",x2=e=>e===!0||e===!1,lo=e=>{if(wi(e)!=="object")return!1;const t=Ld(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ig in e)&&!(vi in e)},y2=e=>{if(!ga(e)||pa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},v2=Pt("Date"),w2=Pt("File"),b2=Pt("Blob"),j2=Pt("FileList"),N2=e=>ga(e)&&lt(e.pipe),C2=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||lt(e.append)&&((t=wi(e))==="formdata"||t==="object"&&lt(e.toString)&&e.toString()==="[object FormData]"))},k2=Pt("URLSearchParams"),[S2,E2,I2,_2]=["ReadableStream","Request","Response","Headers"].map(Pt),R2=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xa(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),ns(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(pa(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(s=0;s<i;s++)l=o[s],t.call(null,e[l],l,e)}}function Ag(e,t){if(pa(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const Qr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tg=e=>!Kn(e)&&e!==Qr;function pc(){const{caseless:e,skipUndefined:t}=Tg(this)&&this||{},r={},s=(a,o)=>{const i=e&&Ag(r,o)||o;lo(r[i])&&lo(a)?r[i]=pc(r[i],a):lo(a)?r[i]=pc({},a):ns(a)?r[i]=a.slice():(!t||!Kn(a))&&(r[i]=a)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&xa(arguments[a],s);return r}const A2=(e,t,r,{allOwnKeys:s}={})=>(xa(t,(a,o)=>{r&&lt(a)?e[o]=Eg(a,r):e[o]=a},{allOwnKeys:s}),e),T2=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),P2=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},L2=(e,t,r,s)=>{let a,o,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!s||s(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&Ld(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},M2=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},O2=e=>{if(!e)return null;if(ns(e))return e;let t=e.length;if(!Rg(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},D2=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ld(Uint8Array)),U2=(e,t)=>{const s=(e&&e[vi]).call(e);let a;for(;(a=s.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},F2=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},$2=Pt("HTMLFormElement"),B2=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),Oh=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),H2=Pt("RegExp"),Pg=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};xa(r,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(s[o]=i||a)}),Object.defineProperties(e,s)},z2=e=>{Pg(e,(t,r)=>{if(lt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(lt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},W2=(e,t)=>{const r={},s=a=>{a.forEach(o=>{r[o]=!0})};return ns(e)?s(e):s(String(e).split(t)),r},V2=()=>{},G2=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function J2(e){return!!(e&&lt(e.append)&&e[Ig]==="FormData"&&e[vi])}const q2=e=>{const t=new Array(10),r=(s,a)=>{if(ga(s)){if(t.indexOf(s)>=0)return;if(pa(s))return s;if(!("toJSON"in s)){t[a]=s;const o=ns(s)?[]:{};return xa(s,(i,l)=>{const c=r(i,a+1);!Kn(c)&&(o[l]=c)}),t[a]=void 0,o}}return s};return r(e,0)},K2=Pt("AsyncFunction"),Y2=e=>e&&(ga(e)||lt(e))&&lt(e.then)&&lt(e.catch),Lg=((e,t)=>e?setImmediate:t?((r,s)=>(Qr.addEventListener("message",({source:a,data:o})=>{a===Qr&&o===r&&s.length&&s.shift()()},!1),a=>{s.push(a),Qr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",lt(Qr.postMessage)),Q2=typeof queueMicrotask<"u"?queueMicrotask.bind(Qr):typeof process<"u"&&process.nextTick||Lg,X2=e=>e!=null&&lt(e[vi]),_={isArray:ns,isArrayBuffer:_g,isBuffer:pa,isFormData:C2,isArrayBufferView:p2,isString:g2,isNumber:Rg,isBoolean:x2,isObject:ga,isPlainObject:lo,isEmptyObject:y2,isReadableStream:S2,isRequest:E2,isResponse:I2,isHeaders:_2,isUndefined:Kn,isDate:v2,isFile:w2,isBlob:b2,isRegExp:H2,isFunction:lt,isStream:N2,isURLSearchParams:k2,isTypedArray:D2,isFileList:j2,forEach:xa,merge:pc,extend:A2,trim:R2,stripBOM:T2,inherits:P2,toFlatObject:L2,kindOf:wi,kindOfTest:Pt,endsWith:M2,toArray:O2,forEachEntry:U2,matchAll:F2,isHTMLForm:$2,hasOwnProperty:Oh,hasOwnProp:Oh,reduceDescriptors:Pg,freezeMethods:z2,toObjectSet:W2,toCamelCase:B2,noop:V2,toFiniteNumber:G2,findKey:Ag,global:Qr,isContextDefined:Tg,isSpecCompliantForm:J2,toJSONObject:q2,isAsyncFn:K2,isThenable:Y2,setImmediate:Lg,asap:Q2,isIterable:X2};function se(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}_.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const Mg=se.prototype,Og={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Og[e]={value:e}});Object.defineProperties(se,Og);Object.defineProperty(Mg,"isAxiosError",{value:!0});se.from=(e,t,r,s,a,o)=>{const i=Object.create(Mg);_.toFlatObject(e,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return se.call(i,l,c,r,s,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const Z2=null;function gc(e){return _.isPlainObject(e)||_.isArray(e)}function Dg(e){return _.endsWith(e,"[]")?e.slice(0,-2):e}function Dh(e,t,r){return e?e.concat(t).map(function(a,o){return a=Dg(a),!r&&o?"["+a+"]":a}).join(r?".":""):t}function e1(e){return _.isArray(e)&&!e.some(gc)}const t1=_.toFlatObject(_,{},null,function(t){return/^is[A-Z]/.test(t)});function ji(e,t,r){if(!_.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=_.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!_.isUndefined(w[b])});const s=r.metaTokens,a=r.visitor||u,o=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(t);if(!_.isFunction(a))throw new TypeError("visitor must be a function");function d(f){if(f===null)return"";if(_.isDate(f))return f.toISOString();if(_.isBoolean(f))return f.toString();if(!c&&_.isBlob(f))throw new se("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(f)||_.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,b,w){let m=f;if(f&&!w&&typeof f=="object"){if(_.endsWith(b,"{}"))b=s?b:b.slice(0,-2),f=JSON.stringify(f);else if(_.isArray(f)&&e1(f)||(_.isFileList(f)||_.endsWith(b,"[]"))&&(m=_.toArray(f)))return b=Dg(b),m.forEach(function(v,j){!(_.isUndefined(v)||v===null)&&t.append(i===!0?Dh([b],j,o):i===null?b:b+"[]",d(v))}),!1}return gc(f)?!0:(t.append(Dh(w,b,o),d(f)),!1)}const h=[],p=Object.assign(t1,{defaultVisitor:u,convertValue:d,isVisitable:gc});function g(f,b){if(!_.isUndefined(f)){if(h.indexOf(f)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(f),_.forEach(f,function(m,y){(!(_.isUndefined(m)||m===null)&&a.call(t,m,_.isString(y)?y.trim():y,b,p))===!0&&g(m,b?b.concat(y):[y])}),h.pop()}}if(!_.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Uh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Md(e,t){this._pairs=[],e&&ji(e,this,t)}const Ug=Md.prototype;Ug.append=function(t,r){this._pairs.push([t,r])};Ug.toString=function(t){const r=t?function(s){return t.call(this,s,Uh)}:Uh;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function r1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Fg(e,t,r){if(!t)return e;const s=r&&r.encode||r1;_.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(t,r):o=_.isURLSearchParams(t)?t.toString():new Md(t,r).toString(s),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Fh{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_.forEach(this.handlers,function(s){s!==null&&t(s)})}}const $g={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},n1=typeof URLSearchParams<"u"?URLSearchParams:Md,s1=typeof FormData<"u"?FormData:null,a1=typeof Blob<"u"?Blob:null,o1={isBrowser:!0,classes:{URLSearchParams:n1,FormData:s1,Blob:a1},protocols:["http","https","file","blob","url","data"]},Od=typeof window<"u"&&typeof document<"u",xc=typeof navigator=="object"&&navigator||void 0,i1=Od&&(!xc||["ReactNative","NativeScript","NS"].indexOf(xc.product)<0),l1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",c1=Od&&window.location.href||"http://localhost",d1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Od,hasStandardBrowserEnv:i1,hasStandardBrowserWebWorkerEnv:l1,navigator:xc,origin:c1},Symbol.toStringTag,{value:"Module"})),Ke={...d1,...o1};function u1(e,t){return ji(e,new Ke.classes.URLSearchParams,{visitor:function(r,s,a,o){return Ke.isNode&&_.isBuffer(r)?(this.append(s,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function h1(e){return _.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function m1(e){const t={},r=Object.keys(e);let s;const a=r.length;let o;for(s=0;s<a;s++)o=r[s],t[o]=e[o];return t}function Bg(e){function t(r,s,a,o){let i=r[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=r.length;return i=!i&&_.isArray(a)?a.length:i,c?(_.hasOwnProp(a,i)?a[i]=[a[i],s]:a[i]=s,!l):((!a[i]||!_.isObject(a[i]))&&(a[i]=[]),t(r,s,a[i],o)&&_.isArray(a[i])&&(a[i]=m1(a[i])),!l)}if(_.isFormData(e)&&_.isFunction(e.entries)){const r={};return _.forEachEntry(e,(s,a)=>{t(h1(s),a,r,0)}),r}return null}function f1(e,t,r){if(_.isString(e))try{return(t||JSON.parse)(e),_.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const ya={transitional:$g,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,o=_.isObject(t);if(o&&_.isHTMLForm(t)&&(t=new FormData(t)),_.isFormData(t))return a?JSON.stringify(Bg(t)):t;if(_.isArrayBuffer(t)||_.isBuffer(t)||_.isStream(t)||_.isFile(t)||_.isBlob(t)||_.isReadableStream(t))return t;if(_.isArrayBufferView(t))return t.buffer;if(_.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return u1(t,this.formSerializer).toString();if((l=_.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ji(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),f1(t)):t}],transformResponse:[function(t){const r=this.transitional||ya.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(_.isResponse(t)||_.isReadableStream(t))return t;if(t&&_.isString(t)&&(s&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?se.from(l,se.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ke.classes.FormData,Blob:Ke.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],e=>{ya.headers[e]={}});const p1=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),g1=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),s=i.substring(a+1).trim(),!(!r||t[r]&&p1[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},$h=Symbol("internals");function gs(e){return e&&String(e).trim().toLowerCase()}function co(e){return e===!1||e==null?e:_.isArray(e)?e.map(co):String(e)}function x1(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const y1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ol(e,t,r,s,a){if(_.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!_.isString(t)){if(_.isString(s))return t.indexOf(s)!==-1;if(_.isRegExp(s))return s.test(t)}}function v1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function w1(e,t){const r=_.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,o,i){return this[s].call(this,t,a,o,i)},configurable:!0})})}let ct=class{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function o(l,c,d){const u=gs(c);if(!u)throw new Error("header name must be a non-empty string");const h=_.findKey(a,u);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||c]=co(l))}const i=(l,c)=>_.forEach(l,(d,u)=>o(d,u,c));if(_.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(_.isString(t)&&(t=t.trim())&&!y1(t))i(g1(t),r);else if(_.isObject(t)&&_.isIterable(t)){let l={},c,d;for(const u of t){if(!_.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?_.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,r)}else t!=null&&o(r,t,s);return this}get(t,r){if(t=gs(t),t){const s=_.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return x1(a);if(_.isFunction(r))return r.call(this,a,s);if(_.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=gs(t),t){const s=_.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||ol(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function o(i){if(i=gs(i),i){const l=_.findKey(s,i);l&&(!r||ol(s,s[l],l,r))&&(delete s[l],a=!0)}}return _.isArray(t)?t.forEach(o):o(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const o=r[s];(!t||ol(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const r=this,s={};return _.forEach(this,(a,o)=>{const i=_.findKey(s,o);if(i){r[i]=co(a),delete r[o];return}const l=t?v1(o):String(o).trim();l!==o&&delete r[o],r[l]=co(a),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return _.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&_.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[$h]=this[$h]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=gs(i);s[l]||(w1(a,i),s[l]=!0)}return _.isArray(t)?t.forEach(o):o(t),this}};ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(ct.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});_.freezeMethods(ct);function il(e,t){const r=this||ya,s=t||r,a=ct.from(s.headers);let o=s.data;return _.forEach(e,function(l){o=l.call(r,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function Hg(e){return!!(e&&e.__CANCEL__)}function ss(e,t,r){se.call(this,e??"canceled",se.ERR_CANCELED,t,r),this.name="CanceledError"}_.inherits(ss,se,{__CANCEL__:!0});function zg(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new se("Request failed with status code "+r.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function b1(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function j1(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[o];i||(i=d),r[a]=c,s[a]=d;let h=o,p=0;for(;h!==a;)p+=r[h++],h=h%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),d-i<t)return;const g=u&&d-u;return g?Math.round(p*1e3/g):void 0}}function N1(e,t){let r=0,s=1e3/t,a,o;const i=(d,u=Date.now())=>{r=u,a=null,o&&(clearTimeout(o),o=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-r;h>=s?i(d,u):(a=d,o||(o=setTimeout(()=>{o=null,i(a)},s-h)))},()=>a&&i(a)]}const Jo=(e,t,r=3)=>{let s=0;const a=j1(50,250);return N1(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-s,d=a(c),u=i<=l;s=i;const h={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},Bh=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},Hh=e=>(...t)=>_.asap(()=>e(...t)),C1=Ke.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ke.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ke.origin),Ke.navigator&&/(msie|trident)/i.test(Ke.navigator.userAgent)):()=>!0,k1=Ke.hasStandardBrowserEnv?{write(e,t,r,s,a,o,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];_.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),_.isString(s)&&l.push(`path=${s}`),_.isString(a)&&l.push(`domain=${a}`),o===!0&&l.push("secure"),_.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function S1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function E1(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Wg(e,t,r){let s=!S1(t);return e&&(s||r==!1)?E1(e,t):t}const zh=e=>e instanceof ct?{...e}:e;function dn(e,t){t=t||{};const r={};function s(d,u,h,p){return _.isPlainObject(d)&&_.isPlainObject(u)?_.merge.call({caseless:p},d,u):_.isPlainObject(u)?_.merge({},u):_.isArray(u)?u.slice():u}function a(d,u,h,p){if(_.isUndefined(u)){if(!_.isUndefined(d))return s(void 0,d,h,p)}else return s(d,u,h,p)}function o(d,u){if(!_.isUndefined(u))return s(void 0,u)}function i(d,u){if(_.isUndefined(u)){if(!_.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,h){if(h in t)return s(d,u);if(h in e)return s(void 0,d)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,h)=>a(zh(d),zh(u),h,!0)};return _.forEach(Object.keys({...e,...t}),function(u){const h=c[u]||a,p=h(e[u],t[u],u);_.isUndefined(p)&&h!==l||(r[u]=p)}),r}const Vg=e=>{const t=dn({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=ct.from(i),t.url=Fg(Wg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),_.isFormData(r)){if(Ke.hasStandardBrowserEnv||Ke.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(_.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,h])=>{d.includes(u.toLowerCase())&&i.set(u,h)})}}if(Ke.hasStandardBrowserEnv&&(s&&_.isFunction(s)&&(s=s(t)),s||s!==!1&&C1(t.url))){const c=a&&o&&k1.read(o);c&&i.set(a,c)}return t},I1=typeof XMLHttpRequest<"u",_1=I1&&function(e){return new Promise(function(r,s){const a=Vg(e);let o=a.data;const i=ct.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,h,p,g,f;function b(){g&&g(),f&&f(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function m(){if(!w)return;const v=ct.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:v,config:e,request:w};zg(function(k){r(k),b()},function(k){s(k),b()},C),w=null}"onloadend"in w?w.onloadend=m:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(m)},w.onabort=function(){w&&(s(new se("Request aborted",se.ECONNABORTED,e,w)),w=null)},w.onerror=function(j){const C=j&&j.message?j.message:"Network Error",S=new se(C,se.ERR_NETWORK,e,w);S.event=j||null,s(S),w=null},w.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||$g;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),s(new se(j,C.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,w)),w=null},o===void 0&&i.setContentType(null),"setRequestHeader"in w&&_.forEach(i.toJSON(),function(j,C){w.setRequestHeader(C,j)}),_.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),l&&l!=="json"&&(w.responseType=a.responseType),d&&([p,f]=Jo(d,!0),w.addEventListener("progress",p)),c&&w.upload&&([h,g]=Jo(c),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(u=v=>{w&&(s(!v||v.type?new ss(null,e,w):v),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=b1(a.url);if(y&&Ke.protocols.indexOf(y)===-1){s(new se("Unsupported protocol "+y+":",se.ERR_BAD_REQUEST,e));return}w.send(o||null)})},R1=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const o=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof se?u:new ss(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,o(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),e=null)};e.forEach(d=>d.addEventListener("abort",o));const{signal:c}=s;return c.unsubscribe=()=>_.asap(l),c}},A1=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},T1=async function*(e,t){for await(const r of P1(e))yield*A1(r,t)},P1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},Wh=(e,t,r,s)=>{const a=T1(e,t);let o=0,i,l=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let h=u.byteLength;if(r){let p=o+=h;r(p)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Vh=64*1024,{isFunction:Ba}=_,L1=(({Request:e,Response:t})=>({Request:e,Response:t}))(_.global),{ReadableStream:Gh,TextEncoder:Jh}=_.global,qh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},M1=e=>{e=_.merge.call({skipUndefined:!0},L1,e);const{fetch:t,Request:r,Response:s}=e,a=t?Ba(t):typeof fetch=="function",o=Ba(r),i=Ba(s);if(!a)return!1;const l=a&&Ba(Gh),c=a&&(typeof Jh=="function"?(f=>b=>f.encode(b))(new Jh):async f=>new Uint8Array(await new r(f).arrayBuffer())),d=o&&l&&qh(()=>{let f=!1;const b=new r(Ke.origin,{body:new Gh,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!b}),u=i&&l&&qh(()=>_.isReadableStream(new s("").body)),h={stream:u&&(f=>f.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!h[f]&&(h[f]=(b,w)=>{let m=b&&b[f];if(m)return m.call(b);throw new se(`Response type '${f}' is not supported`,se.ERR_NOT_SUPPORT,w)})});const p=async f=>{if(f==null)return 0;if(_.isBlob(f))return f.size;if(_.isSpecCompliantForm(f))return(await new r(Ke.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(_.isArrayBufferView(f)||_.isArrayBuffer(f))return f.byteLength;if(_.isURLSearchParams(f)&&(f=f+""),_.isString(f))return(await c(f)).byteLength},g=async(f,b)=>{const w=_.toFiniteNumber(f.getContentLength());return w??p(b)};return async f=>{let{url:b,method:w,data:m,signal:y,cancelToken:v,timeout:j,onDownloadProgress:C,onUploadProgress:S,responseType:k,headers:E,withCredentials:I="same-origin",fetchOptions:N}=Vg(f),P=t||fetch;k=k?(k+"").toLowerCase():"text";let O=R1([y,v&&v.toAbortSignal()],j),D=null;const Q=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let X;try{if(S&&d&&w!=="get"&&w!=="head"&&(X=await g(E,m))!==0){let ee=new r(b,{method:"POST",body:m,duplex:"half"}),te;if(_.isFormData(m)&&(te=ee.headers.get("content-type"))&&E.setContentType(te),ee.body){const[ye,F]=Bh(X,Jo(Hh(S)));m=Wh(ee.body,Vh,ye,F)}}_.isString(I)||(I=I?"include":"omit");const K=o&&"credentials"in r.prototype,ae={...N,signal:O,method:w.toUpperCase(),headers:E.normalize().toJSON(),body:m,duplex:"half",credentials:K?I:void 0};D=o&&new r(b,ae);let L=await(o?P(D,N):P(b,ae));const V=u&&(k==="stream"||k==="response");if(u&&(C||V&&Q)){const ee={};["status","statusText","headers"].forEach(G=>{ee[G]=L[G]});const te=_.toFiniteNumber(L.headers.get("content-length")),[ye,F]=C&&Bh(te,Jo(Hh(C),!0))||[];L=new s(Wh(L.body,Vh,ye,()=>{F&&F(),Q&&Q()}),ee)}k=k||"text";let J=await h[_.findKey(h,k)||"text"](L,f);return!V&&Q&&Q(),await new Promise((ee,te)=>{zg(ee,te,{data:J,headers:ct.from(L.headers),status:L.status,statusText:L.statusText,config:f,request:D})})}catch(K){throw Q&&Q(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,f,D),{cause:K.cause||K}):se.from(K,K&&K.code,f,D)}}},O1=new Map,Gg=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:a}=t,o=[s,a,r];let i=o.length,l=i,c,d,u=O1;for(;l--;)c=o[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:M1(t)),u=d;return d};Gg();const Dd={http:Z2,xhr:_1,fetch:{get:Gg}};_.forEach(Dd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Kh=e=>`- ${e}`,D1=e=>_.isFunction(e)||e===null||e===!1;function U1(e,t){e=_.isArray(e)?e:[e];const{length:r}=e;let s,a;const o={};for(let i=0;i<r;i++){s=e[i];let l;if(a=s,!D1(s)&&(a=Dd[(l=String(s)).toLowerCase()],a===void 0))throw new se(`Unknown adapter '${l}'`);if(a&&(_.isFunction(a)||(a=a.get(t))))break;o[l||"#"+i]=a}if(!a){const i=Object.entries(o).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(Kh).join(`
`):" "+Kh(i[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const Jg={getAdapter:U1,adapters:Dd};function ll(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ss(null,e)}function Yh(e){return ll(e),e.headers=ct.from(e.headers),e.data=il.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Jg.getAdapter(e.adapter||ya.adapter,e)(e).then(function(s){return ll(e),s.data=il.call(e,e.transformResponse,s),s.headers=ct.from(s.headers),s},function(s){return Hg(s)||(ll(e),s&&s.response&&(s.response.data=il.call(e,e.transformResponse,s.response),s.response.headers=ct.from(s.response.headers))),Promise.reject(s)})}const qg="1.13.0",Ni={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ni[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Qh={};Ni.transitional=function(t,r,s){function a(o,i){return"[Axios v"+qg+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,l)=>{if(t===!1)throw new se(a(i," has been removed"+(r?" in "+r:"")),se.ERR_DEPRECATED);return r&&!Qh[i]&&(Qh[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,i,l):!0}};Ni.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function F1(e,t,r){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const o=s[a],i=t[o];if(i){const l=e[o],c=l===void 0||i(l,o,e);if(c!==!0)throw new se("option "+o+" must be "+c,se.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new se("Unknown option "+o,se.ERR_BAD_OPTION)}}const uo={assertOptions:F1,validators:Ni},Mt=uo.validators;let en=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Fh,response:new Fh}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=dn(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:o}=r;s!==void 0&&uo.assertOptions(s,{silentJSONParsing:Mt.transitional(Mt.boolean),forcedJSONParsing:Mt.transitional(Mt.boolean),clarifyTimeoutError:Mt.transitional(Mt.boolean)},!1),a!=null&&(_.isFunction(a)?r.paramsSerializer={serialize:a}:uo.assertOptions(a,{encode:Mt.function,serialize:Mt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),uo.assertOptions(r,{baseUrl:Mt.spelling("baseURL"),withXsrfToken:Mt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&_.merge(o.common,o[r.method]);o&&_.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),r.headers=ct.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let u,h=0,p;if(!c){const f=[Yh.bind(this),void 0];for(f.unshift(...l),f.push(...d),p=f.length,u=Promise.resolve(r);h<p;)u=u.then(f[h++],f[h++]);return u}p=l.length;let g=r;for(;h<p;){const f=l[h++],b=l[h++];try{g=f(g)}catch(w){b.call(this,w);break}}try{u=Yh.call(this,g)}catch(f){return Promise.reject(f)}for(h=0,p=d.length;h<p;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=dn(this.defaults,t);const r=Wg(t.baseURL,t.url,t.allowAbsoluteUrls);return Fg(r,t.params,t.paramsSerializer)}};_.forEach(["delete","get","head","options"],function(t){en.prototype[t]=function(r,s){return this.request(dn(s||{},{method:t,url:r,data:(s||{}).data}))}});_.forEach(["post","put","patch"],function(t){function r(s){return function(o,i,l){return this.request(dn(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}en.prototype[t]=r(),en.prototype[t+"Form"]=r(!0)});let $1=class Kg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const s=this;this.promise.then(a=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](a);s._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{s.subscribe(l),o=l}).then(a);return i.cancel=function(){s.unsubscribe(o)},i},t(function(o,i,l){s.reason||(s.reason=new ss(o,i,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Kg(function(a){t=a}),cancel:t}}};function B1(e){return function(r){return e.apply(null,r)}}function H1(e){return _.isObject(e)&&e.isAxiosError===!0}const yc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(yc).forEach(([e,t])=>{yc[t]=e});function Yg(e){const t=new en(e),r=Eg(en.prototype.request,t);return _.extend(r,en.prototype,t,{allOwnKeys:!0}),_.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return Yg(dn(e,a))},r}const Te=Yg(ya);Te.Axios=en;Te.CanceledError=ss;Te.CancelToken=$1;Te.isCancel=Hg;Te.VERSION=qg;Te.toFormData=ji;Te.AxiosError=se;Te.Cancel=Te.CanceledError;Te.all=function(t){return Promise.all(t)};Te.spread=B1;Te.isAxiosError=H1;Te.mergeConfig=dn;Te.AxiosHeaders=ct;Te.formToJSON=e=>Bg(_.isHTMLForm(e)?new FormData(e):e);Te.getAdapter=Jg.getAdapter;Te.HttpStatusCode=yc;Te.default=Te;const{Axios:Lk,AxiosError:Mk,CanceledError:Ok,isCancel:Dk,CancelToken:Uk,VERSION:Fk,all:$k,Cancel:Bk,isAxiosError:Hk,spread:zk,toFormData:Wk,AxiosHeaders:Vk,HttpStatusCode:Gk,formToJSON:Jk,getAdapter:qk,mergeConfig:Kk}=Te,z1="https://gofastbackendv2-fall2025.onrender.com/api",ie=Te.create({baseURL:z1,timeout:1e4,headers:{"Content-Type":"application/json"}});ie.interceptors.request.use(async e=>{const r=xi().currentUser;if(r)try{const s=await r.getIdToken();e.headers.Authorization=`Bearer ${s}`}catch(s){console.error(" Failed to get Firebase token:",s)}return console.log(" API Request:",e.method.toUpperCase(),e.url,e.data),e},e=>(console.error(" API Request Error:",e),Promise.reject(e)));ie.interceptors.response.use(e=>(console.log(" API Response:",e.status,e.data),e),async e=>{var t,r,s,a;if(console.error(" API Error:",(t=e.response)==null?void 0:t.status,((r=e.response)==null?void 0:r.data)||e.message),((s=e.response)==null?void 0:s.status)===401){const o=(a=e.response)==null?void 0:a.data,l=xi().currentUser;if(((o==null?void 0:o.code)==="TOKEN_EXPIRED"||o!=null&&o.shouldRefresh)&&(console.log(" Token expired, attempting refresh..."),l))try{const c=await l.getIdToken(!0);console.log(" Token refreshed, retrying request...");const d=e.config;return d.headers.Authorization=`Bearer ${c}`,ie.request(d)}catch(c){console.error(" Token refresh failed:",c)}console.warn(" 401 Unauthorized - Component should handle navigation")}return Promise.reject(e)});const ne={athleteProfile:"athleteProfile",athleteId:"athleteId",MyCrew:"MyCrew",MyCrewManagerId:"MyCrewManagerId",runCrewId:"runCrewId",runCrewManagerId:"runCrewManagerId",runCrewData:"runCrewData",runCrewMemberships:"runCrewMemberships",runCrewManagers:"runCrewManagers",weeklyActivities:"weeklyActivities",weeklyTotals:"weeklyTotals",hydrationVersion:"hydrationVersion"},B={setAthleteProfile:e=>{e?localStorage.setItem(ne.athleteProfile,JSON.stringify(e)):localStorage.removeItem(ne.athleteProfile)},getAthleteProfile:()=>{const e=localStorage.getItem(ne.athleteProfile);return e?JSON.parse(e):null},setAthleteId:e=>{e?localStorage.setItem(ne.athleteId,e):localStorage.removeItem(ne.athleteId)},getAthleteId:()=>localStorage.getItem(ne.athleteId),setRunCrewId:e=>{e?localStorage.setItem(ne.runCrewId,e):localStorage.removeItem(ne.runCrewId)},getRunCrewId:()=>localStorage.getItem(ne.runCrewId),setRunCrewManagerId:e=>{e?localStorage.setItem(ne.runCrewManagerId,e):localStorage.removeItem(ne.runCrewManagerId)},getRunCrewManagerId:()=>localStorage.getItem(ne.runCrewManagerId),setRunCrewData:e=>{e?localStorage.setItem(ne.runCrewData,JSON.stringify(e)):localStorage.removeItem(ne.runCrewData)},getRunCrewData:()=>{const e=localStorage.getItem(ne.runCrewData);return e?JSON.parse(e):null},clearRunCrewData:()=>{localStorage.removeItem(ne.runCrewData),localStorage.removeItem(ne.runCrewId),localStorage.removeItem(ne.MyCrew),localStorage.removeItem(ne.runCrewManagerId),localStorage.removeItem(ne.MyCrewManagerId),localStorage.removeItem(ne.runCrewMemberships),localStorage.removeItem(ne.runCrewManagers),localStorage.removeItem(ne.adminRunCrews);const e=[];for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);r&&r.startsWith("crew_")&&r.includes("_hydration")&&e.push(r)}e.forEach(t=>localStorage.removeItem(t)),console.log(" LocalStorageAPI: Cleared all crew data and related caches")},setCrewHydration:(e,t)=>{if(!(!e||!t))try{const r=h=>{if(!h)return"";const p=h.firstName?h.firstName.trim():"",g=h.lastName?`${h.lastName.trim().charAt(0)}.`:"";return`${p} ${g}`.trim()},s=h=>Array.isArray(h)?h.map(p=>{var g,f,b,w;return{athleteId:p.athleteId||((g=p.athlete)==null?void 0:g.id)||null,firstName:p.firstName||((f=p.athlete)==null?void 0:f.firstName)||null,lastName:p.lastName||((b=p.athlete)==null?void 0:b.lastName)||null,photoURL:p.photoURL||((w=p.athlete)==null?void 0:w.photoURL)||null,totalDistanceMiles:Number(p.totalDistanceMiles??0),totalDuration:Number(p.totalDuration??0),totalCalories:Number(p.totalCalories??0),activityCount:Number(p.activityCount??0)}}).filter(p=>p.athleteId):[],a=h=>Array.isArray(h)?h.map(p=>{var g,f;return{athleteId:p.athleteId||((g=p.athlete)==null?void 0:g.id)||null,name:p.name||r(p.athlete),photoURL:p.photoURL||((f=p.athlete)==null?void 0:f.photoURL)||null,status:p.status||"going"}}).filter(p=>p.athleteId):[],o=Array.isArray(t.runs)?t.runs.slice(0,5).map(h=>({id:h.id,title:h.title,date:h.date,time:h.time||h.startTime,meetUpPoint:h.meetUpPoint,meetUpAddress:h.meetUpAddress,totalMiles:h.totalMiles,pace:h.pace,description:h.description,stravaMapUrl:h.stravaMapUrl,rsvps:a(h.rsvps)})):[],i=Array.isArray(t.messages)?t.messages.slice(0,10).map(h=>{var p,g;return{id:h.id,content:h.content,createdAt:h.createdAt,author:{athleteId:h.athleteId||((p=h.athlete)==null?void 0:p.id)||null,name:r(h.athlete),photoURL:((g=h.athlete)==null?void 0:g.photoURL)||null}}}).filter(h=>h.author.athleteId):[],c=(Array.isArray(t.memberships)?t.memberships:Array.isArray(t.members)?t.members:[]).map(h=>{const p=h.athlete||h;return{athleteId:h.athleteId||(p==null?void 0:p.id)||null,name:r(p),photoURL:(p==null?void 0:p.photoURL)||null}}).filter(h=>h.athleteId),d=Array.isArray(t.announcements)?t.announcements.map(h=>({id:h.id,title:h.title,content:h.content,createdAt:h.createdAt,author:h.author?{id:h.author.id,name:r(h.author),photoURL:h.author.photoURL||null}:null})):[],u={id:t.id,name:t.name,description:t.description,logo:t.logo,icon:t.icon,isAdmin:!!t.isAdmin,currentManagerId:t.currentManagerId||null,leaderboardDynamic:s(t.leaderboardDynamic),memberPreviews:c,runs:o,messages:i,announcements:d};localStorage.setItem(`crew_${e}_hydration`,JSON.stringify(u))}catch(r){console.error(" LocalStorageAPI: Failed to set crew hydration",r)}},getCrewHydration:e=>{if(!e)return null;try{const t=localStorage.getItem(`crew_${e}_hydration`);return t?JSON.parse(t):null}catch(t){return console.error(" LocalStorageAPI: Failed to parse crew hydration",t),null}},getContext:()=>({athleteId:B.getAthleteId(),runCrewId:B.getRunCrewId(),runCrewManagerId:B.getRunCrewManagerId()}),setFullHydrationModel:e=>{if(!e)return;const{athlete:t,weeklyActivities:r,weeklyTotals:s}=e;if(!t){console.warn(" LocalStorageAPI: No athlete in model");return}localStorage.setItem(ne.athleteProfile,JSON.stringify(t)),localStorage.setItem(ne.athleteId,t.id||t.athleteId),t.runCrewMemberships&&localStorage.setItem(ne.runCrewMemberships,JSON.stringify(t.runCrewMemberships)),t.runCrewManagers&&localStorage.setItem(ne.runCrewManagers,JSON.stringify(t.runCrewManagers)),t.adminRunCrews&&localStorage.setItem(ne.adminRunCrews,JSON.stringify(t.adminRunCrews));const a=t.MyCrew||"",o=t.MyCrewManagerId||"";if(localStorage.setItem(ne.MyCrew,a),localStorage.setItem(ne.MyCrewManagerId,o),localStorage.setItem(ne.runCrewId,a),localStorage.setItem(ne.runCrewManagerId,o),a&&t.runCrewMemberships){const i=t.runCrewMemberships.find(l=>{var c;return((c=l.runCrew)==null?void 0:c.id)===a});i!=null&&i.runCrew&&(B.setRunCrewData(i.runCrew),console.log(" LocalStorageAPI: Stored full crew data for:",i.runCrew.name))}console.log(" LocalStorageAPI: HYDRATION V2 - MyCrew:",a,"MyCrewManagerId:",o),r&&localStorage.setItem(ne.weeklyActivities,JSON.stringify(r)),s&&localStorage.setItem(ne.weeklyTotals,JSON.stringify(s)),localStorage.setItem(ne.hydrationVersion,"hydration-v2"),console.log(" LocalStorageAPI: HYDRATION V2 model stored")},getMyCrew:()=>localStorage.getItem(ne.MyCrew),getMyCrewManagerId:()=>localStorage.getItem(ne.MyCrewManagerId),getFullHydrationModel:()=>{try{const e=JSON.parse(localStorage.getItem(ne.athleteProfile)||"null"),t=JSON.parse(localStorage.getItem(ne.weeklyActivities)||"[]"),r=JSON.parse(localStorage.getItem(ne.weeklyTotals)||"null"),s=JSON.parse(localStorage.getItem(ne.runCrewMemberships)||"[]"),a=JSON.parse(localStorage.getItem(ne.runCrewManagers)||"[]"),o=JSON.parse(localStorage.getItem(ne.adminRunCrews)||"[]");return{athlete:e,weeklyActivities:t,weeklyTotals:r,runCrewMemberships:s,runCrewManagers:a,adminRunCrews:o}}catch(e){return console.error(" LocalStorageAPI: Failed to parse hydration model",e),{athlete:null,weeklyActivities:[],weeklyTotals:null,runCrewMemberships:[],runCrewManagers:[],adminRunCrews:[]}}},clearAll:()=>localStorage.clear()};function W1(){const e=ce(),[t,r]=x.useState(!0),[s,a]=x.useState(!1),[o,i]=x.useState(null);x.useEffect(()=>{(async()=>{var d,u,h,p,g,f,b;try{console.log(" ATHLETE WELCOME: ===== STARTING HYDRATION ====="),r(!0),i(null);const m=xi().currentUser;if(!m){console.log(" ATHLETE WELCOME: No Firebase user found  redirecting to signup"),e("/athletesignup");return}console.log(" ATHLETE WELCOME: Firebase user found"),console.log(" ATHLETE WELCOME: Firebase UID:",m.uid),console.log(" ATHLETE WELCOME: Firebase Email:",m.email),console.log(" ATHLETE WELCOME: Calling hydration endpoint...");const y=await ie.post("/athlete/hydrate");console.log(" ATHLETE WELCOME: Response received:",y.status);const{success:v,athlete:j}=y.data;if(!v||!j){console.error(" ATHLETE WELCOME: Hydration failed:",y.data.error||"Invalid response"),i(y.data.error||"Failed to load athlete data"),r(!1);return}const C=j.weeklyActivities||[],S=j.weeklyTotals||null;console.log(" ATHLETE WELCOME: Athlete hydrated successfully"),console.log(" ATHLETE WELCOME: Athlete ID:",j.athleteId||j.id),console.log(" ATHLETE WELCOME: Email:",j.email),console.log(" ATHLETE WELCOME: Name:",j.firstName,j.lastName),console.log(" ATHLETE WELCOME: RunCrews count:",((d=j.runCrews)==null?void 0:d.length)||0),console.log(" ATHLETE WELCOME: Weekly activities count:",C.length),console.log(" ATHLETE WELCOME: Weekly totals:",S),j.runCrews&&j.runCrews.length>0&&console.log(" ATHLETE WELCOME: RunCrews:",j.runCrews.map(k=>k.name).join(", ")),console.log(" ATHLETE WELCOME: Caching full hydration model to localStorage..."),B.setFullHydrationModel({athlete:j,weeklyActivities:C,weeklyTotals:S}),console.log(" ATHLETE WELCOME: Full hydration model cached"),console.log(" ATHLETE WELCOME: Hydration complete, ready for user action"),console.log(" ATHLETE WELCOME: ===== HYDRATION SUCCESS ====="),a(!0),r(!1)}catch(w){if(console.error(" ATHLETE WELCOME: ===== HYDRATION ERROR ====="),console.error(" ATHLETE WELCOME: Error message:",w.message),console.error(" ATHLETE WELCOME: Error status:",(u=w.response)==null?void 0:u.status),console.error(" ATHLETE WELCOME: Error data:",(h=w.response)==null?void 0:h.data),i(((g=(p=w.response)==null?void 0:p.data)==null?void 0:g.message)||w.message||"Failed to load athlete data"),r(!1),((f=w.response)==null?void 0:f.status)===401){console.log(" ATHLETE WELCOME: Unauthorized (401)  redirecting to signup"),e("/athletesignup");return}if(((b=w.response)==null?void 0:b.status)===404){console.log(" ATHLETE WELCOME: Athlete not found (404)  redirecting to signup"),e("/athletesignup");return}console.error(" ATHLETE WELCOME: ===== END ERROR =====")}})()},[e]);const l=()=>{console.log(` ATHLETE WELCOME: User clicked "Let's Train!"  navigating to athlete-home`),e("/athlete-home")};return o?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center",children:n.jsxs("div",{className:"text-center bg-white rounded-xl shadow-lg p-8 max-w-md mx-4",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Account"}),n.jsx("p",{className:"text-gray-600 mb-6",children:o}),n.jsx("button",{onClick:()=>e("/athletesignup"),className:"bg-orange-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-orange-600 transition",children:"Go to Signup"})]})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center",children:n.jsxs("div",{className:"text-center animate-fade-in",children:[n.jsxs("h1",{className:"text-6xl md:text-8xl font-bold text-white mb-8 animate-pulse",children:["Let's Go ",n.jsx("span",{className:"text-orange-400",children:"Crush"})," Goals!"]}),n.jsx("p",{className:"text-2xl md:text-3xl text-sky-100 font-medium mb-8",children:"Start your running journey"}),t&&n.jsxs("div",{className:"mt-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),n.jsx("p",{className:"text-xl text-sky-100",children:"Loading your account..."})]}),s&&!t&&n.jsx("div",{className:"mt-8",children:n.jsx("button",{onClick:l,className:"bg-gradient-to-r from-orange-600 to-orange-500 text-white px-12 py-4 rounded-xl font-bold text-2xl hover:from-orange-700 hover:to-orange-600 transition shadow-2xl transform hover:scale-105",children:"Let's Train! "})})]})})}function V1(){const e=ce(),[t,r]=x.useState(!1),[s,a]=x.useState(!1),[o,i]=x.useState(""),l=async()=>{var d,u,h,p,g,f,b,w;if(!t){r(!0);try{console.log(" Starting sign-in with Google...");const m=await Pd();console.log(" Google sign-in successful:",m.email);const y=await fe.currentUser.getIdToken();console.log(" Firebase token obtained: [REDACTED]"),localStorage.setItem("firebaseToken",y),console.log(" Calling backend API: /athlete/create");const v=await ie.post("/athlete/create");console.log(" Backend API response:",v.data);const j=v.data;if(!j||!j.success)throw new Error(`Backend API failed: ${(j==null?void 0:j.message)||"Invalid response"}`);localStorage.setItem("firebaseId",m.uid),localStorage.setItem("athleteId",j.athleteId),localStorage.setItem("email",((d=j.data)==null?void 0:d.email)||m.email),localStorage.setItem("firebaseUser",JSON.stringify({uid:m.uid,email:m.email,displayName:m.name,photoURL:m.photoURL})),(u=j.data)!=null&&u.gofastHandle?(console.log(" SUCCESS: Existing athlete with profile  Athlete Welcome Hydrator"),e("/athlete-welcome")):(console.log(" SUCCESS: New athlete or incomplete profile  Profile setup"),e("/athlete-create-profile"))}catch(m){if(console.error(" Sign-in failed:",m),m.code==="auth/user-cancelled"){console.log(" User cancelled sign-in - no action needed");return}else if(m.code==="auth/popup-closed-by-user"){console.log(" User closed popup - no action needed");return}else if(m.code==="auth/popup-blocked"){alert(" Popup was blocked by your browser. Please allow popups for this site and try again.");return}else if(m.code==="auth/network-request-failed"){alert(" Network error. Please check your internet connection and try again.");return}else if(m.message.includes("Cross-Origin-Opener-Policy")){alert(" Browser security policy blocked the sign-in. Please try again or contact support.");return}((h=m.response)==null?void 0:h.status)===404||m.message.includes("not found")?(a(!0),alert("New user detected! Enter approval code to continue.")):((p=m.response)==null?void 0:p.status)===500?alert("Server error occurred. Please try again later."):((g=m.response)==null?void 0:g.status)>=400&&((f=m.response)==null?void 0:f.status)<500?alert(`Authentication error: ${((w=(b=m.response)==null?void 0:b.data)==null?void 0:w.message)||"Please check your credentials."}`):navigator.onLine?alert("Sign-in failed. Please try again."):alert("No internet connection. Please check your connection and try again.")}finally{r(!1)}}},c=()=>{o==="LETMEIN"||o==="1234"?(alert("Approved! You can now sign in."),a(!1),i(""),l()):alert("Invalid approval code. Try: LETMEIN or 1234")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-500 via-red-500 to-pink-500 flex items-center justify-center p-4",children:n.jsxs("div",{className:"max-w-md mx-auto text-center space-y-8 bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-2xl",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-600 to-red-600 rounded-2xl mx-auto flex items-center justify-center shadow-lg",children:n.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"Welcome to GoFast!"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Sign in to crush your running goals"})]}),n.jsx("button",{onClick:l,disabled:t,className:"w-full bg-white border-2 border-gray-300 text-gray-700 py-4 px-6 rounded-xl font-semibold hover:bg-gray-50 transition shadow-lg disabled:opacity-50 flex items-center justify-center gap-3",children:t?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-700"}),"Signing in..."]}):n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})}),s&&n.jsxs("div",{className:"space-y-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Approval Required"}),n.jsx("p",{className:"text-sm text-yellow-700",children:"New user detected. Enter approval code to continue."}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:"text",value:o,onChange:d=>i(d.target.value),placeholder:"Enter approval code",className:"w-full px-3 py-2 border border-yellow-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500"}),n.jsx("button",{onClick:c,className:"w-full bg-yellow-600 text-white py-2 px-4 rounded-lg hover:bg-yellow-700 transition",children:"Approve & Continue"})]}),n.jsx("p",{className:"text-xs text-yellow-600",children:"Try: LETMEIN or 1234"})]}),n.jsxs("p",{className:"text-gray-600 text-sm",children:["Don't have an account?"," ",n.jsx("button",{onClick:()=>e("/athletesignup"),className:"text-orange-600 font-semibold hover:underline",children:"Sign Up"})]})]})})}const G1=()=>{const e=ce(),[t]=Br(),[r,s]=x.useState(!1),a=t.get("hasJoinContext")==="true",o=t.get("sessionId")||localStorage.getItem("joinSessionId"),i=async()=>{var d,u,h;if(!r){s(!0);try{console.log(" Starting signup with Google...");const p=await Pd();console.log(" Google sign-in successful:",p.email);const g=await fe.currentUser.getIdToken();console.log(" Firebase token obtained: [REDACTED]"),localStorage.setItem("firebaseToken",g),console.log(" Calling backend API: /athlete/create");const f=a&&o?{sessionId:o}:{},b=await ie.post("/athlete/create",f);console.log(" Backend API response:",b.data);const w=b.data;if(!w||!w.success)throw new Error(`Backend API failed: ${(w==null?void 0:w.message)||"Invalid response"}`);if(localStorage.setItem("firebaseId",p.uid),localStorage.setItem("athleteId",w.athleteId),localStorage.setItem("email",((d=w.data)==null?void 0:d.email)||p.email),a&&w.runCrewId){console.log(" SUCCESS: Joined RunCrew via direct-invite  PreCrewPage"),localStorage.removeItem("joinSessionId"),e(`/precrewpage?crewId=${w.runCrewId}`);return}(u=w.data)!=null&&u.gofastHandle?(console.log(" SUCCESS: Existing athlete with profile  Athlete Home"),e("/athlete-home")):(console.log(" SUCCESS: New athlete or incomplete profile  Profile setup"),e("/athlete-create-profile"))}catch(p){console.error(" Signup failed:",p),alert(` MVP FAILED!

Error: ${p.message}

Status: ${((h=p.response)==null?void 0:h.status)||"Unknown"}

Backend API call failed!`)}finally{s(!1)}}},l=()=>{e("/")},c=()=>{e("/athletesignin")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 to-sky-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"max-w-md mx-auto text-center space-y-8 bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-2xl",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-20 h-20 rounded-full mx-auto shadow-lg"}),n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-orange-500 bg-clip-text text-transparent",children:"Join GoFast!"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Start crushing your running goals"})]}),n.jsx("button",{onClick:i,disabled:r,className:"w-full bg-gradient-to-r from-orange-600 to-orange-500 text-white py-4 px-6 rounded-xl font-semibold hover:from-orange-700 hover:to-orange-600 transition shadow-lg disabled:opacity-50 flex items-center justify-center gap-3",children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Signing up..."]}):n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]})}),n.jsxs("p",{className:"text-gray-600 text-sm",children:["Already on the platform?"," ",n.jsx("button",{onClick:c,className:"text-orange-600 font-semibold hover:underline",children:"Sign In"})]}),n.jsx("button",{onClick:l,className:"text-gray-500 hover:text-gray-700 text-sm",children:" Back to splash"})]})})},J1=()=>{const e=ce(),t=x.useRef(null),[r,s]=x.useState({firstName:"",lastName:"",phoneNumber:"",birthday:"",gender:"",city:"",state:"",primarySport:"",gofastHandle:"",bio:"",instagram:"",profilePhoto:null,profilePhotoPreview:null});x.useEffect(()=>{(()=>{const d=fe.currentUser;d!=null&&d.photoURL&&s(u=>({...u,profilePhotoPreview:d.photoURL}))})()},[]);const a=(c,d)=>{s(u=>({...u,[c]:d}))},o=c=>{const d=c.target.files[0];if(d){if(!d.type.startsWith("image/")){alert("Please select a valid image file");return}if(d.size>5*1024*1024){alert("Image size must be less than 5MB");return}const u=URL.createObjectURL(d);s(h=>({...h,profilePhoto:d,profilePhotoPreview:u}))}},i=()=>{var c;(c=t.current)==null||c.click()},l=async c=>{var d,u,h,p,g;if(c.preventDefault(),console.log(" SUBMIT: Starting profile creation..."),console.log(" Form data:",r),!r.firstName||!r.lastName||!r.gofastHandle||!r.birthday||!r.gender||!r.city||!r.state||!r.primarySport){alert("Please fill in all required fields");return}try{const f=fe.currentUser;if(!f){alert("No user logged in. Please sign in first."),e("/athletesignin");return}console.log(" Step 1: Finding/creating athlete via /api/athlete/create"),console.log(" Axios automatically adds Firebase token (no body needed)");const w=(await ie.post("/athlete/create")).data;console.log(" Step 1 - Athlete created/found:",w);const m=w.athleteId||((d=w.data)==null?void 0:d.id);if(!m)throw new Error("No athlete ID returned from server");console.log(" Step 2: Updating profile via /api/athlete/:id/profile");const y=f.photoURL||r.profilePhotoPreview,j=(await ie.put(`/athlete/${m}/profile`,{firstName:r.firstName,lastName:r.lastName,phoneNumber:r.phoneNumber,gofastHandle:r.gofastHandle,birthday:r.birthday,gender:r.gender,city:r.city,state:r.state,primarySport:r.primarySport,bio:r.bio,instagram:r.instagram,photoURL:y})).data;console.log(" Step 2 - Profile updated:",j),B.setAthleteId(m),B.setAthleteProfile(j.athlete),console.log(" Navigating to athlete home..."),e("/athlete-home")}catch(f){if(console.error(" Profile creation failed:",f),(h=(u=f.response)==null?void 0:u.data)!=null&&h.error){const b=f.response.data;b.field==="gofastHandle"?alert(` Handle taken!

"@${r.gofastHandle}" is already taken. Please choose a different handle.`):alert(` Profile update failed:

${b.message||b.error}`)}else((p=f.response)==null?void 0:p.status)===403?alert(` Forbidden!

You can only update your own profile. Please sign in with the correct account.`):((g=f.response)==null?void 0:g.status)===404?alert(` Profile not found!

Your athlete record was not found. Please try signing in again.`):alert(` Profile creation failed:

${f.message||"Unknown error occurred"}`)}};return n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-6",children:n.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-lg p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-16 h-16 rounded-full mx-auto mb-4"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to GoFast!"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"At GoFast, we believe in community. The more info you provide here, the more it fosters connections with other athletes looking to GoFast and PR."}),n.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-orange-800 text-sm font-medium",children:[" ",n.jsx("strong",{children:"Community Tip:"})," Complete profiles get 3x more crew invites and running partner matches!"]})})]}),n.jsxs("form",{onSubmit:l,className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full mx-auto mb-2 flex items-center justify-center cursor-pointer hover:bg-gray-300 transition-colors",onClick:i,children:r.profilePhotoPreview?n.jsx("img",{src:r.profilePhotoPreview,alt:"Profile preview",className:"w-24 h-24 rounded-full object-cover"}):n.jsx("span",{className:"text-4xl",children:""})}),n.jsxs("div",{className:"flex items-center justify-center text-orange-500 text-sm cursor-pointer hover:text-orange-600",onClick:i,children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),r.profilePhoto?"Change Photo":"Add Photo"]}),n.jsx("input",{ref:t,type:"file",accept:"image/*",onChange:o,className:"hidden"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["First Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:r.firstName,onChange:c=>a("firstName",c.target.value),placeholder:"Enter your first name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:r.lastName,onChange:c=>a("lastName",c.target.value),placeholder:"Enter your last name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),n.jsx("input",{type:"tel",value:r.phoneNumber,onChange:c=>a("phoneNumber",c.target.value),placeholder:"(555) 123-4567",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Bio"}),n.jsx("textarea",{value:r.bio,onChange:c=>a("bio",c.target.value),placeholder:"Tell us about your running goals, favorite routes, or what motivates you...",maxLength:"250",rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.bio.length,"/250 characters"]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["GoFast Handle ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"This is for quick lookup and tagging others. We recommend using your first name but you can make it however you like."}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("span",{className:"text-gray-500 text-sm",children:"@"})}),n.jsx("input",{type:"text",value:r.gofastHandle,onChange:c=>a("gofastHandle",c.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"your_handle",className:"w-full pl-8 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Birthday ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",value:r.birthday,onChange:c=>a("birthday",c.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gender ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"gender",value:"male",checked:r.gender==="male",onChange:c=>a("gender",c.target.value),className:"mr-2",required:!0}),"Male"]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"gender",value:"female",checked:r.gender==="female",onChange:c=>a("gender",c.target.value),className:"mr-2",required:!0}),"Female"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["City ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:r.city,onChange:c=>a("city",c.target.value),placeholder:"City",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["State ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:r.state,onChange:c=>a("state",c.target.value),placeholder:"State",maxLength:"2",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Primary Sport ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:r.primarySport,onChange:c=>a("primarySport",c.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0,children:[n.jsx("option",{value:"",children:"Select your primary sport"}),n.jsx("option",{value:"running",children:" Running"}),n.jsx("option",{value:"cycling",children:" Cycling"}),n.jsx("option",{value:"swimming",children:" Swimming"}),n.jsx("option",{value:"triathlon",children:" Triathlon"}),n.jsx("option",{value:"ultra-racing",children:" Ultra Racing"}),n.jsx("option",{value:"hiking",children:" Hiking"}),n.jsx("option",{value:"trail-running",children:" Trail Running"}),n.jsx("option",{value:"track-field",children:" Track & Field"})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" This helps us match you with the right community!"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instagram Handle"}),n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"In case people want to discover the real you outside of your primary sport."}),n.jsx("input",{type:"text",value:r.instagram,onChange:c=>a("instagram",c.target.value),placeholder:"@your_handle",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),n.jsxs("div",{className:"pt-4",children:[n.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-4 px-6 rounded-lg font-bold text-lg hover:bg-orange-600 transition-colors shadow-lg hover:shadow-xl transform hover:scale-105",children:" Join the GoFast Community"}),n.jsx("p",{className:"text-center text-sm text-gray-500 mt-3",children:"You can always update your profile later in settings"})]})]})]})})},q1=()=>{const e=ce(),t=x.useRef(null),[r,s]=x.useState({firstName:"",lastName:"",phoneNumber:"",birthday:"",gender:"",city:"",state:"",primarySport:"",gofastHandle:"",bio:"",instagram:"",profilePhoto:null,profilePhotoPreview:null}),[a,o]=x.useState(null),[i,l]=x.useState(!0);x.useEffect(()=>{(()=>{var g;try{const f=B.getAthleteProfile(),b=B.getAthleteId();if(!f||!b){console.warn(" EDIT PROFILE: Missing profile or athleteId, routing to welcome hydrator"),e("/athlete-welcome",{replace:!0});return}const w=JSON.parse(f);o(b),s({firstName:w.firstName||"",lastName:w.lastName||"",phoneNumber:w.phoneNumber||"",birthday:w.birthday?new Date(w.birthday).toISOString().split("T")[0]:"",gender:w.gender||"",city:w.city||"",state:w.state||"",primarySport:w.primarySport||"",gofastHandle:w.gofastHandle||"",bio:w.bio||"",instagram:w.instagram||"",profilePhoto:null,profilePhotoPreview:w.photoURL||((g=fe.currentUser)==null?void 0:g.photoURL)||null}),l(!1)}catch(f){console.error("Error loading profile:",f),alert("Error loading profile. Please try again."),e("/athlete-profile")}})()},[e]);const c=(p,g)=>{s(f=>({...f,[p]:g}))},d=p=>{const g=p.target.files[0];if(g){if(!g.type.startsWith("image/")){alert("Please select a valid image file");return}if(g.size>5*1024*1024){alert("Image size must be less than 5MB");return}const f=URL.createObjectURL(g);s(b=>({...b,profilePhoto:g,profilePhotoPreview:f}))}},u=()=>{var p;(p=t.current)==null||p.click()},h=async p=>{var g,f,b,w;if(p.preventDefault(),console.log(" SUBMIT: Updating profile..."),console.log(" Form data:",r),!r.firstName||!r.lastName||!r.gofastHandle||!r.birthday||!r.gender||!r.city||!r.state||!r.primarySport){alert("Please fill in all required fields");return}if(!a){alert("Athlete ID not found. Please refresh and try again.");return}try{const m=fe.currentUser;if(!m){alert("No user logged in. Please sign in first."),e("/athletesignin");return}console.log(" Updating profile via /api/athlete/:id/profile");const y=r.profilePhotoPreview||m.photoURL||null,j=(await ie.put(`/athlete/${a}/profile`,{firstName:r.firstName,lastName:r.lastName,phoneNumber:r.phoneNumber,gofastHandle:r.gofastHandle,birthday:r.birthday,gender:r.gender,city:r.city,state:r.state,primarySport:r.primarySport,bio:r.bio,instagram:r.instagram,photoURL:y})).data;console.log(" Profile updated:",j),B.setAthleteProfile(j.athlete),console.log(" Navigating back to profile..."),e("/athlete-profile")}catch(m){if(console.error(" Profile update failed:",m),(f=(g=m.response)==null?void 0:g.data)!=null&&f.error){const y=m.response.data;y.field==="gofastHandle"?alert(` Handle taken!

"@${r.gofastHandle}" is already taken. Please choose a different handle.`):alert(` Profile update failed:

${y.message||y.error}`)}else((b=m.response)==null?void 0:b.status)===403?alert(` Forbidden!

You can only update your own profile. Please sign in with the correct account.`):((w=m.response)==null?void 0:w.status)===404?alert(` Profile not found!

Your athlete record was not found. Please try signing in again.`):alert(` Profile update failed:

${m.message||"Unknown error occurred"}`)}};return i?n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-6",children:n.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-lg p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-16 h-16 rounded-full mx-auto mb-4"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Edit Your Profile"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Update your information to keep your profile current and help others find you."})]}),n.jsxs("form",{onSubmit:h,className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full mx-auto mb-2 flex items-center justify-center cursor-pointer hover:bg-gray-300 transition-colors overflow-hidden",onClick:u,children:r.profilePhotoPreview?n.jsx("img",{src:r.profilePhotoPreview,alt:"Profile preview",className:"w-24 h-24 rounded-full object-cover"}):n.jsx("span",{className:"text-4xl",children:""})}),n.jsxs("div",{className:"flex items-center justify-center text-orange-500 text-sm cursor-pointer hover:text-orange-600",onClick:u,children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),r.profilePhotoPreview?"Change Photo":"Add Photo"]}),n.jsx("input",{ref:t,type:"file",accept:"image/*",onChange:d,className:"hidden"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["First Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:r.firstName,onChange:p=>c("firstName",p.target.value),placeholder:"Enter your first name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:r.lastName,onChange:p=>c("lastName",p.target.value),placeholder:"Enter your last name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),n.jsx("input",{type:"tel",value:r.phoneNumber,onChange:p=>c("phoneNumber",p.target.value),placeholder:"(555) 123-4567",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Bio"}),n.jsx("textarea",{value:r.bio,onChange:p=>c("bio",p.target.value),placeholder:"Tell us about your running goals, favorite routes, or what motivates you...",maxLength:"250",rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.bio.length,"/250 characters"]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["GoFast Handle ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"This is for quick lookup and tagging others. We recommend using your first name but you can make it however you like."}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("span",{className:"text-gray-500 text-sm",children:"@"})}),n.jsx("input",{type:"text",value:r.gofastHandle,onChange:p=>c("gofastHandle",p.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"your_handle",className:"w-full pl-8 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Birthday ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",value:r.birthday,onChange:p=>c("birthday",p.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gender ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"gender",value:"male",checked:r.gender==="male",onChange:p=>c("gender",p.target.value),className:"mr-2",required:!0}),"Male"]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"gender",value:"female",checked:r.gender==="female",onChange:p=>c("gender",p.target.value),className:"mr-2",required:!0}),"Female"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["City ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:r.city,onChange:p=>c("city",p.target.value),placeholder:"City",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["State ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:r.state,onChange:p=>c("state",p.target.value),placeholder:"State",maxLength:"2",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Primary Sport ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:r.primarySport,onChange:p=>c("primarySport",p.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0,children:[n.jsx("option",{value:"",children:"Select your primary sport"}),n.jsx("option",{value:"running",children:" Running"}),n.jsx("option",{value:"cycling",children:" Cycling"}),n.jsx("option",{value:"swimming",children:" Swimming"}),n.jsx("option",{value:"triathlon",children:" Triathlon"}),n.jsx("option",{value:"ultra-racing",children:" Ultra Racing"}),n.jsx("option",{value:"hiking",children:" Hiking"}),n.jsx("option",{value:"trail-running",children:" Trail Running"}),n.jsx("option",{value:"track-field",children:" Track & Field"})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" This helps us match you with the right community!"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instagram Handle"}),n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"In case people want to discover the real you outside of your primary sport."}),n.jsx("input",{type:"text",value:r.instagram,onChange:p=>c("instagram",p.target.value),placeholder:"@your_handle",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),n.jsxs("div",{className:"pt-4 flex gap-4",children:[n.jsx("button",{type:"button",onClick:()=>e("/athlete-profile"),className:"flex-1 bg-gray-200 text-gray-700 py-4 px-6 rounded-lg font-bold text-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 bg-orange-500 text-white py-4 px-6 rounded-lg font-bold text-lg hover:bg-orange-600 transition-colors shadow-lg hover:shadow-xl transform hover:scale-105",children:"Save Changes"})]})]})]})})};function as(){const e=B.getAthleteProfile(),t=B.getAthleteId(),r=B.getMyCrew(),s=B.getMyCrewManagerId(),a=B.getRunCrewId(),o=B.getRunCrewManagerId(),i=r||a||null,l=s||o||null,c=B.getRunCrewData();return{athlete:e,athleteId:t,runCrewId:i,runCrewManagerId:l,runCrew:c}}const Xh=e=>Array.isArray(e)?e.filter(t=>{if(!t.activityType)return!1;const r=t.activityType.toLowerCase();return(r.includes("running")||r==="run")&&!r.includes("wheelchair")}):[],Zh=e=>{const t={totalDistance:0,totalDuration:0,totalCalories:0,activityCount:e.length};return e.forEach(r=>{r.distance&&(t.totalDistance+=r.distance),r.duration&&(t.totalDuration+=r.duration),r.calories&&(t.totalCalories+=r.calories)}),t.totalDistanceMiles=(t.totalDistance/1609.34).toFixed(2),t};function Qg(e,t="current",r=!1){const[s,a]=x.useState([]),[o,i]=x.useState(null),[l,c]=x.useState(!0),[d,u]=x.useState(null),[h,p]=x.useState("This Week"),g=async()=>{if(!e){console.log(" ACTIVITIES: Waiting for athleteId..."),c(!1);return}try{if(c(!0),u(null),t==="current"&&!r){const w=B.getFullHydrationModel(),m=(w==null?void 0:w.weeklyActivities)||[],y=(w==null?void 0:w.weeklyTotals)||null;if(m.length>0){const v=Xh(m),j=Zh(v);console.log(" ACTIVITIES: Loaded from localStorage:",m.length,"total activities,",v.length,"runs"),a(v),i(j),p("This Week"),c(!1),f(e,t).catch(C=>{console.warn(" ACTIVITIES: Background fetch failed (non-critical):",C)});return}}await f(e,t)}catch(w){console.error(" ACTIVITIES: Error fetching activities:",w),u(w.message),c(!1)}},f=async(w,m=t)=>{var y,v;try{console.log(" ACTIVITIES: Fetching from backend for athleteId:",w,"period:",m);const j=await ie.get(`/athlete/${w}/activities/weekly`,{params:{period:m}});if((y=j.data)!=null&&y.success){const C=j.data.activities||[],S=j.data.weeklyTotals||null,k=j.data.periodLabel||"This Week",E=Xh(C),I=Zh(E);if(console.log(" ACTIVITIES: Fetched from backend:",C.length,"total activities,",E.length,"runs"),a(E),i(I),p(k),m==="current"){const N=B.getFullHydrationModel();B.setFullHydrationModel({...N,weeklyActivities:E,weeklyTotals:I}),console.log(" ACTIVITIES: Updated localStorage cache with",E.length,"runs")}}else throw new Error(((v=j.data)==null?void 0:v.error)||"Failed to fetch activities")}catch(j){throw console.error(" ACTIVITIES: Backend fetch error:",j),j}finally{c(!1)}};return x.useEffect(()=>{e?(console.log(" ACTIVITIES: useEffect triggered, athleteId:",e,"period:",t),g()):(console.log(" ACTIVITIES: useEffect waiting for athleteId"),c(!1))},[e,t,r]),{activities:s,weeklyTotals:o,isLoading:l,error:d,refresh:()=>{g()},periodLabel:h}}/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y1=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,s)=>s?s.toUpperCase():r.toLowerCase()),em=e=>{const t=Y1(e);return t.charAt(0).toUpperCase()+t.slice(1)},Xg=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim(),Q1=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:i,...l},c)=>x.createElement("svg",{ref:c,...X1,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:Xg("lucide",a),...!o&&!Q1(l)&&{"aria-hidden":"true"},...l},[...i.map(([d,u])=>x.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const r=x.forwardRef(({className:s,...a},o)=>x.createElement(Z1,{ref:o,iconNode:t,className:Xg(`lucide-${K1(em(e))}`,`lucide-${e}`,s),...a}));return r.displayName=em(e),r};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],tm=Se("activity",eC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Zs=Se("arrow-left",tC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nC=Se("arrow-right",rC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tn=Se("calendar",sC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vc=Se("check",aC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Yn=Se("circle-alert",oC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zg=Se("circle-check-big",iC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qo=Se("circle-check",lC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dC=Se("clock",cC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ho=Se("copy",uC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],mC=Se("crown",hC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],pC=Se("download",fC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],xC=Se("external-link",gC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vC=Se("image",yC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ex=Se("link",wC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],jC=Se("mail",bC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],tx=Se("map-pin",NC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rn=Se("plus",CC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ud=Se("refresh-cw",kC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],EC=Se("save",SC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rx=Se("settings",IC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ts=Se("trash-2",_C);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Dr=Se("users",RC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ea=Se("x",AC),TC="https://gofastbackendv2-fall2025.onrender.com/api",PC=()=>{var E,I;const e=ce(),{athlete:t,athleteId:r,runCrewId:s,runCrewManagerId:a,runCrew:o}=as(),{activities:i,weeklyTotals:l}=Qg(r),c=x.useMemo(()=>!!a,[a]),[d,u]=x.useState(o),[h,p]=x.useState(!1),[g,f]=x.useState(!0),[b,w]=x.useState(!1);x.useEffect(()=>{if(t&&!s){console.log(" ATHLETE HOME: No runcrew - redirecting to join/create (runcrew or bust)"),e("/runcrew/join-or-start",{replace:!0});return}},[t,s,e]),x.useEffect(()=>{(async()=>{if(s&&r&&!d&&!b){w(!0);try{const{data:P}=await ie.post("/runcrew/hydrate",{runCrewId:s,athleteId:r});P!=null&&P.success&&P.runCrew&&(B.setRunCrewData(P.runCrew),u(P.runCrew))}catch(P){console.error("Failed to hydrate crew:",P)}finally{w(!1)}}else o&&u(o)})()},[s,r,o]),x.useEffect(()=>{(async()=>{if(!r){f(!1);return}try{const P=await fetch(`${TC}/garmin/status?athleteId=${r}`);if(P.ok){const O=await P.json();p(O.connected||!1)}}catch(P){console.error("Error checking Garmin connection:",P)}finally{f(!1)}})()},[r]);const m=x.useMemo(()=>!(d!=null&&d.runs)||!Array.isArray(d.runs)?null:d.runs.filter(P=>{const O=P.date||P.scheduledAt;return O?new Date(O)>=new Date:!1}).sort((P,O)=>{const D=new Date(P.date||P.scheduledAt),Q=new Date(O.date||O.scheduledAt);return D-Q})[0]||null,[d]),y=x.useMemo(()=>m!=null&&m.rsvps?m.rsvps.filter(N=>N.status==="going").slice(0,3).map(N=>N.athlete||N):[],[m]),v=x.useMemo(()=>!i||i.length===0?null:i[0],[i]),j=N=>{if(!N.pace)return null;if(typeof N.pace=="string")return N.pace;if(typeof N.pace=="number"){const P=Math.floor(N.pace/60),O=Math.floor(N.pace%60);return`${P}:${O.toString().padStart(2,"0")}/mi`}return null},C=N=>N.distance?typeof N.distance=="number"?`${(N.distance/1609.34).toFixed(1)} miles`:N.distance:null,S=async()=>{try{await Zj(fe),B.clearAll(),e("/")}catch(N){console.error("Error signing out:",N)}},k=()=>{if(!s){e("/runcrew/join-or-start");return}e(c?"/crew/crewadmin":"/runcrew/central")};return t?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white border-b border-gray-200",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-8 h-8 rounded-full"}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"GoFast"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>e("/athlete-profile"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 rounded-lg font-medium hover:bg-gray-100 transition",children:t!=null&&t.photoURL?n.jsx("img",{src:t.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full object-cover"}):n.jsx("span",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:t!=null&&t.firstName?t.firstName[0].toUpperCase():"A"})}),n.jsxs("button",{onClick:()=>e("/settings"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 rounded-lg font-medium hover:bg-gray-100 transition",children:[n.jsx(rx,{className:"h-5 w-5"}),n.jsx("span",{children:"Settings"})]}),n.jsx("button",{onClick:S,className:"px-4 py-2 text-gray-600 hover:text-gray-800 rounded-lg hover:bg-gray-100 transition",children:"Sign Out"})]})]})}),n.jsxs("main",{className:"max-w-6xl mx-auto px-6 py-8 space-y-6",children:[d&&s?n.jsxs("div",{className:"bg-gradient-to-r from-sky-500 to-sky-600 rounded-2xl shadow-xl p-8 text-white",children:[n.jsxs("div",{className:"flex items-start justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:d.name||"Your Run Crew"}),d.description&&n.jsx("p",{className:"text-sky-50/90 text-lg",children:d.description})]}),d.icon&&n.jsx("span",{className:"text-5xl",children:d.icon})]}),m?n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(tn,{className:"w-5 h-5"}),n.jsx("h2",{className:"text-xl font-semibold",children:"Next Run"})]}),n.jsxs("div",{className:"space-y-2 text-sky-50",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dC,{className:"w-4 h-4"}),n.jsxs("span",{className:"font-medium",children:[m.date?new Date(m.date).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}):"Date TBD",m.time||m.startTime?`  ${m.time||m.startTime}`:""]})]}),m.meetUpPoint&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tx,{className:"w-4 h-4"}),n.jsx("span",{children:m.meetUpPoint})]}),y.length>0&&n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[n.jsx("div",{className:"flex -space-x-2",children:y.map((N,P)=>{var O;return n.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 border-2 border-white flex items-center justify-center text-white text-xs font-semibold",children:N.photoURL?n.jsx("img",{src:N.photoURL,alt:N.firstName,className:"w-full h-full rounded-full object-cover"}):(((O=N.firstName)==null?void 0:O[0])||"A").toUpperCase()},P)})}),n.jsxs("span",{className:"text-sm text-sky-50/80",children:[((E=m.rsvps)==null?void 0:E.filter(N=>N.status==="going").length)||y.length," going"]})]})]})]}):n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 mb-4",children:n.jsx("p",{className:"text-sky-50/80",children:"No upcoming runs scheduled"})}),n.jsx("button",{onClick:k,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition shadow-lg",children:"View Crew "})]}):n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center border-2 border-orange-200",children:[n.jsx(Dr,{className:"h-16 w-16 text-orange-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Join or Create a Run Crew"}),n.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Join or create a Run Crew to get the most out of GoFast. Connect with other runners, coordinate runs, and stay accountable."}),n.jsx("button",{onClick:()=>e("/runcrew/join-or-start"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-semibold transition shadow-md",children:"Get Started "})]}),h&&l&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Week"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:((I=l.totalDistanceMiles)==null?void 0:I.toFixed(1))||"0"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Miles"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:l.activityCount||(i==null?void 0:i.length)||0}),n.jsx("p",{className:"text-sm text-gray-600",children:"Activities"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Math.round(l.totalCalories||0)}),n.jsx("p",{className:"text-sm text-gray-600",children:"Calories"})]})]}),n.jsx("button",{onClick:()=>e("/my-activities"),className:"mt-4 w-full text-sm text-orange-600 hover:text-orange-700 font-semibold hover:underline",children:"View All Activities "})]}),!g&&!h&&n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border-2 border-orange-200",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(tm,{className:"h-12 w-12 text-orange-500 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Connect Garmin to Track Activities"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Sync your runs automatically and see your stats on the leaderboard"})]}),n.jsx("button",{onClick:()=>e("/settings"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg font-semibold transition whitespace-nowrap",children:"Connect "})]})}),v&&n.jsx("div",{onClick:()=>e(`/activity/${v.id}`),className:"bg-white rounded-xl shadow-lg p-4 border border-gray-200 hover:border-orange-300 cursor-pointer transition",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tm,{className:"h-8 w-8 text-orange-500"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Your Latest Run"}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[C(v)&&n.jsx("span",{children:C(v)}),j(v)&&n.jsxs("span",{children:[" ",j(v)]}),v.startTime&&n.jsxs("span",{children:[" ",new Date(v.startTime).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]})]})]})]}),n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),d&&m&&n.jsx("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Your crew is running soon  RSVP now"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[m.title||"Upcoming run"," on ",m.date?new Date(m.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}):"soon"]})]}),n.jsx("button",{onClick:k,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg font-semibold transition whitespace-nowrap",children:"RSVP "})]})})]})]}):n.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading your profile..."})]})})},LC=()=>{const[e,t]=x.useState(null),r=ce();return x.useEffect(()=>{const s=localStorage.getItem("athleteProfile");s&&t(JSON.parse(s))},[]),n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-white shadow-sm",children:n.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-8 h-8 rounded-full"}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Profile"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>r("/settings"),className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg font-medium hover:bg-gray-100 transition",children:"Settings"}),n.jsx("button",{onClick:()=>r("/athlete-home"),className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg font-medium hover:bg-gray-100 transition",children:" Back to Home"})]})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"relative inline-block mb-6",children:n.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full mx-auto flex items-center justify-center overflow-hidden shadow-lg ring-4 ring-white",children:e!=null&&e.photoURL?n.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("span",{className:"text-5xl text-white font-bold",children:e!=null&&e.firstName?e.firstName[0].toUpperCase():""})})}),n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName} ${e.lastName}`:"Your Name"}),n.jsxs("p",{className:"text-xl text-gray-600 mb-6",children:["@",(e==null?void 0:e.gofastHandle)||"your_handle"]}),n.jsx("button",{onClick:()=>r("/athlete-edit-profile"),className:"bg-orange-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-orange-600 transition-colors shadow-md hover:shadow-lg",children:"Edit Profile"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(e==null?void 0:e.bio)&&n.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-orange-600 text-xl",children:""})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Bio"})]}),n.jsx("p",{className:"text-gray-700 leading-relaxed pl-13",children:e.bio})]}),((e==null?void 0:e.city)||(e==null?void 0:e.state))&&n.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-orange-600 text-xl",children:""})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Location"})]}),n.jsxs("p",{className:"text-gray-700 text-lg pl-13",children:[(e==null?void 0:e.city)||"",e!=null&&e.city&&(e!=null&&e.state)?", ":"",(e==null?void 0:e.state)||""]})]}),(e==null?void 0:e.primarySport)&&n.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-orange-600 text-xl",children:""})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Primary Sport"})]}),n.jsx("p",{className:"text-gray-700 text-lg capitalize pl-13",children:e.primarySport})]}),(e==null?void 0:e.birthday)&&n.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-orange-600 text-xl",children:""})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Birthday"})]}),n.jsx("p",{className:"text-gray-700 text-lg pl-13",children:new Date(e.birthday).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(e==null?void 0:e.gender)&&n.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-orange-600 text-xl",children:""})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gender"})]}),n.jsx("p",{className:"text-gray-700 text-lg capitalize pl-13",children:e.gender})]}),(e==null?void 0:e.instagram)&&n.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-orange-600 text-xl",children:""})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Instagram"})]}),n.jsx("a",{href:`https://instagram.com/${e.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 text-lg pl-13 hover:underline",children:e.instagram})]}),(e==null?void 0:e.phoneNumber)&&n.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-orange-600 text-xl",children:""})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Phone"})]}),n.jsx("p",{className:"text-gray-700 text-lg pl-13",children:e.phoneNumber})]})]})]})]})},MC=()=>{const e=ce(),[t,r]=x.useState({garmin:!1,strava:!1}),[s,a]=x.useState(!0);x.useEffect(()=>{o()},[]);const o=async()=>{try{const c=localStorage.getItem("athleteId");if(!c){console.log("No athleteId found in localStorage"),a(!1);return}console.log(" Checking connection status for athleteId:",c);const d=await fetch(`https://gofastbackendv2-fall2025.onrender.com/api/garmin/status?athleteId=${c}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(d.ok){const u=await d.json();console.log(" Connection status received:",u),r(h=>({...h,garmin:u.connected||!1,strava:!1}))}else console.log(" Failed to get connection status:",d.status)}catch(c){console.error(" Error checking connection status:",c)}finally{a(!1)}},i=async()=>{if(window.confirm(`Disconnect Garmin from GoFast?

This will:
 Deregister your account from Garmin
 Stop all activity data syncing
 Clear your Garmin connection from GoFast
 Allow you to connect a different Garmin account later`))try{const c=localStorage.getItem("athleteId");if(!c)throw new Error("AthleteId not found in localStorage");const d=await fetch("https://gofastbackendv2-fall2025.onrender.com/api/garmin/disconnect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({athleteId:c})});if(d.ok){const u=await d.json();console.log(" Garmin disconnected and deregistered"),await o(),alert(u.message||"Garmin disconnected and deregistered successfully.")}else{const u=await d.json();throw new Error(u.error||"Failed to disconnect Garmin")}}catch(c){console.error(" Garmin disconnect error:",c),alert("Failed to disconnect Garmin: "+c.message)}},l=async()=>{try{const c=localStorage.getItem("athleteId");if(!c)throw new Error("AthleteId not found in localStorage");console.log(` Starting Garmin OAuth for athleteId: ${c}`);const d=await fetch(`https://gofastbackendv2-fall2025.onrender.com/api/garmin/auth-url?athleteId=${c}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!d.ok){const g=await d.json();throw new Error(g.error||"Failed to get auth URL")}const u=await d.json();console.log(" Auth URL received, opening popup...");const h=window.open(u.authUrl,"garmin-oauth","width=600,height=700,scrollbars=yes,resizable=yes");window.addEventListener("message",g=>{g.data.type==="GARMIN_CONNECTED"?(console.log(" Garmin connected successfully!"),o()):g.data.type==="GARMIN_CONNECTION_ERROR"&&(console.error(" Garmin connection error:",g.data.message),alert("Garmin connection failed: "+g.data.message))});const p=setInterval(()=>{h.closed&&(clearInterval(p),console.log(" Popup closed, checking connection status..."),o())},1e3)}catch(c){console.error(" Garmin OAuth error:",c),alert("Failed to start Garmin connection: "+c.message)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),n.jsx("p",{className:"text-gray-600",children:"Manage your account and device connections"})]}),n.jsx("button",{onClick:()=>e("/athlete-home"),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition",children:"Back to Home"})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Device Connections"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-5 border border-gray-200 hover:border-gray-300 transition",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:"/Garmin_Connect_app_1024x1024-02.png",alt:"Garmin Connect",className:"h-10 w-10 rounded"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Garmin Connect"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Sync activities"})]})]}),n.jsx("div",{className:"flex items-center gap-3",children:s?n.jsx("span",{className:"text-sm text-gray-400",children:"Checking..."}):t.garmin?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Connected"}),n.jsx("button",{onClick:i,className:"px-4 py-1.5 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition",children:"Disconnect"})]}):n.jsx("button",{onClick:l,className:"px-4 py-1.5 text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 rounded-lg transition",children:"Connect"})})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-5 border border-gray-200 hover:border-gray-300 transition",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded bg-orange-100 flex items-center justify-center text-2xl",children:""}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Strava"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Import activities"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:`text-sm font-medium ${t.strava?"text-green-600":"text-gray-500"}`,children:t.strava?"Connected":"Not Connected"}),!t.strava&&n.jsx("button",{onClick:()=>e("/settings/devices"),className:"px-4 py-1.5 text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 rounded-lg transition",children:"Connect"})]})]})})]})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Connect your devices to automatically sync activities and track your runs.",n.jsx("span",{className:"text-xs text-gray-500 block mt-2",children:"Garmin Connect is a trademark of Garmin Ltd. GoFast is not affiliated with Garmin Ltd."})]})})]})]})},OC={"Starter + Finisher Crew":"marshal","Valleywood + John Marshall Crew":"marshal","Vermont + 35th Street North Crew":"marshal","Massachusetts + Nottingham / 35th Crew":"marshal","Massachusetts / Rhode Island + Rockingham Crew":"marshal","Virginia Avenue Entry Crew":"marshal","Virginia / Nottingham Crew":"marshal","Pacers  Fast":"pacer","Pacers  Medium":"pacer","Pacers  Finish Crew":"pacer","Water Stop #1  Massachusetts  Rhode Island":"water","Water Stop #2  Nottingham  35th":"water","Finish Line Holders 1":"finish","Finish Line Holders 2":"finish"},DC={marshal:"Course Marshal",pacer:"Pacer",water:"Water Station",finish:"Finish Line"},nx=["Starter + Finisher Crew","Valleywood + John Marshall Crew","Vermont + 35th Street North Crew","Massachusetts + Nottingham / 35th Crew","Massachusetts / Rhode Island + Rockingham Crew","Virginia Avenue Entry Crew","Virginia / Nottingham Crew","Pacers  Fast","Pacers  Medium","Pacers  Finish Crew","Water Stop #1  Massachusetts  Rhode Island","Water Stop #2  Nottingham  35th","Finish Line Holders 1","Finish Line Holders 2"],mo=e=>OC[e]||"other",sx=e=>DC[e]||e,ax=(e=[],t=nx)=>{const r=new Set(e.map(i=>i.role)),s=r.size,a=t.length-s,o=t.filter(i=>!r.has(i));return{totalFilled:s,totalVacant:a,totalExpected:t.length,vacantRoles:o,filledRoles:Array.from(r)}},rm="https://gofastbackendv2-fall2025.onrender.com/api",UC=["Course Marshals (5)","Pacers  Fast","Pacers  Medium","Pacers  Finish Crew","Finish Line Holders (2)","Water Station Crew","Setup & Teardown"],FC=["5:00 AM","5:30 AM","6:00 AM","6:30 AM","7:00 AM","7:30 AM","7:55 AM","8:00 AM","8:30 AM","9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM","6:00 PM","6:30 PM","7:00 PM","7:30 PM","8:00 PM"],$C=()=>{const e=ce(),[t,r]=x.useState([]),[s,a]=x.useState({}),[o,i]=x.useState(!0),[l,c]=x.useState(!1),[d,u]=x.useState(null),[h,p]=x.useState(null),[g,f]=x.useState({title:"",description:"",date:"",startTime:"",location:"",address:"",stravaRouteUrl:"",distance:"",eventType:"race"}),b=()=>{const P=new Date("2025-11-12T00:00:00").toISOString().split("T")[0];f({title:"Boys on Run 5K",description:"Final week of our Boys Gotta Run season. We're keeping it low-key, warm, and all about the kids.",date:P,startTime:"7:55 AM",location:"Discovery Elementary School",address:"5275 N 36th St, Arlington, VA 22207",stravaRouteUrl:"https://www.strava.com/routes/3420808564668746102",distance:"5K",eventType:"race"}),setTimeout(()=>{const O=document.querySelector("form");O&&O.scrollIntoView({behavior:"smooth",block:"start"})},100)},[w,m]=x.useState({name:"",email:"",phone:"",role:"",notes:""});x.useEffect(()=>{y()},[]);const y=async()=>{var N,P;i(!0);try{const O=B.getAthleteId();if(!O){alert("Athlete ID not found. Please sign in again."),e("/signin");return}const D=await ie.get("/event",{params:{isActive:"true",athleteId:O}});D.data.success?(r(D.data.data||[]),(N=D.data.data)==null||N.forEach(Q=>{v(Q.id)})):console.error(" Error fetching events:",D.data.error)}catch(O){console.error(" Error fetching events:",O),((P=O.response)==null?void 0:P.status)===401&&(alert("Authentication required. Please sign in again."),e("/signin"))}finally{i(!1)}},v=async N=>{try{if(!N)return;const O=await(await fetch(`${rm}/event-volunteer/admin-hydrate?eventId=${N}`)).json();O.success&&a(D=>({...D,[N]:O.data||[]}))}catch(P){console.error(" Error fetching volunteers:",P)}},j=N=>{if(!N)return"00:00";const[P,O]=N.split(" "),[D,Q]=P.split(":");let X=parseInt(D,10);return O==="PM"&&X!==12&&(X+=12),O==="AM"&&X===12&&(X=0),`${X.toString().padStart(2,"0")}:${Q||"00"}`},C=async N=>{var P,O,D,Q,X,K,ae,L,V,J,ee;if(N.preventDefault(),!((P=g.title)!=null&&P.trim())||!g.date){alert("Please fill in title and date");return}try{const te=g.date&&g.startTime?`${g.date}T${j(g.startTime)}:00`:g.date?`${g.date}T00:00:00`:null,ye=B.getAthleteId();if(!ye){alert("Athlete ID not found. Please sign in again."),e("/signin");return}const G=(await ie.post("/event",{title:g.title.trim(),description:((O=g.description)==null?void 0:O.trim())||null,date:te?new Date(te).toISOString():new Date().toISOString(),startTime:((D=g.startTime)==null?void 0:D.trim())||null,location:((Q=g.location)==null?void 0:Q.trim())||null,address:((X=g.address)==null?void 0:X.trim())||null,stravaRouteUrl:((K=g.stravaRouteUrl)==null?void 0:K.trim())||null,distance:((ae=g.distance)==null?void 0:ae.trim())||null,eventType:((L=g.eventType)==null?void 0:L.trim())||null,athleteId:ye})).data;G.success?(c(!1),f({title:"",description:"",date:"",startTime:"",location:"",address:"",stravaRouteUrl:"",distance:"",eventType:"race"}),y(),alert(G.wasUpdated?"Event updated successfully!":"Event created successfully!")):alert("Failed to create event: "+(G.error||"Unknown error"))}catch(te){console.error(" Error creating event:",te),((V=te.response)==null?void 0:V.status)===401?(alert("Authentication required. Please sign in again."),e("/signin")):alert("Failed to create event: "+(((ee=(J=te.response)==null?void 0:J.data)==null?void 0:ee.error)||te.message))}},S=N=>{var P;u(N),m({name:N.name,email:N.email,phone:N.phone||"",role:N.role,notes:N.notes||""}),p(N.eventId||((P=N.event)==null?void 0:P.id))},k=async N=>{var P,O,D;if(confirm(`Are you sure you want to delete ${N.name} from ${N.role}?`))try{if((await ie.delete(`/event-volunteer/${N.id}`)).data.success){alert(" Volunteer deleted successfully");const X=N.eventId||((P=N.event)==null?void 0:P.id);X&&v(X)}}catch(Q){console.error("Error deleting volunteer:",Q),alert(" Failed to delete volunteer: "+(((D=(O=Q.response)==null?void 0:O.data)==null?void 0:D.error)||Q.message))}},E=async()=>{if(!(!d||!h))try{if(!h){alert("Event not found");return}const P=await(await fetch(`${rm}/event-volunteer/${d.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w.name,email:w.email,phone:w.phone||void 0,notes:w.notes||void 0})})).json();P.success?(u(null),m({name:"",email:"",phone:"",role:"",notes:""}),v(h),alert("Volunteer updated successfully!")):alert("Failed to update volunteer: "+(P.error||"Unknown error"))}catch(N){console.error(" Error updating volunteer:",N),alert("Failed to update volunteer: "+N.message)}},I=N=>N?new Date(N).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"N/A";return o?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Event Management"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage events, view volunteers"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>c(!0),className:"px-6 py-3 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition flex items-center gap-2",children:[n.jsx(Rn,{className:"h-5 w-5"}),"Create Event"]}),n.jsx("button",{onClick:()=>e("/settings"),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition",children:"Back to Settings"})]})]})})}),n.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:t.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[n.jsx(tn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Events Yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first event to get started"}),n.jsx("button",{onClick:()=>c(!0),className:"px-6 py-3 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition",children:"Create Event"})]}):n.jsx("div",{className:"space-y-6",children:t.map(N=>{var P,O;return n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:N.title}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tn,{className:"h-4 w-4"}),n.jsx("span",{children:I(N.date)}),N.startTime&&n.jsxs("span",{children:[" ",N.startTime]})]}),N.location&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tx,{className:"h-4 w-4"}),n.jsx("span",{children:N.location})]}),N.stravaRouteUrl&&n.jsxs("a",{href:N.stravaRouteUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-orange-600 hover:text-orange-700",children:[n.jsx(xC,{className:"h-4 w-4"}),n.jsx("span",{children:"View Route"})]})]}),N.description&&n.jsx("p",{className:"mt-3 text-gray-700",children:N.description})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm font-semibold",children:[((P=s[N.id])==null?void 0:P.length)||0," Volunteers"]})})]}),n.jsxs("div",{className:"mt-6 border-t pt-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(Dr,{className:"h-5 w-5"}),"Volunteers"]}),(()=>{const D=ax(s[N.id]||[]);return n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[n.jsx(qo,{className:"h-4 w-4"}),n.jsx("span",{className:"font-semibold",children:D.totalFilled})," Filled"]}),n.jsxs("span",{className:"flex items-center gap-1 text-orange-600",children:[n.jsx(Yn,{className:"h-4 w-4"}),n.jsx("span",{className:"font-semibold",children:D.totalVacant})," Vacant"]}),D.totalVacant>0&&n.jsx("button",{onClick:()=>e(`/volunteer-management/vacant?eventId=${N.id}`),className:"text-orange-600 hover:text-orange-700 font-medium underline",children:"View Vacant Roles"})]})})()]}),n.jsx("button",{onClick:()=>v(N.id),className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"Refresh"})]}),((O=s[N.id])==null?void 0:O.length)>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Phone"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Notes"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s[N.id].sort((D,Q)=>{const X=mo(D.role),K=mo(Q.role);if(X!==K){const ae=["marshal","pacer","water","finish","other"];return ae.indexOf(X)-ae.indexOf(K)}return D.role.localeCompare(Q.role)}).map(D=>{const Q=mo(D.role),X=sx(Q);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:X})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:D.role}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:D.name}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:D.email}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:D.phone?n.jsx("a",{href:`tel:${D.phone}`,className:"text-orange-600 hover:text-orange-700 hover:underline",children:D.phone}):n.jsx("span",{className:"text-gray-400",children:""})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:D.notes||""}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>S(D),className:"text-orange-600 hover:text-orange-700 font-medium",children:"Edit"}),n.jsx("button",{onClick:()=>k(D),className:"text-red-600 hover:text-red-700 font-medium",children:"Delete"})]})})]},D.id)})})]})}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Dr,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{children:"No volunteers yet for this event"})]})]})]},N.id)})})}),l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Event"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{type:"button",onClick:b,className:"px-5 py-2.5 text-sm font-bold text-white bg-orange-500 rounded-lg hover:bg-orange-600 transition shadow-md hover:shadow-lg",title:"Click to fill ALL fields automatically - no typing required!",children:" Pre-fill: Boys on Run 5K"}),n.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(ea,{className:"h-6 w-6"})})]})]}),n.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[!g.title&&n.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:n.jsx("p",{className:"text-sm text-orange-700 font-medium",children:' Click the " Pre-fill: Boys on Run 5K" button above to automatically fill ALL fields - no typing required!'})}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Event Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:g.title,onChange:N=>f({...g,title:N.target.value}),placeholder:"Boys Gotta Run  Discovery 5K (Final Run)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{value:g.description,onChange:N=>f({...g,description:N.target.value}),placeholder:"Event description...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",value:g.date,onChange:N=>f({...g,date:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Time"}),n.jsxs("select",{value:g.startTime,onChange:N=>f({...g,startTime:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select time..."}),FC.map(N=>n.jsx("option",{value:N,children:N},N))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),n.jsx("input",{type:"text",value:g.location,onChange:N=>f({...g,location:N.target.value}),placeholder:"Discovery Elementary",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address"}),n.jsx("input",{type:"text",value:g.address,onChange:N=>f({...g,address:N.target.value}),placeholder:"5275 N 36th St, Arlington, VA 22207",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Distance"}),n.jsx("input",{type:"text",value:g.distance,onChange:N=>f({...g,distance:N.target.value}),placeholder:"5K, 10K, 3.1 miles, etc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Strava Route URL"}),n.jsx("input",{type:"url",value:g.stravaRouteUrl,onChange:N=>f({...g,stravaRouteUrl:N.target.value}),placeholder:"https://www.strava.com/routes/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Just paste the Strava route URL - no need to extract the ID"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-6 py-2 border border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600",children:"Create Event"})]})]})]})}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full",children:[n.jsxs("div",{className:"border-b px-6 py-4 flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Volunteer"}),n.jsx("button",{onClick:()=>{u(null),m({name:"",email:"",phone:"",role:"",notes:""})},className:"text-gray-400 hover:text-gray-600",children:n.jsx(ea,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:w.name,onChange:N=>m({...w,name:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",value:w.email,onChange:N=>m({...w,email:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone"}),n.jsx("input",{type:"tel",value:w.phone,onChange:N=>m({...w,phone:N.target.value}),placeholder:"(555) 123-4567",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"For text strand communication"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Role ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:w.role,onChange:N=>m({...w,role:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Select a role"}),UC.map(N=>n.jsx("option",{value:N,children:N},N))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{value:w.notes,onChange:N=>m({...w,notes:N.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{u(null),m({name:"",email:"",phone:"",role:"",notes:""})},className:"px-6 py-2 border border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsxs("button",{onClick:E,className:"px-6 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 flex items-center gap-2",children:[n.jsx(EC,{className:"h-4 w-4"}),"Save Changes"]})]})]})]})})]})},nm="https://gofastbackendv2-fall2025.onrender.com/api",BC=()=>{const e=ce(),[t,r]=x.useState([]),[s,a]=x.useState({}),[o,i]=x.useState(!0),[l,c]=x.useState(null),[d,u]=x.useState(null),[h,p]=x.useState(null),[g,f]=x.useState(null);x.useEffect(()=>{b()},[]),x.useEffect(()=>{l&&w(l)},[l]);const b=async()=>{var k;i(!0),p(null);try{const E=B.getAthleteId();if(!E){p("Athlete ID not found. Please sign in again."),e("/athlete-welcome");return}const I=await ie.get(`/event?athleteId=${E}`);if((k=I.data)!=null&&k.success&&I.data.data){const N=Array.isArray(I.data.data)?I.data.data:[];r(N),N.length>0&&!l&&c(N[0].id)}}catch(E){console.error("Failed to fetch events:",E),p("Failed to load events. Please try again.")}finally{i(!1)}},w=async k=>{if(k)try{const E=await fetch(`${nm}/event-volunteer/admin-hydrate?eventId=${k}`);if(E.ok){const I=await E.json();I.success&&I.data&&a(N=>({...N,[k]:Array.isArray(I.data)?I.data:[]}))}}catch(E){console.error("Failed to fetch volunteers:",E),p("Failed to load volunteers. Please try again.")}},m=async(k,E)=>{if(window.confirm("Are you sure you want to remove this volunteer?")){u(k),p(null),f(null);try{const I=await fetch(`${nm}/event-volunteer/${k}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(I.ok)f("Volunteer removed successfully."),await w(E),setTimeout(()=>f(null),3e3);else{const N=await I.json();throw new Error(N.error||"Failed to remove volunteer")}}catch(I){console.error("Failed to delete volunteer:",I),p(I.message||"Failed to remove volunteer. The DELETE endpoint may not be implemented yet."),setTimeout(()=>p(null),5e3)}finally{u(null)}}},y=k=>{var X;const E=t.find(K=>K.id===k),I=s[k]||[];if(I.length===0){alert("No volunteers to export.");return}const N=I.reduce((K,ae)=>{const L=ae.role||"Unassigned";return K[L]||(K[L]=[]),K[L].push(ae),K},{});let P=`Event: ${(E==null?void 0:E.title)||"Unknown Event"}
`;P+=`Date: ${E!=null&&E.date?new Date(E.date).toLocaleDateString():"N/A"}
`,P+=`Location: ${(E==null?void 0:E.location)||"N/A"}
`,P+=`
`,P+=`Total Volunteers: ${I.length}
`,P+=`
`,Object.entries(N).forEach(([K,ae])=>{P+=`
${K} (${ae.length})
`,P+=`Name,Email,Phone,Notes,Signup Date
`,ae.forEach(L=>{const V=L.name||"",J=L.email||"",ee=L.phone||"",te=L.notes||"",ye=L.createdAt?new Date(L.createdAt).toLocaleDateString():"";P+=`"${V}","${J}","${ee}","${te}","${ye}"
`})});const O=new Blob([P],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),Q=URL.createObjectURL(O);D.setAttribute("href",Q),D.setAttribute("download",`volunteers-${(X=E==null?void 0:E.title)==null?void 0:X.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${Date.now()}.csv`),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D)},v=k=>(s[k]||[]).reduce((N,P)=>{const O=P.role||"Unassigned";return N[O]||(N[O]=[]),N[O].push(P),N},{}),j=t.find(k=>k.id===l),C=l?s[l]||[]:[],S=l?v(l):{};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("button",{onClick:()=>e("/athlete-home"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition",children:[n.jsx(Zs,{className:"h-5 w-5"}),n.jsx("span",{children:"Back to Home"})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Volunteer Management"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage volunteers for your events"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>e("/settings/events"),className:"px-4 py-2 text-gray-600 hover:text-gray-900 rounded-lg font-medium hover:bg-gray-100 transition",children:"Manage Events"}),n.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 rounded-lg font-medium hover:bg-gray-100 transition",children:[n.jsx(Ud,{className:"h-4 w-4"}),n.jsx("span",{children:"Refresh"})]})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[h&&n.jsxs("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 p-4 flex items-center gap-3",children:[n.jsx(Yn,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),n.jsx("p",{className:"text-sm text-red-800",children:h})]}),g&&n.jsxs("div",{className:"mb-6 rounded-lg border border-green-200 bg-green-50 p-4 flex items-center gap-3",children:[n.jsx(qo,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),n.jsx("p",{className:"text-sm text-green-800",children:g})]}),o?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})}):t.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[n.jsx(tn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Events Yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Create an event to start managing volunteers."}),n.jsx("button",{onClick:()=>e("/settings/events"),className:"px-6 py-3 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition",children:"Create Event"})]}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Events"}),n.jsx("div",{className:"space-y-2",children:t.map(k=>{var N;const E=((N=s[k.id])==null?void 0:N.length)||0,I=l===k.id;return n.jsxs("button",{onClick:()=>c(k.id),className:`w-full text-left p-3 rounded-lg transition ${I?"bg-orange-50 border-2 border-orange-200":"bg-gray-50 hover:bg-gray-100 border-2 border-transparent"}`,children:[n.jsx("div",{className:"font-medium text-gray-900",children:k.title}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:k.date?new Date(k.date).toLocaleDateString():"No date"}),n.jsxs("div",{className:"text-xs text-orange-600 mt-1 font-medium",children:[E," volunteer",E!==1?"s":""]})]},k.id)})})]})}),n.jsx("div",{className:"lg:col-span-3",children:j?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:j.title}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-4 text-sm text-gray-600",children:[j.date&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tn,{className:"h-4 w-4"}),n.jsx("span",{children:new Date(j.date).toLocaleDateString()})]}),j.location&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(jC,{className:"h-4 w-4"}),n.jsx("span",{children:j.location})]})]})]}),n.jsxs("button",{onClick:()=>y(l),className:"flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition",children:[n.jsx(pC,{className:"h-4 w-4"}),n.jsx("span",{children:"Export CSV"})]})]}),n.jsx("div",{className:"flex items-center gap-4 text-sm",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(Dr,{className:"h-4 w-4"}),n.jsxs("span",{className:"font-medium",children:[C.length," total volunteer",C.length!==1?"s":""]})]})})]}),Object.keys(S).length>0?n.jsx("div",{className:"space-y-4",children:Object.entries(S).map(([k,E])=>n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[k," ",n.jsxs("span",{className:"text-gray-500 text-sm",children:["(",E.length,")"]})]})}),n.jsx("div",{className:"space-y-3",children:E.map(I=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900",children:I.name}),n.jsx("div",{className:"text-sm text-gray-600 mt-1",children:I.email}),I.phone&&n.jsx("div",{className:"text-sm text-gray-600 mt-1",children:n.jsx("a",{href:`tel:${I.phone}`,className:"text-orange-600 hover:text-orange-700 hover:underline",children:I.phone})}),I.notes&&n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:I.notes}),n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Signed up: ",I.createdAt?new Date(I.createdAt).toLocaleDateString():"Unknown"]})]}),n.jsx("button",{onClick:()=>m(I.id,l),disabled:d===I.id,className:"ml-4 p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove volunteer",children:d===I.id?n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-red-600"}):n.jsx(Ts,{className:"h-5 w-5"})})]},I.id))})]},k))}):n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[n.jsx(Dr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Volunteers Yet"}),n.jsx("p",{className:"text-gray-600",children:"Volunteers will appear here once they sign up for this event."})]})]}):n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[n.jsx(tn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select an Event"}),n.jsx("p",{className:"text-gray-600",children:"Choose an event from the list to view volunteers."})]})})]})]})]})},sm="https://gofastbackendv2-fall2025.onrender.com/api",HC=()=>{const e=ce(),[t]=Br(),r=t.get("eventId"),[s,a]=x.useState([]),[o,i]=x.useState(null),[l,c]=x.useState(!0);x.useEffect(()=>{r&&d()},[r]);const d=async()=>{c(!0);try{const f=await(await fetch(`${sm}/event/${r}`)).json();f.success&&i(f.data);const w=await(await fetch(`${sm}/event-volunteer/admin-hydrate?eventId=${r}`)).json();w.success&&a(w.data||[])}catch(g){console.error("Error fetching data:",g)}finally{c(!1)}};if(l)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading vacant roles..."})]})});const u=ax(s,nx),h={};u.vacantRoles.forEach(g=>{const f=mo(g);h[f]||(h[f]=[]),h[f].push(g)});const p=["marshal","pacer","water","finish"];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("button",{onClick:()=>e("/settings/events"),className:"text-gray-600 hover:text-gray-900",children:n.jsx(Zs,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-2xl font-bold",children:"Vacant Volunteer Roles"})]}),o&&n.jsx("p",{className:"text-gray-600 ml-8",children:o.title})]})})})}),n.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 mb-2",children:[n.jsx(qo,{className:"h-5 w-5"}),n.jsx("span",{className:"text-2xl font-bold",children:u.totalFilled})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Filled Roles"})]}),n.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-600 mb-2",children:[n.jsx(Yn,{className:"h-5 w-5"}),n.jsx("span",{className:"text-2xl font-bold",children:u.totalVacant})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Vacant Roles"})]}),n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-600 mb-2",children:[n.jsx(Dr,{className:"h-5 w-5"}),n.jsx("span",{className:"text-2xl font-bold",children:u.totalExpected})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Expected"})]})]})}),u.totalVacant===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[n.jsx(qo,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"All Roles Filled!"}),n.jsx("p",{className:"text-gray-600",children:"All volunteer positions have been filled. Great job!"})]}):n.jsx("div",{className:"space-y-6",children:p.map(g=>!h[g]||h[g].length===0?null:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:sx(g)}),n.jsxs("span",{className:"text-gray-500 text-sm",children:["(",h[g].length," vacant)"]})]}),n.jsx("div",{className:"space-y-2",children:h[g].map(f=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:f}),n.jsx("span",{className:"text-xs text-orange-600 font-medium",children:"Vacant"})]},f))})]},g))})]})]})},zC=()=>{const e=ce(),[t]=Br(),[r,s]=x.useState("loading"),[a,o]=x.useState("");return x.useEffect(()=>{(async()=>{try{console.log(" GarminOAuthCallback: Processing OAuth callback");const l=t.get("code"),c=t.get("state"),d=t.get("error");if(console.log(" OAuth callback params:",{code:l?"present":"missing",state:c,error:d}),d)throw new Error(`OAuth error: ${d}`);if(!l)throw new Error("No authorization code received");console.log(" Authorization code received:",l);const u=localStorage.getItem("athleteId");if(!u)throw new Error("AthleteId not found in localStorage");console.log(" Calling backend exchange endpoint with:",{code:l,athleteId:u});const h=await fetch(`https://gofastbackendv2-fall2025.onrender.com/api/garmin/exchange?code=${l}&athleteId=${u}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(console.log(" Backend response status:",h.status),!h.ok){const g=await h.json();throw new Error(g.error||"Failed to exchange code for tokens")}const p=await h.json();console.log(" Tokens exchanged successfully:",p),s("success"),o("Garmin connected successfully!"),setTimeout(()=>e(`/garmin/success?athleteId=${u}`),1e3)}catch(l){console.error(" OAuth callback error:",l),s("error"),o(l.message||"Failed to connect to Garmin"),setTimeout(()=>e("/settings"),3e3)}})()},[e,t]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:n.jsx("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full",children:[r==="loading"&&n.jsx(Ud,{className:"h-8 w-8 text-orange-600 animate-spin"}),r==="success"&&n.jsx(Zg,{className:"h-8 w-8 text-green-600"}),r==="error"&&n.jsx(Yn,{className:"h-8 w-8 text-red-600"})]}),r!=="loading"&&n.jsx("div",{className:"mb-4 flex justify-center",children:n.jsx("img",{src:"/Garmin_Connect_app_1024x1024-02.png",alt:"Garmin Connect",className:"h-10 w-auto"})}),n.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[r==="loading"&&"Processing Garmin Connect Connection...",r==="success"&&"Garmin Connect Connected Successfully!",r==="error"&&"Connection Failed"]}),n.jsxs("p",{className:"text-gray-600 mb-6",children:[r==="loading"&&"Please wait while we complete your Garmin Connect connection...",r==="success"&&"Redirecting to your dashboard...",r==="error"&&a]})]})})})},WC=()=>{const e=ce(),[t,r]=x.useState("loading"),[s,a]=x.useState(""),[o,i]=x.useState({connected:!1,userId:null,connectedAt:null}),[l,c]=x.useState(!1);x.useEffect(()=>{const p=new URLSearchParams(window.location.search),g=p.get("status"),f=p.get("athleteId"),b=p.get("message");console.log(" URL params:",{urlStatus:g,athleteId:f,message:b});const w=window.opener!==null;g==="error"?(r("error"),a(b||"Unknown error occurred"),i(m=>({...m,connected:!1})),w&&window.opener.postMessage({type:"GARMIN_CONNECTION_ERROR",message:b||"Unknown error occurred"},"*")):g==="success"||f?(r("success"),i(m=>({...m,connected:!0,connectedAt:new Date().toISOString()})),w&&window.opener.postMessage({type:"GARMIN_CONNECTED",success:!0,athleteId:f},"*")):(r("unknown"),w&&window.opener.postMessage({type:"GARMIN_CONNECTION_UNKNOWN",message:"Unable to determine connection status"},"*"))},[]);const d=()=>{window.opener?(window.opener.postMessage({type:"GARMIN_CONNECTED",success:!0,action:"start_tracking"},"*"),setTimeout(()=>window.close(),100)):e("/athlete-home")},u=()=>{window.opener?window.close():e("/settings")},h=()=>t==="loading"?n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full",children:n.jsx(Ud,{className:"h-8 w-8 text-blue-600 animate-spin"})}),n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Processing..."}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Checking your Garmin Connect connection status."})]}):t==="error"?n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full",children:n.jsx(Yn,{className:"h-8 w-8 text-red-600"})}),n.jsx("h1",{className:"text-2xl font-bold mb-2 text-red-600",children:"Connection Failed"}),n.jsx("p",{className:"text-gray-600 mb-6",children:s||"There was an error connecting your Garmin Connect account."})]}):t==="success"?n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:n.jsx(Zg,{className:"h-10 w-10 text-green-600"})}),n.jsx("div",{className:"mb-4 flex justify-center",children:n.jsx("img",{src:"/Garmin_Connect_app_1024x1024-02.png",alt:"Garmin Connect",className:"h-12 w-auto"})}),n.jsx("h1",{className:"text-2xl font-bold mb-3 text-gray-900",children:"Garmin Connect Connected! "}),n.jsx("p",{className:"text-gray-700 mb-2 text-lg font-medium",children:"You're all set! Your runs will now sync automatically."}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Track your progress, hit your goals, and let's go fast together! "})]}):n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full",children:n.jsx(Yn,{className:"h-8 w-8 text-yellow-600"})}),n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Unknown Status"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Unable to determine connection status."})]});return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:n.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:[h(),n.jsxs("div",{className:"space-y-4",children:[t==="success"&&n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Connection Details:"}),n.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," Connected"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Connected:"})," ",o.connectedAt?new Date(o.connectedAt).toLocaleString():"Just now"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[t==="error"&&n.jsx("button",{onClick:u,className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors font-semibold",children:"Close"}),t==="success"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:d,className:"w-full bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors font-semibold mb-2",children:"Start Tracking "}),n.jsx("button",{onClick:u,className:"w-full bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Close"})]}),t==="unknown"&&n.jsx("button",{onClick:u,className:"w-full bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors font-semibold",children:"Close"})]}),n.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:n.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Garmin Connect is a trademark of Garmin Ltd. or its subsidiaries. GoFast is not affiliated with Garmin Ltd. or its subsidiaries."})})]})]})})},VC=()=>{const e=ce(),[t]=Br();x.useEffect(()=>{const o=t.get("code");o&&e(`/run-crew-join?code=${encodeURIComponent(o)}`)},[t,e]);const r=()=>{e("/run-crew-join")},s=()=>{e("/form-run-crew")},a=()=>{e(-1)};return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-white shadow-sm",children:n.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-6 h-6 rounded-full"}),n.jsx("span",{className:"font-bold text-gray-900",children:"GoFast"})]}),n.jsx("div",{})]})})}),n.jsxs("div",{className:"max-w-md mx-auto px-6 py-12",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Where do you want to start?"}),n.jsx("p",{className:"text-gray-600",children:"Join an existing crew or start your own"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("button",{onClick:r,className:"w-full bg-orange-500 text-white py-6 rounded-xl font-bold text-xl hover:bg-orange-600 transition-colors shadow-lg flex items-center justify-center space-x-3",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsx("span",{children:"Enter Invite Code"})]}),n.jsxs("button",{onClick:s,className:"w-full bg-white border-2 border-orange-200 text-gray-900 py-6 rounded-xl font-bold text-xl hover:border-orange-400 transition-colors shadow-lg flex items-center justify-center space-x-3",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsx("span",{children:"Start Your Crew"})]})]}),n.jsxs("div",{className:"mt-12 bg-gray-50 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 text-center",children:"How Run Crews Work"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:n.jsx("span",{className:"text-orange-600 font-bold text-xs",children:"1"})}),n.jsx("p",{className:"text-sm text-gray-600",children:"Join an existing crew with an invite code or create your own"})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:n.jsx("span",{className:"text-orange-600 font-bold text-xs",children:"2"})}),n.jsx("p",{className:"text-sm text-gray-600",children:"Share your join code with friends to build your crew"})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:n.jsx("span",{className:"text-orange-600 font-bold text-xs",children:"3"})}),n.jsx("p",{className:"text-sm text-gray-600",children:"Coordinate runs, track progress, and stay accountable together"})]})]})]})]})]})},am="https://gofastbackendv2-fall2025.onrender.com/api";function GC(){const e=ce(),[t]=Br(),[r,s]=x.useState(""),[a,o]=x.useState(!1),[i,l]=x.useState(null),[c,d]=x.useState(!1),[u,h]=x.useState(null),[p,g]=x.useState(!1);x.useEffect(()=>{const j=t.get("code");j&&s(j.toUpperCase().trim())},[t]);const f=j=>{const C=j.toUpperCase().trim();return!C||C.length<3?{valid:!1,message:"Join code must be at least 3 characters"}:C.length>20?{valid:!1,message:"Join code must be 20 characters or less"}:/^[A-Z0-9-_]+$/.test(C)?{valid:!0,normalized:C}:{valid:!1,message:"Join code can only contain letters, numbers, hyphens, and underscores"}},b=async j=>{const C=f(j);if(!C.valid){l(C.message),h(null),g(!1);return}try{d(!0),l(null);const S=await fetch(`${am}/runcrew/preview/${C.normalized}`);if(!S.ok){const E=await S.json();throw new Error(E.message||"RunCrew not found")}const k=await S.json();if(k.success&&k.runCrew)h(k.runCrew),g(!0);else throw new Error("Invalid join code")}catch(S){console.error("Error previewing crew:",S),l(S.message||"RunCrew not found. Please check the code and try again."),h(null),g(!1)}finally{d(!1)}},w=async()=>{var S,k;l(null);const j=f(r);if(!j.valid){l(j.message);return}const C=B.getAthleteId();if(!C){l("Please sign in again"),e("/athlete-home");return}o(!0);try{const E=fe.currentUser;if(!E){l("Please sign in again"),e("/athlete-home");return}const I=await E.getIdToken(),N=await fetch(`${am}/runcrew/join`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify({joinCode:j.normalized,athleteId:C})}),P=await N.json();if(!N.ok)throw new Error(P.message||P.error||"Failed to join crew");if(P.success){if(P.runCrew){const D=Array.isArray((S=P.runCrew)==null?void 0:S.managers)?P.runCrew.managers.find(L=>L.athleteId===C&&L.role==="admin"):null,Q=!!D,X=B.getAthleteProfile()||{},K=Array.isArray(X.runCrews)?X.runCrews:[],ae=[{...P.runCrew,isAdmin:Q},...K.filter(L=>L.id!==P.runCrew.id)];B.setAthleteProfile({...X,runCrews:ae}),B.setRunCrewData({...P.runCrew,isAdmin:Q}),B.setRunCrewId(P.runCrew.id),B.setRunCrewManagerId((D==null?void 0:D.id)||null)}const O=Array.isArray((k=P.runCrew)==null?void 0:k.managers)?P.runCrew.managers.find(D=>D.athleteId===C&&D.role==="admin"):null;e(O?"/crew/crewadmin":`/runcrew/${P.runCrew.id}`)}else throw new Error(P.message||"Failed to join crew")}catch(E){console.error("Error joining crew:",E),l(E.message||"Failed to join crew. Please check the code and try again.")}finally{o(!1)}},m=j=>{const C=j.target.value;s(C),l(null),h(null),g(!1)},y=()=>{r.trim()&&b(r)},v=()=>{w()};return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:n.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("button",{onClick:()=>e("/runcrew/join"),className:"text-gray-600 hover:text-gray-800",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-6 h-6 rounded-full"}),n.jsx("span",{className:"font-bold text-gray-900",children:"GoFast"})]}),n.jsx("div",{})]})})}),n.jsxs("div",{className:"max-w-md mx-auto px-6 py-12",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Enter Your Invite Code"}),n.jsx("p",{className:"text-gray-600",children:"Get the code from your RunCrew admin"})]}),i&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:n.jsx("p",{className:"text-red-800 text-sm",children:i})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Join Code"}),n.jsx("input",{type:"text",value:r,onChange:m,onKeyPress:j=>{j.key==="Enter"&&r.trim()&&!p&&y()},className:"w-full p-4 border-2 border-gray-300 rounded-lg text-lg font-mono uppercase focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"e.g. FAST123",disabled:a||c,maxLength:20}),c&&n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Checking code..."}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Enter the join code provided by your RunCrew admin"})]}),p&&u&&n.jsxs("div",{className:"bg-white border-2 border-orange-200 rounded-lg p-6 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Preview RunCrew"}),n.jsx("button",{onClick:()=>{g(!1),h(null)},className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:u.name}),u.description&&n.jsx("p",{className:"text-gray-600 mt-1",children:u.description})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),n.jsxs("span",{children:[u.memberCount," members"]})]}),u.admin&&n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("span",{children:["Admin: ",u.admin.firstName," ",u.admin.lastName]})})]})]})]}),p?n.jsx("button",{onClick:v,disabled:a||c,className:"w-full bg-green-600 text-white py-4 rounded-lg font-bold text-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:a?"Joining...":"Yes, Join This Crew"}):n.jsx("button",{onClick:y,disabled:a||!r.trim()||c,className:"w-full bg-orange-500 text-white py-4 rounded-lg font-bold text-lg hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:c?"Checking...":"Preview Crew"}),n.jsx("button",{onClick:()=>e("/runcrew/join"),className:"w-full text-gray-600 py-2 hover:text-gray-800",children:" Back"})]})]})]})}const JC="https://gofastbackendv2-fall2025.onrender.com/api";function cl(){var j;const e=ce(),{code:t}=hi(),[r]=Br(),s=r.get("code"),[a,o]=x.useState(""),[i,l]=x.useState(null),[c,d]=x.useState(!1),[u,h]=x.useState(null),[p,g]=x.useState(!1),f=!!(t||s),b=Cc.useCallback(async C=>{var k,E;if(!C||!C.trim()){console.log(" JoinCodeWelcome: No code provided to lookup");return}const S=C.trim().toUpperCase();console.log(" JoinCodeWelcome: Looking up crew with code:",S),d(!0),h(null);try{const I=await Te.post(`${JC}/runcrew/lookup`,{joinCode:S});console.log(" JoinCodeWelcome: Lookup response:",I.data),I.data.success?(l(I.data),console.log(" JoinCodeWelcome: Crew preview set:",I.data.name)):(h(I.data.message||"Invalid or expired join code"),l(null))}catch(I){console.error(" JoinCodeWelcome: Lookup error:",I),h(((E=(k=I.response)==null?void 0:k.data)==null?void 0:E.message)||"Invalid or expired join code"),l(null)}finally{d(!1)}},[]);x.useEffect(()=>{const C=t||s;if(console.log(" JoinCodeWelcome: useEffect triggered - code:",t,"codeFromQuery:",s),C){const S=C.toUpperCase().trim();console.log(" JoinCodeWelcome: Normalized code:",S),o(S),S&&(console.log(" JoinCodeWelcome: Auto-lookup triggered with code:",S),b(S))}else console.log(" JoinCodeWelcome: No code found in URL")},[t,s,b]);const w=async()=>{if(!a.trim()){h("Please enter a join code");return}await b(a)},m=async()=>{if(!i){h("Please find a crew first");return}d(!0),h(null);try{localStorage.setItem("pendingJoinCode",a.trim().toUpperCase()),localStorage.setItem("pendingJoinCrewId",i.id),localStorage.setItem("pendingJoinCrewName",i.name),g(!0),d(!1)}catch(C){console.error("Join error:",C),h(C.message||"Failed to proceed. Please try again."),d(!1)}},y=C=>{const S=C.target.value.toUpperCase();o(S),h(null),l(null)},v=C=>{C.key==="Enter"&&a.trim()&&!i&&w()};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 to-sky-100 flex items-center justify-center px-6 py-12",children:n.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-12 h-12 rounded-full shadow-md"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:i?`Welcome to ${i.name}!`:c?"Finding Your Crew...":"Join a RunCrew on GoFast"}),i?n.jsx("p",{className:"text-gray-600 text-sm",children:"You've been invited to join this running crew. Run together, stay accountable, and crush your goals!"}):c?n.jsx("p",{className:"text-gray-600 text-sm",children:"Loading crew details..."}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-gray-600 text-sm",children:"RunCrews are your running community  friends who train together, schedule runs, and keep each other accountable."}),n.jsx("p",{className:"text-gray-500 text-xs",children:"Enter the join code you received to find your crew."})]})]})]}),u&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:u}),p&&i&&n.jsxs("div",{className:"text-center py-8 space-y-4",children:[n.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full mx-auto flex items-center justify-center mb-4",children:n.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"You're Joined!"}),n.jsxs("p",{className:"text-gray-600",children:["Welcome to ",n.jsx("strong",{children:i.name}),"!"]}),n.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-lg p-4 mt-4",children:[n.jsxs("p",{className:"text-sm text-orange-800 font-medium mb-2",children:[" ",n.jsx("strong",{children:"Important:"})," Your join is pending!"]}),n.jsx("p",{className:"text-xs text-orange-700",children:"You need to sign up to secure your spot. If you don't create an account, your choice to join might not stick."})]}),n.jsxs("button",{onClick:()=>e("/crewjoin",{replace:!0}),className:"w-full bg-gradient-to-r from-sky-600 to-sky-700 hover:from-sky-700 hover:to-sky-800 text-white font-bold py-4 rounded-xl transition shadow-lg hover:shadow-xl flex items-center justify-center space-x-2 mt-4",children:[n.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),n.jsx("span",{children:"Click here to sign up"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"We'll use your Google account to get you started quickly"})]}),c&&!i&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-500 mx-auto"}),n.jsx("p",{className:"text-gray-600 mt-4 text-sm",children:"Finding your crew..."}),n.jsx("p",{className:"text-gray-500 mt-2 text-xs",children:"This will just take a moment"})]}),i?n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-gradient-to-br from-sky-50 to-blue-50 border-2 border-sky-200 rounded-xl p-6 space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[(i.icon||i.logo)&&n.jsx("div",{className:"text-center mb-2",children:i.logo?n.jsx("img",{src:i.logo,alt:i.name,className:"w-16 h-16 mx-auto rounded-full object-cover"}):i.icon?n.jsx("span",{className:"text-5xl",children:i.icon}):null}),i.description&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"About This Crew"}),n.jsx("p",{className:"text-base text-gray-800 leading-relaxed",children:i.description})]}),i.admin?n.jsxs("div",{className:"pt-2 border-t border-sky-200",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Crew Admin"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[i.admin.photoURL?n.jsx("img",{src:i.admin.photoURL,alt:`${i.admin.firstName} ${i.admin.lastName}`,className:"w-12 h-12 rounded-full object-cover border-2 border-sky-300"}):n.jsx("div",{className:"w-12 h-12 rounded-full bg-sky-200 flex items-center justify-center border-2 border-sky-300",children:n.jsx("span",{className:"text-sky-600 font-bold text-lg",children:((j=i.admin.firstName)==null?void 0:j[0])||"A"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[i.admin.firstName," ",i.admin.lastName]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Crew Admin"})]})]})]}):n.jsxs("div",{className:"pt-2 border-t border-sky-200",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Current Members"}),n.jsxs("p",{className:"text-lg font-bold text-sky-700",children:[i.memberCount," member",i.memberCount!==1?"s":""]})]})]})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-xs text-blue-800",children:[n.jsx("strong",{children:"What happens next?"})," You'll join the crew, see upcoming runs, chat with members, and track your progress together."]})}),n.jsx("button",{onClick:m,disabled:c,className:"w-full bg-gradient-to-r from-sky-600 to-sky-700 hover:from-sky-700 hover:to-sky-800 text-white font-bold py-4 rounded-xl transition shadow-lg hover:shadow-xl disabled:opacity-60 disabled:cursor-not-allowed text-lg",children:c?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Joining Crew..."]}):"Join This Crew"})]}):f?null:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Enter Your Join Code"}),n.jsx("input",{type:"text",value:a,onChange:y,onKeyPress:v,placeholder:"e.g. FAST123",className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 text-lg font-mono uppercase focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition",disabled:c,maxLength:20}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Got a join code from a friend? Enter it above to find their crew."})]}),n.jsx("button",{onClick:w,disabled:c||!a.trim(),className:"w-full bg-gradient-to-r from-sky-600 to-sky-700 hover:from-sky-700 hover:to-sky-800 text-white font-semibold py-3 rounded-lg transition shadow-md hover:shadow-lg disabled:opacity-60 disabled:cursor-not-allowed",children:c?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Finding..."]}):"Find My Crew"})]}),n.jsx("button",{onClick:()=>e("/athlete-home"),className:"w-full text-gray-600 hover:text-gray-800 text-sm py-2 font-medium",children:" Back to Home"})]})})}const qC=async()=>new Promise(e=>{const t=mc(fe,r=>{if(t(),r){console.log(" AuthDetection: User authenticated:",r.email),e(!0);return}const s=B.getAthleteId(),a=localStorage.getItem("firebaseToken");if(s&&a){console.log(" AuthDetection: Found athleteId and token in localStorage"),e(!0);return}console.log(" AuthDetection: User not authenticated"),e(!1)})}),KC=e=>{if(!e)throw new Error("Join code is required");const t=e.toUpperCase().trim();return`${window.location.origin||"https://athlete.gofastcrushgoals.com"}/joinruncrewwelcome?code=${encodeURIComponent(t)}`},om="https://gofastbackendv2-fall2025.onrender.com/api";function YC(){const e=ce(),[t]=Br(),[r,s]=x.useState(""),[a,o]=x.useState(null),[i,l]=x.useState(!1),[c,d]=x.useState(!1),[u,h]=x.useState(null),[p,g]=x.useState(null),[f,b]=x.useState(!1);x.useEffect(()=>{const C=t.get("code");if(C){const S=C.toUpperCase().trim();s(S),(async()=>{try{const E=await qC();if(b(!0),E){console.log(" JoinRunCrewWelcome: User authenticated  Redirecting to authenticated join flow"),e(`/runcrew/join?code=${encodeURIComponent(S)}`,{replace:!0});return}console.log(" JoinRunCrewWelcome: User not authenticated  Continuing with Join Code-First flow"),await w(S)}catch(E){console.error("Error checking auth state:",E),b(!0),await w(S)}})()}else b(!0)},[t,e]);const w=async(C=null)=>{const S=C||r.trim();if(!S){h("Please enter a join code");return}d(!0),h(null),o(null);try{console.log(" JoinRunCrewWelcome: Validating code with backend...");const k=await fetch(`${om}/join/validate?code=${encodeURIComponent(S.toUpperCase().trim())}`);if(!k.ok){const I=await k.json().catch(()=>({}));throw new Error(I.message||"Invalid or expired join code")}const E=await k.json();if(E.success)console.log(" JoinRunCrewWelcome: Code validated, crew found:",E.crewName),o(E),s(S.toUpperCase().trim());else throw new Error(E.message||"Invalid join code")}catch(k){console.error(" JoinRunCrewWelcome: Validation error:",k),h(k.message||"Failed to validate join code. Please check the code and try again."),o(null)}finally{d(!1)}},m=async()=>{if(!a||!r.trim()){h("Please validate a join code first");return}l(!0),h(null);try{console.log(" JoinRunCrewWelcome: Storing join context...");const C=await fetch(`${om}/join/temp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({joinCode:r.trim().toUpperCase()})});if(!C.ok){const k=await C.json().catch(()=>({}));throw new Error(k.message||"Failed to store join context")}const S=await C.json();if(S.success)console.log(" JoinRunCrewWelcome: Join context stored, redirecting to signup"),g(S.sessionId),localStorage.setItem("joinSessionId",S.sessionId),e(`/athletesignup?hasJoinContext=true&sessionId=${S.sessionId}`,{replace:!0});else throw new Error(S.message||"Failed to store join context")}catch(C){console.error(" JoinRunCrewWelcome: Join error:",C),h(C.message||"Failed to proceed. Please try again.")}finally{l(!1)}},y=C=>{const S=C.target.value.toUpperCase();s(S),h(null),o(null)},v=C=>{C.key==="Enter"&&r.trim()&&!a&&w()},j=()=>{h(null),o(null),s("")};return f?c&&!a?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center px-6 py-12",children:n.jsx("div",{className:"max-w-md w-full bg-white border border-gray-200 rounded-xl shadow-lg p-8 space-y-6",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Loading your RunCrew... standby..."}),n.jsxs("p",{className:"text-gray-500 text-xs",children:["Validating code: ",r]})]})})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center px-6 py-12",children:n.jsxs("div",{className:"max-w-md w-full bg-white border border-gray-200 rounded-xl shadow-lg p-8 space-y-6",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"You've Been Invited!"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Join a RunCrew and start crushing your goals together"})]}),u&&!a&&n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6 space-y-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl mb-2",children:""}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Code Not Found"}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:u})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Hey, all good! Check with your bro or still wanna join?"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:j,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white font-semibold py-2 px-4 rounded-lg transition text-sm",children:"Try Another Code"}),n.jsx("button",{onClick:()=>e("/runcrew/join-or-start"),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg transition text-sm",children:"Browse Crews"})]})]})]}),a&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 space-y-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl mb-2",children:""}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Here's Your Crew!"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-100",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Crew Name"}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:a.crewName})]}),a.managerName&&n.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-100",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Led by"}),n.jsx("p",{className:"text-base font-semibold text-gray-700",children:a.managerName})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-100",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Members"}),n.jsxs("p",{className:"text-base text-gray-700",children:[a.memberCount," member",a.memberCount!==1?"s":""]})]}),a.description&&n.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-100",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"About"}),n.jsx("p",{className:"text-base text-gray-700",children:a.description})]})]})]}),n.jsx("button",{onClick:m,disabled:i,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),n.jsx("span",{children:"Processing..."})]}):n.jsx("span",{children:"Join This Crew"})})]}),!a&&!u&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter your join code"}),n.jsx("input",{type:"text",value:r,onChange:y,onKeyPress:v,placeholder:"Enter your join code",className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-lg font-mono uppercase focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",disabled:i||c,maxLength:20})]}),n.jsx("button",{onClick:()=>w(),disabled:i||c||!r.trim(),className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 rounded-lg transition disabled:opacity-60 disabled:cursor-not-allowed",children:c?"Validating...":"Validate Code"})]}),n.jsx("div",{className:"text-center",children:n.jsx("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-800 text-sm",children:" Back to Home"})})]})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center px-6 py-12",children:n.jsx("div",{className:"max-w-md w-full bg-white border border-gray-200 rounded-xl shadow-lg p-8 space-y-6",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Loading your RunCrew... standby..."})]})})})}const QC=()=>{const e=ce(),[t,r]=x.useState(!1),[s,a]=x.useState(!1),[o,i]=x.useState(null),[l,c]=x.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),d=localStorage.getItem("pendingJoinCode"),u=localStorage.getItem("pendingJoinCrewName"),h=async(f,b,w)=>{var I;if(!d)throw new Error("No join code found. Please start from the invite link.");const m=await f.getIdToken();if(!m)throw new Error("Failed to get authentication token");console.log(" JoinCrewAthSignup: Firebase token obtained"),localStorage.setItem("firebaseToken",m),localStorage.setItem("firebaseId",f.uid),localStorage.setItem("email",f.email),console.log(" JoinCrewAthSignup: Upserting athlete with Firebase data...");const y=await ie.post("/athlete/create",{});if(!y.data||!y.data.success)throw new Error(((I=y.data)==null?void 0:I.message)||"Failed to create athlete");const v=y.data.athleteId;if(!v)throw new Error("No athlete ID returned from server");console.log(" JoinCrewAthSignup: Athlete upserted:",v),localStorage.setItem("athleteId",v);const j=y.data.data;if(!(j!=null&&j.gofastHandle)){console.log(" JoinCrewAthSignup: Profile incomplete  Redirecting to profile creation"),e("/crewjoin/profile",{replace:!0});return}console.log(" JoinCrewAthSignup: Profile complete, joining crew atomically...");const C=await ie.post("/runcrew/join",{joinCode:d});if(!C.data.success)throw new Error(C.data.message||"Failed to join crew");const{runCrew:S}=C.data,k=Array.isArray(S==null?void 0:S.managers)?S.managers.find(N=>N.athleteId===v&&N.role==="admin"):null,E=!!k;B.setRunCrewData({...S,isAdmin:E}),B.setRunCrewId(S.id),k&&B.setRunCrewManagerId(k.id),localStorage.removeItem("pendingJoinCode"),localStorage.removeItem("pendingJoinCrewId"),localStorage.removeItem("pendingJoinCrewName"),console.log(" JoinCrewAthSignup: Join completed! Redirecting to success page"),e("/crewjoin/profile/success",{replace:!0})},p=async()=>{var f,b,w;if(!t){if(!d){i("No join code found. Please start from the invite link.");return}r(!0),i(null);try{console.log(" JoinCrewAthSignup: Starting signup with Google...");const m=await Pd();console.log(" JoinCrewAthSignup: Google sign-in successful:",m.email);const y=fe.currentUser;if(!y)throw new Error("Failed to get Firebase user");const v=((f=m.name)==null?void 0:f.split(" "))||[],j=v[0]||"",C=v.slice(1).join(" ")||"";await h(y,j,C)}catch(m){console.error(" JoinCrewAthSignup: Google signup failed:",m),i(((w=(b=m.response)==null?void 0:b.data)==null?void 0:w.message)||m.message||"Failed to sign up and join crew")}finally{r(!1)}}},g=async f=>{if(f.preventDefault(),!t){if(!d){i("No join code found. Please start from the invite link.");return}if(l.password!==l.confirmPassword){i("Passwords don't match!");return}if(l.password.length<6){i("Password must be at least 6 characters");return}r(!0),i(null);try{console.log(" JoinCrewAthSignup: Starting signup with email...");const w=(await Jj(fe,l.email,l.password)).user;if(l.firstName||l.lastName){const m=`${l.firstName} ${l.lastName}`.trim();await Kj(w,{displayName:m})}console.log(" JoinCrewAthSignup: Email signup successful:",w.email),await h(w,l.firstName,l.lastName)}catch(b){console.error(" JoinCrewAthSignup: Email signup failed:",b),b.code==="auth/email-already-in-use"?i("This email is already registered. Please sign in instead."):b.code==="auth/invalid-email"?i("Invalid email address."):b.code==="auth/weak-password"?i("Password is too weak. Please use a stronger password."):i(b.message||"Failed to sign up and join crew")}finally{r(!1)}}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 to-sky-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-12 h-12 rounded-full shadow-md"})}),n.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Join ",u||"Your Crew"]}),n.jsx("p",{className:"text-gray-600",children:"Sign up to complete your join and start running together!"})]}),o&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:o}),s?n.jsx(n.Fragment,{children:n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),n.jsx("input",{type:"text",required:!0,value:l.firstName,onChange:f=>c({...l,firstName:f.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"John"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),n.jsx("input",{type:"text",required:!0,value:l.lastName,onChange:f=>c({...l,lastName:f.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"Doe"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),n.jsx("input",{type:"email",required:!0,value:l.email,onChange:f=>c({...l,email:f.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"john@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),n.jsx("input",{type:"password",required:!0,minLength:6,value:l.password,onChange:f=>c({...l,password:f.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"Minimum 6 characters"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),n.jsx("input",{type:"password",required:!0,value:l.confirmPassword,onChange:f=>c({...l,confirmPassword:f.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"Confirm your password"})]}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 font-bold rounded-xl hover:bg-gray-200 transition",children:"Back"}),n.jsx("button",{type:"submit",disabled:t,className:"flex-1 px-6 py-3 bg-gradient-to-r from-sky-600 to-sky-700 text-white font-bold rounded-xl hover:shadow-lg transition-all hover:scale-105 disabled:opacity-50",children:t?"Signing up...":"Sign Up"})]})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:p,disabled:t,className:"w-full bg-white border-2 border-gray-300 text-gray-800 py-4 px-6 rounded-xl font-semibold hover:bg-gray-50 transition shadow-lg disabled:opacity-50 flex items-center justify-center gap-3",children:[n.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),n.jsx("span",{children:t?"Signing up...":"Sign up with Google"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-1 border-t border-gray-300"}),n.jsx("span",{className:"text-gray-500 text-sm",children:"or"}),n.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),n.jsx("button",{onClick:()=>a(!0),disabled:t,className:"w-full bg-sky-50 border-2 border-sky-200 text-sky-700 py-4 px-6 rounded-xl font-semibold hover:bg-sky-100 transition shadow-lg disabled:opacity-50",children:"Sign up with Email"})]}),n.jsxs("p",{className:"text-center text-gray-600 text-sm",children:["Already have an account?"," ",n.jsx("button",{onClick:()=>e("/athletesignin"),className:"text-sky-600 font-semibold hover:underline",children:"Sign In"})]})]})})},XC=()=>{const e=ce(),t=localStorage.getItem("pendingJoinCrewName"),r=x.useRef(null),[s,a]=x.useState({firstName:"Adam",lastName:"Cole",phoneNumber:"",birthday:"1990-01-15",gender:"male",city:"Arlington",state:"VA",primarySport:"running",gofastHandle:"adamgofast",bio:"Passionate runner. Building communities.",instagram:"",profilePhoto:null,profilePhotoPreview:null});x.useEffect(()=>{(()=>{const u=fe.currentUser;u!=null&&u.photoURL&&a(h=>({...h,profilePhotoPreview:u.photoURL}))})()},[]);const o=(d,u)=>{a(h=>({...h,[d]:u}))},i=d=>{const u=d.target.files[0];if(u){if(!u.type.startsWith("image/")){alert("Please select a valid image file");return}if(u.size>5*1024*1024){alert("Image size must be less than 5MB");return}const h=URL.createObjectURL(u);a(p=>({...p,profilePhoto:u,profilePhotoPreview:h}))}},l=()=>{var d;(d=r.current)==null||d.click()},c=async d=>{var u,h,p,g,f;if(d.preventDefault(),console.log(" SUBMIT: Starting profile creation..."),console.log(" Form data:",s),!s.firstName||!s.lastName||!s.gofastHandle||!s.birthday||!s.gender||!s.city||!s.state||!s.primarySport){alert("Please fill in all required fields");return}try{const b=fe.currentUser;if(!b){alert("No user logged in. Please sign in first."),e("/crewjoin");return}if(!await b.getIdToken())throw new Error("Failed to get authentication token");console.log(" Step 1: Finding/creating athlete via /api/athlete/create"),console.log(" Axios automatically adds Firebase token (no body needed)");const y=(await ie.post("/athlete/create")).data;console.log(" Step 1 - Athlete created/found:",y);const v=y.athleteId||((u=y.data)==null?void 0:u.id);if(!v)throw new Error("No athlete ID returned from server");console.log(" Step 2: Updating profile via /api/athlete/:id/profile");const j=b.photoURL||s.profilePhotoPreview,S=(await ie.put(`/athlete/${v}/profile`,{firstName:s.firstName,lastName:s.lastName,phoneNumber:s.phoneNumber,gofastHandle:s.gofastHandle,birthday:s.birthday,gender:s.gender,city:s.city,state:s.state,primarySport:s.primarySport,bio:s.bio,instagram:s.instagram,photoURL:j})).data;console.log(" Step 2 - Profile updated:",S),B.setAthleteId(v),B.setAthleteProfile(S.athlete);const k=localStorage.getItem("pendingJoinCode");if(k){console.log(" JoinCrewAthProfile: Completing join after profile creation...");try{const E=await ie.post("/runcrew/join",{joinCode:k});if(E.data.success){const{runCrew:I}=E.data,N=Array.isArray(I==null?void 0:I.managers)?I.managers.find(O=>O.athleteId===v&&O.role==="admin"):null,P=!!N;B.setRunCrewData({...I,isAdmin:P}),B.setRunCrewId(I.id),N&&B.setRunCrewManagerId(N.id),localStorage.removeItem("pendingJoinCode"),localStorage.removeItem("pendingJoinCrewId"),localStorage.removeItem("pendingJoinCrewName"),console.log(" JoinCrewAthProfile: Join completed! Redirecting to success page..."),e("/crewjoin/profile/success",{replace:!0});return}}catch(E){console.error(" JoinCrewAthProfile: Failed to complete join:",E)}}console.log(" JoinCrewAthProfile: Navigating to athlete home..."),e("/athlete-home")}catch(b){if(console.error(" Profile creation failed:",b),(p=(h=b.response)==null?void 0:h.data)!=null&&p.error){const w=b.response.data;w.field==="gofastHandle"?alert(` Handle taken!

"@${s.gofastHandle}" is already taken. Please choose a different handle.`):alert(` Profile update failed:

${w.message||w.error}`)}else((g=b.response)==null?void 0:g.status)===403?alert(` Forbidden!

You can only update your own profile. Please sign in with the correct account.`):((f=b.response)==null?void 0:f.status)===404?alert(` Profile not found!

Your athlete record was not found. Please try signing in again.`):alert(` Profile creation failed:

${b.message||"Unknown error occurred"}`)}};return n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-6",children:n.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-lg p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-16 h-16 rounded-full mx-auto mb-4"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t?`Join ${t}`:"Complete Your Profile"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Complete your profile to fully join the crew and start running together!"}),n.jsx("div",{className:"bg-sky-50 border border-sky-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sky-800 text-sm font-medium",children:[" ",n.jsx("strong",{children:"Almost there!"})," Complete your profile to join ",t||"your crew"," and start crushing goals together!"]})})]}),n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full mx-auto mb-2 flex items-center justify-center cursor-pointer hover:bg-gray-300 transition-colors",onClick:l,children:s.profilePhotoPreview?n.jsx("img",{src:s.profilePhotoPreview,alt:"Profile preview",className:"w-24 h-24 rounded-full object-cover"}):n.jsx("span",{className:"text-4xl",children:""})}),n.jsxs("div",{className:"flex items-center justify-center text-orange-500 text-sm cursor-pointer hover:text-orange-600",onClick:l,children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),s.profilePhoto?"Change Photo":"Add Photo"]}),n.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:i,className:"hidden"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["First Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:s.firstName,onChange:d=>o("firstName",d.target.value),placeholder:"Enter your first name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:s.lastName,onChange:d=>o("lastName",d.target.value),placeholder:"Enter your last name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),n.jsx("input",{type:"tel",value:s.phoneNumber,onChange:d=>o("phoneNumber",d.target.value),placeholder:"(555) 123-4567",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Bio"}),n.jsx("textarea",{value:s.bio,onChange:d=>o("bio",d.target.value),placeholder:"Tell us about your running goals, favorite routes, or what motivates you...",maxLength:"250",rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s.bio.length,"/250 characters"]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["GoFast Handle ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"This is for quick lookup and tagging others. We recommend using your first name but you can make it however you like."}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("span",{className:"text-gray-500 text-sm",children:"@"})}),n.jsx("input",{type:"text",value:s.gofastHandle,onChange:d=>o("gofastHandle",d.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"your_handle",className:"w-full pl-8 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Birthday ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",value:s.birthday,onChange:d=>o("birthday",d.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gender ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"gender",value:"male",checked:s.gender==="male",onChange:d=>o("gender",d.target.value),className:"mr-2",required:!0}),"Male"]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"gender",value:"female",checked:s.gender==="female",onChange:d=>o("gender",d.target.value),className:"mr-2",required:!0}),"Female"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["City ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:s.city,onChange:d=>o("city",d.target.value),placeholder:"Charlotte",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["State ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:s.state,onChange:d=>o("state",d.target.value),placeholder:"NC",maxLength:"2",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Primary Sport ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:s.primarySport,onChange:d=>o("primarySport",d.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0,children:[n.jsx("option",{value:"",children:"Select your primary sport"}),n.jsx("option",{value:"running",children:" Running"}),n.jsx("option",{value:"cycling",children:" Cycling"}),n.jsx("option",{value:"swimming",children:" Swimming"}),n.jsx("option",{value:"triathlon",children:" Triathlon"}),n.jsx("option",{value:"ultra-racing",children:" Ultra Racing"}),n.jsx("option",{value:"hiking",children:" Hiking"}),n.jsx("option",{value:"trail-running",children:" Trail Running"}),n.jsx("option",{value:"track-field",children:" Track & Field"})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" This helps us match you with the right community!"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instagram Handle"}),n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"In case people want to discover the real you outside of your primary sport."}),n.jsx("input",{type:"text",value:s.instagram,onChange:d=>o("instagram",d.target.value),placeholder:"@your_handle",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),n.jsxs("div",{className:"pt-4",children:[n.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-4 px-6 rounded-lg font-bold text-lg hover:bg-orange-600 transition-colors shadow-lg hover:shadow-xl transform hover:scale-105",children:" Complete Profile & Join Crew"}),n.jsx("p",{className:"text-center text-sm text-gray-500 mt-3",children:"You can always update your profile later in settings"})]})]})]})})},ZC=()=>{const e=ce(),{runCrewManagerId:t}=as(),r=B.getRunCrewData(),s=localStorage.getItem("pendingJoinCrewName"),a=(r==null?void 0:r.name)||s||"Your Crew",o=!!t,i=()=>{o?e("/crew/crewadmin",{replace:!0}):e("/runcrew/central",{replace:!0})},l=()=>{e("/athlete-home",{replace:!0})};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 to-sky-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 space-y-6 text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full mx-auto flex items-center justify-center mb-4",children:n.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile Complete!"}),n.jsxs("p",{className:"text-gray-600",children:["You've successfully joined ",n.jsx("strong",{children:a})," and completed your profile!"]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[" ",n.jsx("strong",{children:"You're all set!"})," You can now see runs, chat with your crew, and track your progress together."]})}),n.jsxs("div",{className:"space-y-3 pt-4",children:[n.jsxs("button",{onClick:i,className:"w-full bg-gradient-to-r from-sky-600 to-sky-700 hover:from-sky-700 hover:to-sky-800 text-white font-bold py-4 rounded-xl transition shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),n.jsxs("span",{children:["Go to ",a]})]}),n.jsx("button",{onClick:l,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-4 rounded-xl transition shadow-md hover:shadow-lg",children:"Go to Home"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"You can always update your profile later in settings"})]})})},ek="https://gofastbackendv2-fall2025.onrender.com/api";function tk(){const e=ce(),[t]=Br(),[r,s]=x.useState(!0),[a,o]=x.useState(null);return x.useEffect(()=>{(async()=>{var l,c;try{s(!0);const d=t.get("crewId")||B.getRunCrewId();if(!d)throw new Error("No crew ID found. Please join a crew first.");const[u,h]=await Promise.all([ie.get("/athlete/create").catch(()=>{const v=B.getAthleteId();if(v)return ie.get(`/athlete/${v}`);throw new Error("Failed to fetch athlete data")}),fetch(`${ek}/runcrew/${d}`,{headers:{Authorization:`Bearer ${localStorage.getItem("firebaseToken")}`}}).then(v=>{if(!v.ok)throw new Error("Failed to fetch crew");return v.json()})]),p=((l=u.data)==null?void 0:l.data)||u.data,g=(p==null?void 0:p.id)||((c=u.data)==null?void 0:c.athleteId);if(!g)throw new Error("Failed to get athlete ID");const f=h.data||h;if(!f||!f.success)throw new Error("Failed to fetch crew data");const b=f.data||f.runCrew||f;B.setAthleteId(g),B.setRunCrewId(b.id),B.setRunCrewData(b);const w=B.getAthleteProfile()||{},m=Array.isArray(w.runCrews)?w.runCrews:[],y=[{...b,isAdmin:!1},...m.filter(v=>v.id!==b.id)];B.setAthleteProfile({...w,runCrews:y}),console.log(" PreCrewPage: Hydration complete, redirecting to RunCrew Central"),e(`/runcrew/${b.id}`)}catch(d){console.error(" PreCrewPage: Hydration error:",d),o(d.message||"Failed to load crew data. Please try again."),s(!1),setTimeout(()=>{e("/athlete-home")},3e3)}})()},[e,t]),a?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-6",children:n.jsxs("div",{className:"max-w-md w-full bg-white border border-red-200 rounded-xl shadow-lg p-8 text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error Loading Crew"}),n.jsx("p",{className:"text-gray-600 mb-4",children:a}),n.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to home..."})]})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center px-6",children:n.jsxs("div",{className:"max-w-md w-full bg-white border border-gray-200 rounded-xl shadow-lg p-8 text-center",children:[n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-500 mx-auto"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Syncing Your Profile"}),n.jsx("p",{className:"text-gray-600",children:"Setting up your RunCrew experience..."})]})})}const rk=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function nk(){const[e,t]=x.useState("Morning Warriors"),[r,s]=x.useState("FAST123"),[a,o]=x.useState("5am grind, every day. Let's crush our goals together!"),[i,l]=x.useState(""),[c,d]=x.useState(""),[u,h]=x.useState(null),[p,g]=x.useState(null),[f,b]=x.useState(!1),[w,m]=x.useState(null),[y,v]=x.useState(!1),[j,C]=x.useState(!1),S=x.useRef(null),k=ce(),E=async O=>{const D=O.target.files[0];if(D){if(!D.type.startsWith("image/")){m("Please select a valid image file");return}if(D.size>5*1024*1024){m("Image size must be less than 5MB");return}v(!0),m(null);try{const Q=URL.createObjectURL(D);g(Q),h(D);const X=new FormData;X.append("profilePic",D);const K=await fetch("https://gofastbackendv2-fall2025.onrender.com/api/upload",{method:"POST",body:X}),ae=await K.json();if(K.ok&&ae.url){const L=`https://gofastbackendv2-fall2025.onrender.com${ae.url}`;d(L),l("")}else throw new Error(ae.error||"Failed to upload logo")}catch(Q){console.error("Logo upload error:",Q),m(Q.message||"Failed to upload logo. Please try again."),g(null),h(null)}finally{v(!1)}}},I=()=>{d(""),h(null),g(null),S.current&&(S.current.value="")},N=O=>{l(O),b(!1),c&&I()},P=async()=>{var X,K;if(m(null),!(e!=null&&e.trim())){m("Crew name is required");return}if(!(r!=null&&r.trim())){m("Join code is required");return}const O=r.toUpperCase().trim();if(O.length<3){m("Join code must be at least 3 characters");return}if(O.length>20){m("Join code must be 20 characters or less");return}if(!/^[A-Z0-9-_]+$/.test(O)){m("Join code can only contain letters, numbers, hyphens, and underscores");return}if(localStorage.getItem("demoMode")==="true"||!localStorage.getItem("athleteId")){console.log(" DEMO MODE: Skipping API call, navigating to success page"),localStorage.setItem("currentCrew",JSON.stringify({name:e,joinCode:r,crewCode:r})),k("/run-crew-success");return}const Q=localStorage.getItem("athleteId");if(!Q){alert("Please sign in again"),k("/athlete-home");return}C(!0);try{const ae=fe.currentUser;if(!ae){alert("Please sign in again"),k("/athlete-home");return}const L=await ae.getIdToken(),V=await fetch("https://gofastbackendv2-fall2025.onrender.com/api/runcrew/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({name:e.trim(),joinCode:O,description:(a==null?void 0:a.trim())||null,icon:(i==null?void 0:i.trim())||null,logo:c||null,athleteId:Q})}),J=await V.json();V.ok&&J.success?(console.log(" RunCrew created:",J.runCrew),localStorage.setItem("currentCrew",JSON.stringify({id:J.runCrew.id,name:J.runCrew.name,joinCode:J.runCrew.joinCode,description:J.runCrew.description})),k("/run-crew-success")):m(J.message||J.error||"Failed to create crew")}catch(ae){console.error("Error creating crew",ae),m(((K=(X=ae.response)==null?void 0:X.data)==null?void 0:K.message)||ae.message||"Something went wrong. Please try again.")}finally{C(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 to-sky-100 flex items-center justify-center p-6",children:n.jsxs("div",{className:"max-w-lg w-full bg-white rounded-2xl shadow-xl p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"w-16 h-16 bg-sky-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Dr,{className:"w-8 h-8 text-sky-600"})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Your RunCrew"}),n.jsx("p",{className:"text-gray-600 mb-3",children:"This is your crew  your friends, your accountability partners, your running family."}),n.jsxs("div",{className:"bg-sky-50 border border-sky-200 rounded-lg p-4 text-left",children:[n.jsx("p",{className:"text-sm text-sky-800 font-medium mb-1",children:" Make it fun and memorable!"}),n.jsx("p",{className:"text-xs text-sky-700",children:"Choose a name and icon that your crew will remember. This is how you'll recognize each other and build your running community."})]})]}),w&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6 text-sm",children:w}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Crew Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:e,onChange:O=>{t(O.target.value),m(null)},className:"w-full p-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition",placeholder:"e.g. Morning Warriors, Trail Runners, Weekend Warriors",disabled:j}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pick something your crew will remember and get excited about"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Logo or Icon ",n.jsx("span",{className:"text-gray-400 text-xs",children:"(Optional - Choose One)"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"relative w-20 h-20 bg-gray-50 border-2 border-gray-300 rounded-lg flex items-center justify-center overflow-hidden",children:p?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:p,alt:"Logo preview",className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:I,className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",disabled:y||j,children:n.jsx(ea,{className:"w-3 h-3"})})]}):c?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:c,alt:"Logo",className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:I,className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",disabled:y||j,children:n.jsx(ea,{className:"w-3 h-3"})})]}):n.jsx(vC,{className:"w-8 h-8 text-gray-400"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("button",{type:"button",onClick:()=>{var O;return(O=S.current)==null?void 0:O.click()},disabled:y||j||!!i,className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg hover:border-sky-500 transition text-sm font-medium text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Uploading...":"Upload Logo"}),n.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:E,className:"hidden",disabled:y||j||!!i})]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload a logo image (JPG, PNG - max 5MB)"})]}),n.jsxs("div",{className:"relative my-4",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white text-gray-500",children:"OR"})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-50 border-2 border-gray-300 rounded-lg flex items-center justify-center text-4xl",children:i||""}),n.jsx("div",{className:"flex-1",children:n.jsx("button",{type:"button",onClick:()=>{b(!f),c&&I()},disabled:j,className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg hover:border-sky-500 transition text-sm font-medium text-gray-700 disabled:opacity-50",children:f?"Hide Emoji Picker":"Choose Emoji"})})]}),f&&n.jsxs("div",{className:"mt-3 p-4 bg-gray-50 border-2 border-gray-200 rounded-lg",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-3",children:"Select an emoji:"}),n.jsx("div",{className:"grid grid-cols-8 gap-2",children:rk.map((O,D)=>n.jsx("button",{type:"button",onClick:()=>N(O),className:"w-10 h-10 text-2xl hover:bg-white hover:scale-110 rounded transition cursor-pointer flex items-center justify-center",disabled:j,children:O},D))}),n.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Or type your own emoji below:"}),n.jsx("input",{type:"text",value:i,onChange:O=>{l(O.target.value),m(null),c&&I()},className:"w-full mt-2 p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition text-2xl text-center",placeholder:"",maxLength:2,disabled:j})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose an emoji icon for your crew"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Description ",n.jsx("span",{className:"text-gray-400 text-xs",children:"(Optional)"})]}),n.jsx("textarea",{value:a,onChange:O=>{o(O.target.value),m(null)},rows:3,className:"w-full p-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition resize-none",placeholder:"What makes your crew special? What are your goals? (optional)",disabled:j}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Help your crew understand what you're all about"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Join Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:r,onChange:O=>{s(O.target.value.toUpperCase()),m(null)},className:"w-full p-4 border-2 border-gray-300 rounded-lg font-mono uppercase focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition",placeholder:"FAST123",maxLength:20,disabled:j}),n.jsxs("div",{className:"mt-2 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-1",children:" What is a Join Code?"}),n.jsx("p",{className:"text-xs text-blue-800",children:"This is how your friends will join your crew. Share this code with them, and they can enter it to join. Make it something easy to remember  like your crew name initials or a fun word!"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"3-20 characters, letters and numbers only (no spaces)"})]}),n.jsx("button",{onClick:P,disabled:j||!e.trim()||!r.trim(),className:"w-full bg-gradient-to-r from-sky-600 to-sky-700 hover:from-sky-700 hover:to-sky-800 text-white font-bold py-4 rounded-lg transition shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-lg",children:j?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Crew..."]}):"Create RunCrew"}),n.jsx("button",{onClick:()=>k("/athlete-home"),className:"w-full text-gray-600 hover:text-gray-800 text-sm font-medium py-2",disabled:j,children:" Back to Home"})]})]})})}function Ha(){var G,z;const e=ce(),{athlete:t,athleteId:r,runCrewId:s}=as(),[a,o]=x.useState(()=>B.getRunCrewData()),[i,l]=x.useState(!1),[c,d]=x.useState(null),[u,h]=x.useState(""),[p,g]=x.useState(!1),[f,b]=x.useState("idle"),[w,m]=x.useState(!1),y=x.useRef(null),v=x.useRef(!1),j=x.useMemo(()=>Array.isArray(a==null?void 0:a.runs)?a.runs:[],[a]),C=x.useMemo(()=>Array.isArray(a==null?void 0:a.announcements)?a.announcements:[],[a]),S=x.useMemo(()=>Array.isArray(a==null?void 0:a.messages)?a.messages:[],[a]),k=x.useMemo(()=>Array.isArray(a==null?void 0:a.memberships)?a.memberships:Array.isArray(a==null?void 0:a.members)?a.members:[],[a]),E=x.useMemo(()=>(a==null?void 0:a.leaderboardDynamic)||[],[a]),I=(a==null?void 0:a.joinCode)||(a==null?void 0:a.inviteCode)||null,[N,P]=x.useState("miles"),O=x.useMemo(()=>new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),[]),D=x.useMemo(()=>j.length===0?null:[...j].filter(T=>T.date||T.scheduledAt).sort((T,H)=>new Date(T.date||T.scheduledAt)-new Date(H.date||H.scheduledAt))[0],[j]),Q=x.useMemo(()=>{if(!Array.isArray(E)||E.length===0)return[];const T=N==="runs"?R=>`${R.totalRuns??R.activityCount??0} runs`:N==="calories"?R=>`${Math.round(R.totalCalories??0)} cal`:R=>`${(R.totalMiles??R.totalDistanceMiles??0).toFixed(1)} mi`;return[...E].sort((R,q)=>{if(N==="runs"){const M=R.totalRuns??R.activityCount??0;return(q.totalRuns??q.activityCount??0)-M}else{if(N==="calories")return(q.totalCalories??0)-(R.totalCalories??0);{const M=R.totalMiles??R.totalDistanceMiles??0;return(q.totalMiles??q.totalDistanceMiles??0)-M}}}).map(R=>({...R,display:T(R)})).slice(0,5)},[E,N]),X=x.useMemo(()=>!a||!r?!1:a.runcrewAdminId===r?!0:Array.isArray(a.managers)?a.managers.some(T=>T.athleteId===r&&T.role==="admin"):!1,[a,r]),K=x.useCallback(T=>{o(H=>{const R=typeof T=="function"?T(H):T;return R&&B.setRunCrewData(R),R??H})},[]),ae=x.useRef(!1),L=x.useCallback(async()=>{var T,H,R,q;if(!s||!r)return console.warn(" RUNCREW CENTRAL: Missing runCrewId or athleteId for hydration"),null;if(ae.current)return console.log(" RUNCREW CENTRAL: Hydration already in progress, skipping..."),null;ae.current=!0,l(!0),d(null);try{console.log(" RUNCREW CENTRAL: Hydrating crew...",{runCrewId:s,athleteId:r});const{data:M}=await ie.post("/runcrew/hydrate",{runCrewId:s,athleteId:r});if(M!=null&&M.success&&M.runCrew)return console.log(" RUNCREW CENTRAL: Crew hydrated successfully"),B.setRunCrewData(M.runCrew),o(M.runCrew),d(null),M.runCrew;throw new Error((M==null?void 0:M.error)||(M==null?void 0:M.message)||"Failed to hydrate crew")}catch(M){console.error(" RUNCREW CENTRAL: Failed to hydrate crew",M);const le=((H=(T=M.response)==null?void 0:T.data)==null?void 0:H.error)||((q=(R=M.response)==null?void 0:R.data)==null?void 0:q.message)||M.message||"Failed to load crew data";return d(le),null}finally{l(!1),ae.current=!1}},[s,r]);x.useEffect(()=>{s&&r&&!a&&!i&&!v.current&&(console.log(" RUNCREW CENTRAL: Auto-hydrating on mount...",{runCrewId:s,athleteId:r}),v.current=!0,L())},[]),x.useEffect(()=>{},[N]),x.useEffect(()=>{var T;(T=y.current)==null||T.scrollIntoView({behavior:"smooth"})},[S]),x.useEffect(()=>{if(!s||!r)return;const T=async()=>{try{const{data:R}=await ie.get(`/runcrew/${s}/messages`);if(R!=null&&R.success&&Array.isArray(R.data)){const q=R.data;K(M=>{if(!M)return M;const le=new Set((M.messages||[]).map(he=>he.id));return q.some(he=>!le.has(he.id))?{...M,messages:q}:M})}}catch(R){console.error("Failed to poll messages",R)}};T();const H=setInterval(T,5e3);return()=>clearInterval(H)},[s,r,K]);const V=T=>{if(!T)return"now";const H=new Date(T),q=new Date-H,M=Math.floor(q/6e4),le=Math.floor(q/36e5),Ne=Math.floor(q/864e5);return M<1?"now":M<60?`${M}m ago`:le<24?`${le}h ago`:Ne<7?`${Ne}d ago`:H.toLocaleDateString("en-US",{month:"short",day:"numeric"})},J=async T=>{if(T.preventDefault(),!a||!s||!r)return;const H=u.trim();if(!H)return;const R={id:`local-msg-${Date.now()}`,content:H,createdAt:new Date().toISOString(),athlete:t?{id:r,firstName:t.firstName,lastName:t.lastName,photoURL:t.photoURL}:null};K(q=>{if(!q)return q;const M=Array.isArray(q.messages)?q.messages:[];return{...q,messages:[...M,R]}}),h(""),g(!0);try{await ie.post(`/runcrew/${s}/messages`,{content:H}),await L()}catch(q){console.error("Failed to send message",q),K(M=>{if(!M)return M;const le=Array.isArray(M.messages)?M.messages:[];return{...M,messages:le.filter(Ne=>Ne.id!==R.id)}})}finally{g(!1)}},ee=async()=>{var H;if(!I)return;const T=`Join ${(a==null?void 0:a.name)||"our crew"} on GoFast:
https://athlete.gofastcrushgoals.com/runcrew/join
Code: ${I}`;try{if((H=navigator==null?void 0:navigator.clipboard)!=null&&H.writeText)await navigator.clipboard.writeText(T);else{const R=document.createElement("textarea");R.value=T,document.body.appendChild(R),R.select(),document.execCommand("copy"),document.body.removeChild(R)}b("copied")}catch(R){console.error("Clipboard copy failed",R),b("error")}finally{setTimeout(()=>b("idle"),2e3)}},te=D==null?void 0:D.id,ye=x.useMemo(()=>!D||!r?!1:(D.rsvps||[]).some(T=>T.athleteId===r&&T.status==="going"),[D,r]),F=async()=>{if(!D||!te||!s||!r)return;const T=ye?"not-going":"going",H=()=>{const R=Array.isArray(D.rsvps)?D.rsvps:[];if(ye)return R.filter(M=>M.athleteId!==r);const q={id:`local-rsvp-${Date.now()}`,athleteId:r,status:"going",athlete:t?{id:r,firstName:t.firstName,lastName:t.lastName,photoURL:t.photoURL}:null};return[...R.filter(M=>M.athleteId!==r),q]};K(R=>{if(!R)return R;const q=(Array.isArray(R.runs)?R.runs:[]).map(M=>M.id===te?{...M,rsvps:H()}:M);return{...R,runs:q}}),m(!0);try{await ie.post(`/runcrew/runs/${te}/rsvp`,{status:T}),await L()}catch(R){console.error("Failed to update RSVP",R),await L()}finally{m(!1)}};return!a&&s&&r||i?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading your crew..."}),i&&n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Hydrating crew data..."})]})}):c&&!a?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx("div",{className:"text-red-500 text-4xl mb-4",children:""}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Crew"}),n.jsx("p",{className:"text-gray-600 mb-6",children:c}),n.jsxs("div",{className:"flex gap-3 justify-center",children:[n.jsx("button",{onClick:()=>{d(null),L()},className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg font-semibold",children:"Retry"}),n.jsxs("button",{onClick:()=>e("/athlete-home"),className:"flex items-center gap-2 bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-lg font-semibold",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Athlete Dashboard"]})]})]})}):!a&&!s?(e("/runcrew/join-or-start",{replace:!0}),null):a?n.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[X&&n.jsx("div",{className:"bg-orange-50 border-b border-orange-200 px-6 py-3",children:n.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),n.jsx("p",{className:"text-sm text-orange-800 font-medium",children:"You're viewing the member experience"})]}),n.jsxs("button",{onClick:()=>e("/crew/crewadmin"),className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Return to Admin Dashboard"]})]})}),n.jsx("header",{className:"bg-white shadow-sm",children:n.jsx("div",{className:"max-w-6xl mx-auto px-6 py-5",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[n.jsxs("button",{onClick:()=>e("/athlete-home"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mt-1 px-3 py-2 rounded-lg hover:bg-gray-100 transition",title:"Go to Athlete Dashboard",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),n.jsx("span",{className:"text-sm font-medium",children:"Athlete Dashboard"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.icon?n.jsx("span",{className:"text-4xl",children:a.icon}):a.logo?n.jsx("img",{src:a.logo,alt:a.name,className:"w-12 h-12 rounded-full object-cover"}):null,n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.name||"RunCrew"}),n.jsx("p",{className:"text-sm text-gray-500",children:O})]})]}),a.description&&n.jsx("p",{className:"text-base text-gray-700 mt-2 max-w-2xl",children:a.description})]})]}),n.jsx("div",{className:"flex items-center gap-3 ml-4",children:n.jsxs("button",{onClick:()=>e("/athlete-home"),className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100 rounded-lg transition",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Athlete Dashboard"]})})]})})}),n.jsx("main",{className:"max-w-6xl mx-auto px-6 py-10",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 space-y-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-orange-600 text-xl",children:""}),n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Announcements"})]}),C.length>3&&n.jsx("button",{className:"text-xs text-orange-600 font-semibold hover:underline",children:"View all"})]}),n.jsxs("div",{className:"space-y-3",children:[C.length===0&&n.jsx("p",{className:"text-sm text-gray-600",children:"No announcements yet. Ask your captain to post the next meetup."}),C.slice(0,3).map(T=>n.jsxs("div",{className:"border border-orange-200 rounded-lg px-4 py-3 bg-orange-50/60",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:T.title||"Crew Update"}),n.jsx("span",{className:"text-xs text-gray-500",children:T.createdAt?new Date(T.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"just now"})]}),n.jsx("p",{className:"text-sm text-gray-700 mt-2 whitespace-pre-line",children:T.content||T.text})]},T.id||T.createdAt))]})]}),n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm flex flex-col",style:{height:"700px"},children:[n.jsx("div",{className:"border-b border-gray-200 px-6 py-4 flex-shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Crew Chat"}),n.jsxs("span",{className:"text-xs text-gray-500",children:[S.length," ",S.length===1?"message":"messages"]})]})}),n.jsxs("div",{className:"flex-1 px-4 py-4 overflow-y-auto bg-gray-50",style:{maxHeight:"600px"},children:[S.length===0&&n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl mb-3",children:""}),n.jsx("p",{className:"text-sm text-gray-500",children:"No messages yet. Start the conversation!"})]})}),n.jsxs("div",{className:"space-y-3",children:[S.map(T=>{var le,Ne,he,Re,rt,va;const H=((le=T.athlete)==null?void 0:le.id)===r||((Ne=T.author)==null?void 0:Ne.id)===r,R=((he=T.athlete)==null?void 0:he.firstName)||((Re=T.author)==null?void 0:Re.name)||"Crew Member",q=((rt=T.athlete)==null?void 0:rt.photoURL)||((va=T.author)==null?void 0:va.photoURL),M=(R==null?void 0:R[0])||"A";return n.jsxs("div",{className:`flex gap-2 ${H?"flex-row-reverse":"flex-row"}`,children:[!H&&n.jsx("div",{className:"flex-shrink-0",children:q?n.jsx("img",{src:q,alt:R,className:"w-8 h-8 rounded-full object-cover"}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-orange-400 to-pink-500 flex items-center justify-center text-white font-semibold text-xs",children:M})}),n.jsxs("div",{className:`flex flex-col ${H?"items-end":"items-start"} max-w-[75%]`,children:[!H&&n.jsx("span",{className:"text-xs font-semibold text-gray-700 mb-1 px-1",children:R}),n.jsx("div",{className:`rounded-2xl px-4 py-2 ${H?"bg-orange-500 text-white rounded-br-sm":"bg-white text-gray-900 border border-gray-200 rounded-bl-sm shadow-sm"}`,children:n.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:T.content||T.text})}),n.jsx("span",{className:"text-xs text-gray-400 mt-1 px-1",children:V(T.createdAt)})]})]},T.id||T.createdAt)}),n.jsx("div",{ref:y})]})]}),n.jsx("form",{onSubmit:J,className:"border-t border-gray-200 px-4 py-3 bg-white flex-shrink-0",children:n.jsxs("div",{className:"flex gap-2 items-end",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx("input",{type:"text",value:u,onChange:T=>h(T.target.value),placeholder:"Type a message...",className:"w-full border border-gray-300 rounded-full px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 pr-12",onKeyDown:T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),J(T))}}),u.trim()&&n.jsxs("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-400",children:[u.length,"/2000"]})]}),n.jsx("button",{type:"submit",disabled:!u.trim()||p,className:"bg-orange-500 hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed text-white p-2.5 rounded-full transition min-w-[44px] flex items-center justify-center",title:"Send message",children:p?n.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Next Run"}),D?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("span",{className:"font-semibold",children:D.date?new Date(D.date).toLocaleDateString("en-US",{weekday:"long"}):"Scheduled"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:D.time||D.startTime||"Time TBD"}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),n.jsx("span",{className:"text-sm",children:D.meetUpPoint||"Meetup TBD"})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[((G=D.rsvps)==null?void 0:G.filter(T=>T.status==="going").length)||0," Going"]}),n.jsx("div",{className:"flex -space-x-2",children:(z=D.rsvps)==null?void 0:z.slice(0,5).map((T,H)=>{var R,q;return n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-orange-400 to-pink-500 border-2 border-white flex items-center justify-center text-white text-xs font-semibold",children:((q=(R=T.athlete)==null?void 0:R.firstName)==null?void 0:q[0])||"A"},H)})})]}),n.jsx("button",{onClick:F,disabled:w,className:`w-full py-3 rounded-lg font-semibold mt-4 transition ${ye?"bg-emerald-500 hover:bg-emerald-600 text-white":"bg-orange-500 hover:bg-orange-600 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:w?"Updating":ye?"I'm Going":"Count Me In"})]}):n.jsx("div",{className:"border border-dashed border-gray-300 rounded-xl p-4 text-sm text-gray-500 text-center",children:"No upcoming runs  ping your captain to schedule the next meetup."})]}),n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Who's Here"}),n.jsx("div",{className:"space-y-3",children:k.slice(0,6).map(T=>{var R;const H=T.athlete||T;return n.jsxs("div",{className:"flex items-center gap-3",children:[H.photoURL?n.jsx("img",{src:H.photoURL,alt:H.firstName||"Crew member",className:"w-10 h-10 rounded-full object-cover"}):n.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-400 to-blue-500 flex items-center justify-center text-white font-semibold text-sm relative",children:[((R=H.firstName)==null?void 0:R[0])||"A",n.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[H.firstName||"Athlete"," ",H.lastName||""]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Active"})]})]},T.id||H.id)})}),k.length===0&&n.jsx("p",{className:"text-sm text-gray-500",children:"No members yet  share your join code to build the crew."}),k.length>6&&n.jsxs("button",{className:"w-full mt-4 text-sm text-orange-600 hover:text-orange-700 font-semibold",children:["View all ",k.length," members"]}),k.length<=1&&I&&n.jsxs("div",{className:"mt-4 border border-dashed border-orange-300 rounded-xl px-4 py-3 bg-orange-50/60 text-sm text-gray-700",children:[n.jsx("p",{className:"font-semibold text-orange-600 mb-1",children:"Invite teammates:"}),n.jsxs("code",{className:"text-xs text-gray-600",children:["Join link: athlete.gofastcrushgoals.com/runcrew/join",n.jsx("br",{}),"Code: ",I]}),n.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[n.jsx("button",{onClick:ee,className:"text-xs bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded-lg font-semibold",children:"Copy Invite"}),n.jsxs("span",{className:"text-xs text-gray-500",children:[f==="copied"&&"Copied!",f==="error"&&"Copy failed",f==="idle"&&"Share with your crew"]})]})]})]}),n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[n.jsx("div",{className:"flex gap-2 mb-4",children:["miles","runs","calories"].map(T=>n.jsx("button",{onClick:H=>{H.preventDefault(),H.stopPropagation(),P(T)},disabled:i,className:`px-3 py-1 text-xs font-semibold rounded-full transition ${N===T?"bg-orange-100 text-orange-700":"text-gray-600 hover:bg-gray-100"} ${i?"opacity-50 cursor-not-allowed":""}`,children:T==="miles"?"Miles":T==="runs"?"Runs":"Cals"},T))}),n.jsxs("div",{className:"space-y-3",children:[Q.length===0&&n.jsx("p",{className:"text-sm text-gray-500",children:"Leaderboard data syncs once your crew records activities."}),Q.map((T,H)=>{var Ne,he;const R=T.athlete||{},q=R.firstName||T.firstName||"Athlete",M=R.lastName||T.lastName||"",le=R.photoURL||T.photoURL;return n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center text-white font-bold text-xs",children:H+1}),le?n.jsx("img",{src:le,alt:`${q} ${M}`,className:"w-6 h-6 rounded-full object-cover border border-gray-200"}):n.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center text-white font-semibold text-xs",children:((Ne=q[0])==null?void 0:Ne.toUpperCase())||"A"}),n.jsxs("p",{className:"flex-1 text-sm font-semibold text-gray-900",children:[q," ",M]}),n.jsx("p",{className:"text-sm font-bold text-orange-600",children:T.display})]},((he=T.athlete)==null?void 0:he.id)||T.athleteId||H)})]})]})]})]})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"No crew data found"}),n.jsxs("button",{onClick:()=>e("/athlete-home"),className:"flex items-center gap-2 bg-sky-600 text-white px-6 py-2 rounded-lg hover:bg-sky-700",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Athlete Dashboard"]})]})})}function sk({value:e,onChange:t,onPlaceSelected:r,placeholder:s="Enter address...",className:a=""}){const o=x.useRef(null);return x.useRef(null),x.useEffect(()=>{{console.warn("Google Maps API key missing");return}},[r]),n.jsx("input",{ref:o,type:"text",value:e,onChange:t,placeholder:s,className:a})}var ak={exports:{}};(function(e){var t={};function r(o){return Math.floor(Math.abs(o)+.5)*(o>=0?1:-1)}function s(o,i,l){o=r(o*l),i=r(i*l);var c=(o-i)*2;c<0&&(c=-c-1);for(var d="";c>=32;)d+=String.fromCharCode((32|c&31)+63),c/=32;return d+=String.fromCharCode((c|0)+63),d}t.decode=function(o,i){for(var l=0,c=0,d=0,u=[],h=0,p=0,g=null,f,b,w=Math.pow(10,Number.isInteger(i)?i:5);l<o.length;){g=null,h=1,p=0;do g=o.charCodeAt(l++)-63,p+=(g&31)*h,h*=32;while(g>=32);f=p&1?(-p-1)/2:p/2,h=1,p=0;do g=o.charCodeAt(l++)-63,p+=(g&31)*h,h*=32;while(g>=32);b=p&1?(-p-1)/2:p/2,c+=f,d+=b,u.push([c/w,d/w])}return u},t.encode=function(o,i){if(!o.length)return"";for(var l=Math.pow(10,Number.isInteger(i)?i:5),c=s(o[0][0],0,l)+s(o[0][1],0,l),d=1;d<o.length;d++){var u=o[d],h=o[d-1];c+=s(u[0],h[0],l),c+=s(u[1],h[1],l)}return c};function a(o){for(var i=[],l=0;l<o.length;l++){var c=o[l].slice();i.push([c[1],c[0]])}return i}t.fromGeoJSON=function(o,i){if(o&&o.type==="Feature"&&(o=o.geometry),!o||o.type!=="LineString")throw new Error("Input must be a GeoJSON LineString");return t.encode(a(o.coordinates),i)},t.toGeoJSON=function(o,i){var l=t.decode(o,i);return{type:"LineString",coordinates:a(l)}},e.exports&&(e.exports=t)})(ak);function ok({polylineString:e,stravaUrl:t}){const r=x.useRef(null);x.useRef(null);const s=x.useRef(null),[a,o]=x.useState(null);return x.useEffect(()=>{if(!e){o(null),s.current&&(s.current.setMap(null),s.current=null);return}{o("Google Maps key missing. Set VITE_GOOGLE_MAPS_API_KEY to preview routes.");return}},[e]),e?n.jsxs("div",{className:"mt-3 border border-gray-300 rounded-lg overflow-hidden bg-white",children:[n.jsx("div",{ref:r,className:"w-full h-72"}),a&&n.jsx("div",{className:"px-3 py-2 text-xs text-red-600 bg-red-50 border-t border-red-200",children:a}),t&&n.jsxs("div",{className:"px-3 py-2 text-xs flex justify-between items-center border-t border-gray-200 bg-gray-50",children:[n.jsx("span",{className:"text-gray-600",children:"Based on Strava route preview"}),n.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 font-semibold",children:"View in Strava "})]})]}):null}const ik=async e=>{try{return await navigator.clipboard.writeText(e),!0}catch(t){console.error("Failed to copy invite link:",t);const r=document.createElement("textarea");r.value=e,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select();try{return document.execCommand("copy"),document.body.removeChild(r),!0}catch{return document.body.removeChild(r),!1}}};function lk({inviteCode:e,className:t=""}){const[r,s]=x.useState(!1),[a,o]=x.useState(!1);if(!e)return n.jsxs("div",{className:`border-t border-gray-200 pt-6 space-y-3 ${t}`,children:[n.jsx("p",{className:"text-xs text-gray-500 font-semibold uppercase tracking-wide",children:"Invite Teammates"}),n.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-center text-sm text-gray-500",children:"No invite code available"})]});const i=KC(e),l=async()=>{try{await ik(i)&&(s(!0),setTimeout(()=>s(!1),2e3))}catch(d){console.error("Failed to copy invite link:",d)}},c=async()=>{try{await navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3)}catch(d){console.error("Failed to copy code:",d)}};return n.jsxs("div",{className:`border-t border-gray-200 pt-6 space-y-3 ${t}`,children:[n.jsx("p",{className:"text-xs text-gray-500 font-semibold uppercase tracking-wide",children:"Invite Teammates"}),n.jsxs("div",{className:"bg-emerald-50 border-2 border-emerald-200 rounded-lg p-4 space-y-3",children:[n.jsx("code",{className:"block text-xs text-gray-700 break-all bg-white px-3 py-2 rounded border border-gray-200",children:i}),n.jsx("button",{onClick:l,className:"w-full text-sm bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-semibold transition flex items-center justify-center gap-2",children:r?n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied!"]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy Invite Link"]})}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Or share code:"}),n.jsxs("button",{onClick:c,className:"inline-flex items-center gap-2 text-base font-bold text-emerald-600 hover:text-emerald-700 transition",children:[n.jsx("code",{children:e}),a?n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})]})]})]})]})}const ox=()=>{const e=new Date;return e.setDate(e.getDate()+1),{title:"",date:e.toISOString().split("T")[0],time:"",meetUpPoint:"",meetUpAddress:"",totalMiles:"",pace:"",description:"",stravaMapUrl:""}},za=ox(),ck=["6:00-6:30","6:30-7:00","7:00-7:30","7:30-8:00","8:00-8:30","8:30-9:00","9:00-9:30","9:30-10:00","10:00-10:30","10:30-11:00","11:00+"],dk=["5:00 AM","5:30 AM","6:00 AM","6:30 AM","7:00 AM","7:30 AM","8:00 AM","8:30 AM","9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM","6:00 PM","6:30 PM","7:00 PM","7:30 PM","8:00 PM"],uk={miles:e=>`${(e.totalMiles??0).toFixed(1)} mi`,runs:e=>`${e.totalRuns??0} runs`,calories:e=>`${Math.round(e.totalCalories??0)} cal`};function hk(){const e=ce(),{athlete:t,athleteId:r,runCrewId:s,runCrewManagerId:a}=as(),[o,i]=x.useState(null),[l,c]=x.useState(!0),[d,u]=x.useState(null),[h,p]=x.useState(!1),[g,f]=x.useState(null),[b,w]=x.useState(""),[m,y]=x.useState(""),[v,j]=x.useState([]),[C,S]=x.useState(!1),[k,E]=x.useState(null),[I,N]=x.useState(za),[P,O]=x.useState(null),[D,Q]=x.useState(null),[X,K]=x.useState(null),[ae,L]=x.useState(!1),[V,J]=x.useState("miles"),[ee,te]=x.useState([]),[ye,F]=x.useState(!1),[G,z]=x.useState(null),[T,H]=x.useState(null),[R,q]=x.useState(!1),[M,le]=x.useState(null),Ne=x.useMemo(()=>!o||!r?!1:a?!0:Array.isArray(o.managers)?o.managers.some(A=>A.athleteId===r&&A.role==="admin"):!1,[o,r,a]),he=x.useMemo(()=>new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),[]),Re=(o==null?void 0:o.runs)||[],rt=(o==null?void 0:o.memberships)||[],va=(o==null?void 0:o.joinCode)||null,Le=A=>{f(A),A&&setTimeout(()=>{f(null)},2400)},Fd=A=>{if(!A)return;const $={...A,isAdmin:Ne||A.isAdmin},Y=$.id||s||null,ge=Array.isArray($.managers)?$.managers.find(oe=>oe.athleteId===r&&oe.role==="admin"):null,Me=(ge==null?void 0:ge.id)||$.currentManagerId||a||null;Y&&B.setRunCrewId(Y),B.setRunCrewManagerId(Me),B.setRunCrewData($),i($)};x.useEffect(()=>{const A=mc(fe,$=>{le($),q(!0),$?console.log(" RunCrewAdmin: Firebase auth initialized, user:",$.email):console.log(" RunCrewAdmin: No authenticated user - may need to sign in")});return()=>A()},[]),x.useCallback(async()=>{if(!R)return new Promise($=>{const Y=mc(fe,ge=>{Y(),ge?ge.getIdToken().then($).catch(()=>$(null)):$(null)})});const A=M||fe.currentUser;if(A)try{return await A.getIdToken()}catch($){return console.error("Failed to get auth token:",$),null}return null},[R,M]);const fn=x.useCallback(async()=>{var A,$,Y,ge,Me;if(!s){u("Missing crew ID"),c(!1);return}try{if(c(!0),u(null),!R){u("Loading authentication..."),c(!1);return}if(!M&&!fe.currentUser)throw new Error("Please sign in to view crew");const{data:oe}=await ie.get(`/runcrew/${s}`);if(oe!=null&&oe.success&&oe.runCrew){const $e=Array.isArray((A=oe.runCrew)==null?void 0:A.managers)?oe.runCrew.managers.find(ur=>ur.athleteId===r&&ur.role==="admin"):null,De={...oe.runCrew,isAdmin:$e?!0:oe.runCrew.isAdmin};B.setRunCrewData(De),B.setRunCrewId(oe.runCrew.id),B.setRunCrewManagerId(($e==null?void 0:$e.id)||oe.runCrew.currentManagerId||null),i(De),H(null)}else throw new Error((oe==null?void 0:oe.error)||"Failed to load crew")}catch(oe){console.error("Failed to load RunCrew:",oe),u(((Y=($=oe.response)==null?void 0:$.data)==null?void 0:Y.error)||oe.message||"Failed to load crew data"),(((ge=oe.response)==null?void 0:ge.status)===404||((Me=oe.response)==null?void 0:Me.status)===403)&&H("Unable to load members. Crew not found or access denied.")}finally{c(!1)}},[s,r,R,M]),pn=x.useCallback(async()=>{var A,$;if(s)try{if(S(!0),E(null),!R){S(!1);return}if(!M&&!fe.currentUser)throw new Error("Please sign in to view announcements");const{data:Y}=await ie.get(`/runcrew/${s}/announcements`);if(Y!=null&&Y.success&&Array.isArray(Y.announcements))j(Y.announcements);else throw new Error((Y==null?void 0:Y.error)||"Failed to load announcements")}catch(Y){console.error("Failed to load announcements:",Y),E((($=(A=Y.response)==null?void 0:A.data)==null?void 0:$.error)||Y.message||"Failed to load announcements")}finally{S(!1)}},[s,R,M]),gn=x.useCallback(async()=>{var A,$;if(s)try{if(F(!0),z(null),!R){F(!1);return}if(!M&&!fe.currentUser)throw new Error("Please sign in to view leaderboard");const{data:Y}=await ie.get(`/runcrew/${s}/leaderboard`,{params:{metric:V,week:"current"}});if(Y!=null&&Y.success&&Array.isArray(Y.leaderboard))te(Y.leaderboard);else throw new Error((Y==null?void 0:Y.error)||"Failed to load leaderboard")}catch(Y){console.error("Failed to load leaderboard:",Y),z((($=(A=Y.response)==null?void 0:A.data)==null?void 0:$.error)||Y.message||"Failed to load leaderboard"),te([])}finally{F(!1)}},[s,V,R,M]),ix=x.useCallback(async()=>{if(!s){Le("Missing crew context. Please return to Athlete Home.");return}try{p(!0),await Promise.all([fn(),pn(),gn()]),Le("Crew data refreshed")}catch(A){console.error("Failed to sync crew:",A),Le("Failed to refresh crew data")}finally{p(!1)}},[s,fn,pn,gn]);x.useEffect(()=>{R&&(s&&r?fn().then(()=>{s&&M&&(pn(),gn())}):s?M||(u("Please sign in to view crew"),c(!1)):(u("No crew ID found. Please join or create a crew first."),c(!1)))},[R,s,r,M,fn,pn,gn]),x.useEffect(()=>{s&&o&&!l&&gn()},[V]);const lx=async A=>{var ge,Me;if(A.preventDefault(),!s){Le("Sync your crew before posting");return}const $=m.trim(),Y=b.trim();if(!$||!Y){Le("Please provide both title and content");return}try{if(!R){Le("Loading authentication...");return}if(!M&&!fe.currentUser){Le("Please sign in to post announcements");return}E(null);const{data:oe}=await ie.post(`/runcrew/${s}/announcements`,{title:$,content:Y});if(oe!=null&&oe.success)y(""),w(""),await pn(),Le("Announcement posted successfully");else throw new Error((oe==null?void 0:oe.error)||"Failed to post announcement")}catch(oe){console.error("Failed to post announcement:",oe);const $e=((Me=(ge=oe.response)==null?void 0:ge.data)==null?void 0:Me.error)||"Failed to post announcement";E($e),Le($e)}},cx=async A=>{var Hd,zd;if(A.preventDefault(),!o){Le("Sync your crew before creating runs");return}const $=I.title.trim(),Y=I.date,ge=I.time,Me=I.meetUpPoint.trim(),oe=I.meetUpAddress.trim(),$e=I.totalMiles,De=I.pace.trim(),ur=I.stravaMapUrl.trim(),os=I.description.trim();if(!$||!Y||!ge||!Me){Le("Please fill in all required fields (Title, Date, Time, Meet-Up Point)");return}const yx=(de=>{if(!de)return"00:00:00";if(/^\d{1,2}:\d{2}(:\d{2})?$/.test(de)&&!de.includes("AM")&&!de.includes("PM"))return de.includes(":")&&de.split(":").length===2?`${de}:00`:de;const hr=de.match(/(\d{1,2}):(\d{2})\s*(AM|PM)/i);if(!hr)return console.warn("Invalid time format:",de),"00:00:00";let Gt=parseInt(hr[1],10);const ba=hr[2],Wd=hr[3].toUpperCase();return Wd==="PM"&&Gt!==12?Gt+=12:Wd==="AM"&&Gt===12&&(Gt=0),`${Gt.toString().padStart(2,"0")}:${ba}:00`})(ge),wa=Y?`${Y}T${yx}`:null;if(wa){const de=new Date(wa);if(isNaN(de.getTime())){Le("Invalid date or time. Please check your inputs.");return}}if(P){try{if(!R){Le("Loading authentication...");return}if(!M&&!fe.currentUser){Le("Please sign in to edit runs");return}const{data:de}=await ie.patch(`/runcrew/runs/${P}`,{title:$,date:wa,startTime:ge,meetUpPoint:Me,meetUpAddress:oe||null,totalMiles:$e?parseFloat($e):null,pace:De||null,stravaMapUrl:ur||null,description:os||null});if(de!=null&&de.success&&de.data){const hr=Re.map(ba=>ba.id===P?de.data:ba),Gt={...o,runs:hr};Fd(Gt),Le("Run updated successfully"),O(null),N(za),K(null),L(!1)}else throw new Error((de==null?void 0:de.error)||"Failed to update run")}catch(de){console.error("Error updating run:",de),Le(de.message||"Failed to update run")}return}try{if(!R){Le("Loading authentication...");return}if(!M&&!fe.currentUser){Le("Please sign in to create runs");return}const{data:de}=await ie.post(`/runcrew/${s}/runs`,{title:$,date:wa,startTime:ge,meetUpPoint:Me,meetUpAddress:oe||null,meetUpLat:(X==null?void 0:X.lat)||null,meetUpLng:(X==null?void 0:X.lng)||null,meetUpPlaceId:(X==null?void 0:X.placeId)||null,totalMiles:$e?parseFloat($e):null,pace:De||null,stravaMapUrl:ur||null,description:os||null});if(de!=null&&de.success&&de.data){const hr=[de.data,...Re],Gt={...o,runs:hr};Fd(Gt),N(za),K(null),L(!1),Le("Run created successfully")}else throw new Error((de==null?void 0:de.error)||"Failed to create run")}catch(de){console.error("Error creating run:",de),Le(((zd=(Hd=de.response)==null?void 0:Hd.data)==null?void 0:zd.error)||de.message||"Failed to create run")}},dx=()=>{O(null),N(ox()),K(null),L(!0)},ux=A=>{const $=A.date||A.scheduledAt||null;if(!$)return"Date TBD";try{return new Date($).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch{return $}},Vt=A=>$=>{const Y=$.target.value;N(ge=>({...ge,[A]:Y}))},hx=A=>{K({placeId:A.placeId,lat:A.lat,lng:A.lng}),N($=>({...$,meetUpAddress:A.address}))},mx=A=>{w(A.target.value)},fx=A=>{let $="";if(A.date)try{$=new Date(A.date).toISOString().split("T")[0]}catch(Y){console.error("Error parsing run date:",Y)}O(A.id),N({title:A.title||"",date:$,time:A.time||A.startTime||"",meetUpPoint:A.meetUpPoint||"",meetUpAddress:A.meetUpAddress||"",totalMiles:A.totalMiles||"",pace:A.pace||"",description:A.description||"",stravaMapUrl:A.stravaMapUrl||""}),L(!0)},$d=()=>{O(null),N(za),K(null),L(!1)},Bd=()=>!Array.isArray(ee)||ee.length===0?[]:ee.map(A=>({...A,display:uk[V](A)})).slice(0,5),px=A=>{Q(D===A?null:A)},gx=()=>{e("/runcrew/central")},xx=()=>{e("/runcrew-settings")};return!R||l?n.jsx("main",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-6 py-12",children:n.jsxs("div",{className:"max-w-xl w-full bg-white border border-gray-200 rounded-xl shadow-sm p-8 text-center space-y-6",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),n.jsx("p",{className:"text-gray-600 text-sm",children:R?"Loading crew data...":"Initializing authentication..."})]})}):d||!o?n.jsx("main",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-6 py-12",children:n.jsx("div",{className:"max-w-xl w-full bg-white border border-gray-200 rounded-xl shadow-sm p-8 space-y-6",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Failed to Load Crew"}),n.jsx("p",{className:"text-red-700 text-sm mb-4",children:d||"Unable to load crew data. Please check your connection and try again."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:fn,disabled:l,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition disabled:opacity-60",children:l?"Retrying...":"Retry"}),n.jsx("button",{onClick:()=>e("/athlete-home"),className:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-semibold hover:bg-gray-50 transition",children:"Back to Home"})]})]})})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[g&&n.jsx("div",{className:"fixed top-6 right-6 bg-emerald-500 text-white text-sm font-medium px-4 py-2 rounded-lg shadow-lg z-30",children:g}),n.jsx("header",{className:"bg-white shadow-sm",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 lg:px-6 py-6 flex flex-wrap items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-gray-600 hover:text-gray-900",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:o.name||"RunCrew Admin"}),n.jsx("p",{className:"text-sm text-gray-500",children:he}),n.jsxs("p",{className:"mt-2 text-base text-gray-700",children:["Welcome back",t!=null&&t.firstName?`, ${t.firstName}`:"","! You're managing everything for this crew."]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>e("/athlete-home"),className:"px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100 rounded-lg transition border border-gray-300",children:"Athlete Dashboard"}),n.jsxs("button",{onClick:gx,className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg px-4 py-2 transition",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"View Member Experience"]}),n.jsxs("button",{onClick:xx,className:"flex items-center gap-2 text-sm font-semibold text-white bg-orange-500 hover:bg-orange-600 border border-orange-600 rounded-lg px-4 py-2 transition shadow-sm",children:[n.jsx(rx,{className:"w-4 h-4"}),"Settings"]}),n.jsx("button",{onClick:ix,disabled:h,className:"bg-sky-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-sky-700 transition disabled:opacity-60",children:h?"Syncing":"Re-sync Crew Data"})]})]})}),n.jsx("main",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-10",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsx("aside",{className:"lg:col-span-3 space-y-6",children:n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 sticky top-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Members"}),n.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:rt.length})]}),T?n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-red-800 text-sm mb-2",children:"Failed to load members"}),n.jsx("button",{onClick:fn,className:"text-red-600 text-sm underline",children:"Retry"})]}):rt.length===0?n.jsxs("div",{className:"border border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-500",children:[n.jsx("p",{className:"mb-2",children:"No members yet."}),n.jsx("p",{children:"Share your invite code to build the crew."})]}):n.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:rt.map(A=>{var ge;const $=A.athlete||A,Y=Array.isArray(o.managers)?o.managers.find(Me=>Me.athleteId===($==null?void 0:$.id)&&Me.role==="admin"):null;return n.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition",children:[$!=null&&$.photoURL?n.jsx("img",{src:$.photoURL,alt:`${$.firstName} ${$.lastName}`,className:"w-10 h-10 rounded-full object-cover border-2 border-gray-200"}):n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center text-white font-semibold text-sm",children:(((ge=$==null?void 0:$.firstName)==null?void 0:ge[0])||"A").toUpperCase()}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("p",{className:"text-sm font-semibold text-gray-900 truncate",children:[($==null?void 0:$.firstName)||"Athlete"," ",($==null?void 0:$.lastName)||"",Y&&n.jsx("span",{className:"text-orange-600 text-xs font-bold ml-1",children:"Admin"})]}),($==null?void 0:$.email)&&n.jsx("p",{className:"text-xs text-gray-500 truncate",children:$.email})]})]},($==null?void 0:$.id)||A.id)})}),n.jsx(lk,{inviteCode:va})]})}),n.jsxs("div",{className:"lg:col-span-6 space-y-6",children:[n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Announcements"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Share updates with your crew"})]})}),n.jsxs("form",{onSubmit:lx,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("input",{type:"text",value:m,onChange:A=>y(A.target.value),placeholder:"Announcement title",className:"w-full border border-gray-300 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 mb-3"}),n.jsx("textarea",{value:b,onChange:mx,placeholder:"What's happening next?",className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 min-h-[100px]"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",disabled:C||!m.trim()||!b.trim(),className:"bg-orange-500 hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-5 py-2 rounded-lg text-sm font-semibold transition",children:C?"Posting...":"Post Announcement"})})]}),C&&n.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:"Loading announcements..."}),k&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[n.jsx("p",{className:"text-yellow-800 text-sm mb-2",children:k}),n.jsx("button",{onClick:pn,className:"text-yellow-600 text-sm underline",children:"Retry"})]}),n.jsxs("div",{className:"space-y-4",children:[!C&&!k&&v.length===0&&n.jsx("p",{className:"text-sm text-gray-500",children:"No announcements yet. Be the first to post one."}),v.map(A=>{var $;return n.jsxs("div",{className:"border border-gray-200 rounded-xl px-4 py-3 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[n.jsx("span",{children:($=A.author)!=null&&$.firstName?`${A.author.firstName}${A.author.lastName?` ${A.author.lastName}`:""}`:"Admin"}),n.jsx("span",{children:A.createdAt?new Date(A.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"Just now"})]}),A.title&&n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:A.title}),n.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line",children:A.content||A.text})]},A.id)})]})]}),n.jsx("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Runs"}),n.jsxs("button",{onClick:dx,className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition shadow-sm hover:shadow flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Run"]})]}),Re.length===0&&n.jsxs("div",{className:"border border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-500",children:[n.jsx("p",{className:"mb-2",children:"No runs yet."}),n.jsx("p",{children:'Click "Create Run" above to schedule the first run.'})]}),n.jsx("div",{className:"space-y-3",children:Re.map(A=>{var Me,oe,$e;const $=((Me=A.rsvps)==null?void 0:Me.length)||((oe=A._count)==null?void 0:oe.rsvps)||0,Y=(($e=A.rsvps)==null?void 0:$e.filter(De=>De.status==="going").length)||$,ge=D===A.id;return n.jsxs("div",{className:"border border-gray-200 rounded-xl bg-gray-50 overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:A.title||"Untitled Run"}),n.jsx("p",{className:"text-xs text-gray-500",children:ux(A)}),A.meetUpPoint&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",A.meetUpPoint]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:[Y," going"]}),n.jsx("button",{onClick:()=>px(A.id),className:"text-xs text-orange-600 hover:text-orange-800 font-semibold border border-orange-300 rounded px-3 py-1 hover:bg-orange-50 transition",children:ge?"Hide":"Details"}),n.jsx("button",{onClick:()=>fx(A),className:"text-xs text-sky-600 hover:text-sky-800 font-semibold border border-sky-300 rounded px-3 py-1 hover:bg-sky-50 transition",children:"Edit"})]})]})}),ge&&n.jsxs("div",{className:"border-t border-gray-200 bg-white px-4 py-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[A.totalMiles&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Distance"}),n.jsxs("p",{className:"font-semibold text-gray-900",children:[A.totalMiles," miles"]})]}),A.pace&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Pace"}),n.jsx("p",{className:"font-semibold text-gray-900",children:A.pace})]}),A.meetUpAddress&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Address"}),n.jsx("p",{className:"text-sm text-gray-900",children:A.meetUpAddress})]})]}),A.description&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Description"}),n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:A.description})]}),A.stravaMapUrl&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2",children:"Route Map"}),n.jsxs("a",{href:A.stravaMapUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-orange-600 hover:text-orange-800 font-semibold",children:["View on Strava",n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),A.meetUpLat&&A.meetUpLng&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2",children:"Location"}),n.jsx("div",{className:"bg-gray-100 rounded-lg h-48 flex items-center justify-center border border-gray-200",children:n.jsxs("div",{className:"text-center text-gray-500",children:[n.jsx("p",{className:"text-sm font-medium",children:"Map View"}),n.jsxs("p",{className:"text-xs mt-1",children:["Lat: ",A.meetUpLat,", Lng: ",A.meetUpLng]})]})})]}),A.rsvps&&A.rsvps.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2",children:"Who's Going"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:A.rsvps.filter(De=>De.status==="going").map(De=>{var ur,os,Ci;return n.jsxs("div",{className:"flex items-center gap-2 bg-green-50 border border-green-200 rounded-full px-3 py-1",children:[((ur=De.athlete)==null?void 0:ur.photoURL)&&n.jsx("img",{src:De.athlete.photoURL,alt:De.athlete.firstName,className:"w-5 h-5 rounded-full object-cover"}),n.jsxs("span",{className:"text-xs font-medium text-green-900",children:[(os=De.athlete)==null?void 0:os.firstName," ",(Ci=De.athlete)==null?void 0:Ci.lastName]})]},De.id)})})]})]})]},A.id)})})]})})]}),n.jsxs("aside",{className:"lg:col-span-3 space-y-6",children:[n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 space-y-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Crew Stats"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 bg-gradient-to-br from-emerald-50 to-emerald-100",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600 font-semibold",children:"Upcoming Runs"}),n.jsx("p",{className:"text-3xl font-bold text-emerald-700 mt-1",children:Re.length}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Keep the calendar full"})]}),n.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 bg-gradient-to-br from-blue-50 to-blue-100",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600 font-semibold",children:"Announcements"}),n.jsx("p",{className:"text-3xl font-bold text-blue-700 mt-1",children:v.length}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Crew updates"})]})]})]}),n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Leaderboard"}),n.jsx("div",{className:"flex gap-1",children:["miles","runs","calories"].map(A=>n.jsx("button",{type:"button",onClick:()=>J(A),className:`px-2 py-1 text-xs rounded-full font-semibold ${V===A?"bg-orange-100 text-orange-700":"text-gray-600 hover:bg-gray-100"}`,children:A==="miles"?"Miles":A==="runs"?"Runs":"Cals"},A))})]}),ye&&n.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:"Loading leaderboard..."}),G&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[n.jsx("p",{className:"text-yellow-800 text-sm mb-2",children:G}),n.jsx("button",{onClick:gn,className:"text-yellow-600 text-sm underline",children:"Retry"})]}),!ye&&!G&&n.jsxs("div",{className:"space-y-2",children:[Bd().length===0&&n.jsxs("div",{className:"text-center py-6",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"No leaderboard data yet."}),n.jsx("p",{className:"text-xs text-gray-400",children:"Stats will appear once your crew syncs activities from Garmin."})]}),Bd().map((A,$)=>{var Y,ge,Me,oe,$e,De;return n.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg transition",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center text-white font-bold text-xs",children:$+1}),(Y=A.athlete)!=null&&Y.photoURL?n.jsx("img",{src:A.athlete.photoURL,alt:`${A.athlete.firstName} ${A.athlete.lastName}`,className:"w-8 h-8 rounded-full object-cover border-2 border-gray-200"}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center text-white font-semibold text-xs",children:(((Me=(ge=A.athlete)==null?void 0:ge.firstName)==null?void 0:Me[0])||"A").toUpperCase()}),n.jsxs("p",{className:"flex-1 text-sm font-semibold text-gray-900",children:[((oe=A.athlete)==null?void 0:oe.firstName)||"Athlete"," ",(($e=A.athlete)==null?void 0:$e.lastName)||""]}),n.jsx("p",{className:"text-sm font-bold text-orange-600",children:A.display})]},((De=A.athlete)==null?void 0:De.id)||$)})]})]})]})]})}),ae&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:P?"Edit Run":"Create Run"}),n.jsx("button",{onClick:$d,className:"text-gray-400 hover:text-gray-600 transition",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("form",{onSubmit:cx,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Title *"}),n.jsx("input",{type:"text",value:I.title,onChange:Vt("title"),placeholder:"Saturday Sunrise Run",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Date *"}),n.jsx("input",{type:"date",value:I.date,onChange:Vt("date"),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Start Time *"}),n.jsxs("select",{value:I.time,onChange:Vt("time"),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",required:!0,children:[n.jsx("option",{value:"",children:"Select time..."}),dk.map(A=>n.jsx("option",{value:A,children:A},A))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Meet-Up Point *"}),n.jsx("input",{type:"text",value:I.meetUpPoint,onChange:Vt("meetUpPoint"),placeholder:"Central Park  Bethesda Terrace",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Meetup Address"}),n.jsx(sk,{value:I.meetUpAddress,onChange:Vt("meetUpAddress"),onPlaceSelected:hx,placeholder:"Start typing address...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Total Miles"}),n.jsx("input",{type:"number",step:"0.1",value:I.totalMiles,onChange:Vt("totalMiles"),placeholder:"5.0",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Pace (min/mile)"}),n.jsxs("select",{value:I.pace,onChange:Vt("pace"),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[n.jsx("option",{value:"",children:"Select pace..."}),ck.map(A=>n.jsx("option",{value:A,children:A},A))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Strava Route URL (Optional)"}),n.jsx("input",{type:"url",value:I.stravaMapUrl,onChange:Vt("stravaMapUrl"),placeholder:"https://www.strava.com/routes/...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"}),I.stravaMapUrl&&I.stravaMapUrl.includes("strava.com")&&n.jsx("div",{className:"mt-3",children:n.jsx(ok,{polylineString:"ypweFnzbjVhAWnAc@bAa@dAe@fAi@hAm@jAq@lAs@nAw@pAy@rA{@tA}@vA_AvAaAxAcAzAeA|AgA~AiA`BiAaBkAdBmAfBoBhBoBlBqBnBsBpBuBrBwBtByB",stravaUrl:I.stravaMapUrl})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Description"}),n.jsx("textarea",{value:I.description,onChange:Vt("description"),placeholder:"Tell your crew what to expect...",rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:$d,className:"border border-gray-300 text-gray-700 px-5 py-2 rounded-lg text-sm font-semibold hover:bg-gray-50 transition",children:"Cancel"}),n.jsx("button",{type:"submit",className:"bg-orange-500 text-white px-5 py-2 rounded-lg text-sm font-semibold hover:bg-orange-600 transition",children:P?"Save Changes":"Create Run"})]})]})]})})]})}const xs="https://gofastbackendv2-fall2025.onrender.com/api";function mk(){var z,T,H;const e=ce(),[t,r]=x.useState("general"),[s,a]=x.useState(null),[o,i]=x.useState(!0),[l,c]=x.useState(null),[d,u]=x.useState(!1),[h,p]=x.useState(!1),[g,f]=x.useState(!1),[b,w]=x.useState(""),[m,y]=x.useState("manager"),[v,j]=x.useState(!1),[C,S]=x.useState(""),[k,E]=x.useState(""),[I,N]=x.useState(""),[P,O]=x.useState(""),[D,Q]=x.useState(!1),[X,K]=x.useState(!1),[ae,L]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const q=B.getRunCrewId();if(!q){c("No crew selected");return}const M=B.getRunCrewData();M&&(a(M),S(M.name||""),E(M.description||""),N(M.logo||""),O(M.icon||""),i(!1));const le=fe.currentUser;if(le){const Ne=await le.getIdToken(),he=await ie.post(`${xs}/runcrew/hydrate`,{runCrewId:q,athleteId:B.getAthleteId()},{headers:{Authorization:`Bearer ${Ne}`}});he.data.success&&(a(he.data.runCrew),S(he.data.runCrew.name||""),E(he.data.runCrew.description||""),N(he.data.runCrew.logo||""),O(he.data.runCrew.icon||""),B.setRunCrewData(he.data.runCrew))}}catch(q){console.error("Error loading crew:",q),c("Failed to load crew data")}finally{i(!1)}})()},[]);const V=async()=>{var R,q;if(s)try{const M=fe.currentUser;if(!M){c("You must be signed in to update crew");return}Q(!0);const le=await M.getIdToken();if((await ie.patch(`${xs}/runcrew/${s.id}`,{name:C.trim(),description:k.trim()||null,logo:I.trim()||null,icon:P.trim()||null},{headers:{Authorization:`Bearer ${le}`}})).data.success){const he={...s,name:C.trim(),description:k.trim()||null,logo:I.trim()||null,icon:P.trim()||null};a(he),B.setRunCrewData(he),c(null)}}catch(M){console.error("Error updating crew:",M),c(((q=(R=M.response)==null?void 0:R.data)==null?void 0:q.message)||"Failed to update crew")}finally{Q(!1)}},J=async()=>{var R,q,M;if(s){K(!0),c(null),u(!1);try{const le=fe.currentUser;if(!le){c("You must be signed in to delete a crew"),K(!1);return}const Ne=await le.getIdToken();if((await ie.delete(`${xs}/runcrew/${s.id}`,{headers:{Authorization:`Bearer ${Ne}`}})).data.success){L(!0),B.clearRunCrewData();const Re=B.getFullHydrationModel();if(Re!=null&&Re.athlete){const rt={...Re.athlete};delete rt.runCrewMemberships,delete rt.runCrewManagers,delete rt.adminRunCrews,delete rt.MyCrew,delete rt.MyCrewManagerId,delete rt.runCrews,B.setFullHydrationModel({...Re,athlete:rt})}setTimeout(()=>{e("/athlete-home",{replace:!0})},3e3)}}catch(le){console.error("Error deleting crew:",le);const Ne=((q=(R=le.response)==null?void 0:R.data)==null?void 0:q.message)||"Failed to delete crew";if(((M=le.response)==null?void 0:M.status)===400&&Ne.includes("already")){console.log(" Crew already deleted, clearing localStorage and redirecting"),L(!0),B.clearRunCrewData();const he=B.getFullHydrationModel();if(he!=null&&he.athlete){const Re={...he.athlete};delete Re.runCrewMemberships,delete Re.runCrewManagers,delete Re.adminRunCrews,delete Re.MyCrew,delete Re.MyCrewManagerId,delete Re.runCrews,B.setFullHydrationModel({...he,athlete:Re})}setTimeout(()=>{e("/athlete-home",{replace:!0})},3e3);return}c(Ne),K(!1)}}};if(ae)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"max-w-md mx-auto px-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Crew Deleted Successfully"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Your RunCrew has been permanently deleted."}),n.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to home..."})]})})});if(o)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading crew settings..."})]})});if(l&&!s)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:l}),n.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-orange-600 hover:text-orange-800",children:" Back to Home"})]})});const ee=s||{name:"Loading...",joinCode:""},te=((z=s==null?void 0:s.managers)==null?void 0:z.filter(R=>R.role==="admin"))||[],ye=(s==null?void 0:s.memberships)||[],F=ye.filter(R=>!te.some(M=>M.athleteId===R.athleteId)),G=async()=>{var R,q;if(!b||!s){c("Please select a member");return}try{j(!0),c(null);const M=fe.currentUser;if(!M){c("You must be signed in to add managers"),j(!1);return}const le=await M.getIdToken(),Ne=await ie.post(`${xs}/runcrew/${s.id}/managers`,{athleteId:b,role:m},{headers:{Authorization:`Bearer ${le}`}});if(Ne.data.success){const he=await ie.post(`${xs}/runcrew/hydrate`,{runCrewId:s.id,athleteId:B.getAthleteId()},{headers:{Authorization:`Bearer ${le}`}});he.data.success&&(a(he.data.runCrew),B.setRunCrewData(he.data.runCrew)),f(!1),w(""),y("manager"),c(null)}else throw new Error(Ne.data.error||"Failed to add manager")}catch(M){console.error("Error adding manager:",M),c(((q=(R=M.response)==null?void 0:R.data)==null?void 0:q.message)||M.message||"Failed to add manager")}finally{j(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Run Crew Settings"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>e("/athlete-home"),className:"px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100 rounded-lg transition border border-gray-300",children:"Home"}),n.jsx("button",{onClick:()=>e("/crew/crewadmin"),className:"px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100 rounded-lg transition border border-gray-300",children:"Back to Admin"})]})]}),n.jsx("p",{className:"text-gray-600",children:"Manage your crew configuration and permissions"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200 hover:shadow-xl transition",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg mr-3",children:n.jsx(mC,{className:"h-6 w-6 text-blue-600"})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Transfer Ownership"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Transfer admin rights to another member"}),n.jsx("button",{onClick:()=>p(!0),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 rounded-lg transition",children:"Transfer"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200 hover:shadow-xl transition",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"bg-green-100 p-3 rounded-lg mr-3",children:n.jsx(Dr,{className:"h-6 w-6 text-green-600"})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Add a Manager"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Grant manager permissions to a member"}),n.jsx("button",{onClick:()=>f(!0),className:"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 rounded-lg transition",children:"Add Manager"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-red-200 hover:shadow-xl transition",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-lg mr-3",children:n.jsx(Ts,{className:"h-6 w-6 text-red-600"})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete RunCrew"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Permanently delete this crew (cannot be undone)"}),n.jsx("button",{onClick:()=>u(!0),className:"w-full bg-red-500 hover:bg-red-600 text-white font-semibold py-2 rounded-lg transition",children:"Delete"})]})]}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Delete RunCrew?"}),n.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete ",n.jsx("strong",{children:ee.name}),"? This action cannot be undone and will remove all crew data, members, runs, and history."]}),l&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded text-sm mb-4",children:l}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:()=>{u(!1),c(null)},disabled:X,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 rounded-lg transition disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:J,disabled:X,className:"flex-1 bg-red-500 hover:bg-red-600 text-white font-semibold py-2 rounded-lg transition disabled:opacity-50",children:X?"Deleting...":"Delete Forever"})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("div",{className:"flex space-x-1 px-6",children:[n.jsx("button",{onClick:()=>r("general"),className:`px-4 py-3 font-medium ${t==="general"?"border-b-2 border-orange-500 text-orange-600":"text-gray-600 hover:text-gray-900"}`,children:"General"}),n.jsxs("button",{onClick:()=>r("admins"),className:`px-4 py-3 font-medium ${t==="admins"?"border-b-2 border-orange-500 text-orange-600":"text-gray-600 hover:text-gray-900"}`,children:["Admins (",te.length,")"]}),n.jsxs("button",{onClick:()=>r("members"),className:`px-4 py-3 font-medium ${t==="members"?"border-b-2 border-orange-500 text-orange-600":"text-gray-600 hover:text-gray-900"}`,children:["Members (",ye.length,")"]})]})}),n.jsxs("div",{className:"p-6",children:[t==="general"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Crew Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Crew Name"}),n.jsx("input",{type:"text",value:C,onChange:R=>S(R.target.value),className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"Enter crew name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{value:k,onChange:R=>E(R.target.value),rows:3,className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"Enter crew description (optional)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:I,onChange:R=>N(R.target.value),className:"flex-1 p-3 border border-gray-300 rounded-lg",placeholder:"https://example.com/logo.png"}),I&&n.jsx("img",{src:I,alt:"Logo preview",className:"w-12 h-12 rounded object-cover border border-gray-300",onError:R=>R.target.style.display="none"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a URL to an image for your crew logo"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon (Emoji)"}),n.jsx("input",{type:"text",value:P,onChange:R=>O(R.target.value),className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:" or ",maxLength:2}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter an emoji as an alternative to logo (1-2 characters)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Join Code"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:ee.joinCode||"",readOnly:!0,className:"flex-1 p-3 border border-gray-300 rounded-lg bg-gray-50"}),n.jsx("button",{className:"px-4 py-3 bg-gray-400 text-white rounded-lg cursor-not-allowed opacity-50",disabled:!0,children:"User Set"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Join code is set by the user when creating the crew"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invite URL (System Generated)"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:ee.joinCode?`${window.location.origin}/join/${ee.joinCode}`:"",readOnly:!0,className:"flex-1 p-3 border border-gray-300 rounded-lg bg-gray-50 font-mono text-sm"}),n.jsxs("button",{onClick:()=>{const R=ee.joinCode?`${window.location.origin}/join/${ee.joinCode}`:"";R&&navigator.clipboard.writeText(R)},className:"px-4 py-3 bg-sky-500 text-white rounded-lg hover:bg-sky-600 flex items-center gap-2",children:[n.jsx(ex,{className:"w-4 h-4"}),"Copy"]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Share this URL to invite members. System-generated from join code."})]}),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsx("button",{onClick:V,disabled:D,className:"bg-orange-500 hover:bg-orange-600 text-white font-semibold px-6 py-2 rounded-lg transition disabled:opacity-60",children:D?"Saving...":"Save Changes"})})]})]})}),t==="admins"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Crew Admins"}),n.jsx("button",{onClick:()=>f(!0),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Add Admin"})]}),((T=s==null?void 0:s.managers)==null?void 0:T.filter(R=>R.role==="admin").map(R=>{var q,M,le;return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold",children:[(q=R.athlete)==null?void 0:q.firstName," ",(M=R.athlete)==null?void 0:M.lastName]}),n.jsx("p",{className:"text-sm text-gray-600",children:(le=R.athlete)==null?void 0:le.email}),n.jsx("span",{className:"text-xs text-orange-600 font-medium",children:"Admin"})]}),s.runcrewAdminId!==R.athleteId&&n.jsx("button",{className:"text-red-600 hover:text-red-800",children:"Remove"})]},R.id)}))||n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No admins found"})]}),t==="members"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Crew Members"}),((H=s==null?void 0:s.memberships)==null?void 0:H.map(R=>{var q,M;return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold",children:[(q=R.athlete)==null?void 0:q.firstName," ",(M=R.athlete)==null?void 0:M.lastName]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Joined ",new Date(R.joinedAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 text-sm",children:"Make Admin"}),n.jsx("button",{className:"text-red-600 hover:text-red-800",children:"Remove"})]})]},R.id)}))||n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No members found"})]})]})]})]}),g&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Add Manager"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Select a member to grant manager or admin permissions."}),l&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded text-sm mb-4",children:l}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Member"}),n.jsxs("select",{value:b,onChange:R=>w(R.target.value),className:"w-full p-3 border border-gray-300 rounded-lg",children:[n.jsx("option",{value:"",children:"Choose a member..."}),F.map(R=>{var q,M,le;return n.jsxs("option",{value:R.athleteId,children:[(q=R.athlete)==null?void 0:q.firstName," ",(M=R.athlete)==null?void 0:M.lastName,(le=R.athlete)!=null&&le.email?` (${R.athlete.email})`:""]},R.id)})]}),F.length===0&&n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"All members are already admins."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),n.jsxs("select",{value:m,onChange:R=>y(R.target.value),className:"w-full p-3 border border-gray-300 rounded-lg",children:[n.jsx("option",{value:"manager",children:"Manager"}),n.jsx("option",{value:"admin",children:"Admin"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m==="admin"?"Admins have full control over the crew":"Managers can help manage runs and announcements"})]})]}),n.jsxs("div",{className:"flex space-x-4 mt-6",children:[n.jsx("button",{onClick:()=>{f(!1),w(""),y("manager"),c(null)},disabled:v,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 rounded-lg transition disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:G,disabled:v||!b,className:"flex-1 bg-green-500 hover:bg-green-600 text-white font-semibold py-2 rounded-lg transition disabled:opacity-50",children:v?"Adding...":"Add Manager"})]})]})}),h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Transfer Ownership"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Transfer ownership functionality coming soon."}),n.jsx("button",{onClick:()=>p(!1),className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 rounded-lg transition",children:"Close"})]})})]})}function fk(){const e=ce(),{runId:t}=hi(),[r,s]=x.useState("going"),a={title:"Saturday Morning Group Run",date:"Tomorrow",time:"6:00 AM",location:"Trailhead Park",address:"123 Trailhead Road, San Francisco, CA",distance:"5-8 miles",pace:"8:00-9:00 min/mile",description:"Starting at the main trailhead. We'll do an out-and-back along the coastal trail. Bring water and good vibes! Optional coffee after. ",organizer:"Emma Rodriguez",createdAt:"2 days ago",attendees:{going:[{id:1,name:"Emma Rodriguez",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face"},{id:2,name:"Sarah Johnson",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face"},{id:3,name:"Mike Chen",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face"},{id:4,name:"David Lee",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face"},{id:5,name:"Maria Garcia",avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face"}],maybe:[{id:6,name:"James Wilson",avatar:"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?w=150&h=150&fit=crop&crop=face"}]}},o=i=>{s(i),console.log("RSVP updated:",i)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-gray-600 hover:text-gray-800",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-8 h-8 rounded-full"}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Run Details"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>e("/athlete-home"),className:"px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100 rounded-lg transition border border-gray-300",children:"Home"}),n.jsxs("button",{onClick:()=>e("/runcrew-settings"),className:"px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100 rounded-lg transition border border-gray-300 flex items-center gap-2",children:[n.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]})]})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.title}),n.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500 mb-4",children:[n.jsxs("span",{children:["Created by ",a.organizer]}),n.jsx("span",{children:""}),n.jsx("span",{children:a.createdAt})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-orange-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Date"}),n.jsx("p",{className:"font-semibold text-gray-900",children:a.date}),n.jsx("p",{className:"text-sm text-gray-600",children:a.time})]})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsxs("svg",{className:"w-5 h-5 text-orange-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Location"}),n.jsx("p",{className:"font-semibold text-gray-900",children:a.location})]})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-orange-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Distance"}),n.jsx("p",{className:"font-semibold text-gray-900",children:a.distance})]})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-orange-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Pace"}),n.jsx("p",{className:"font-semibold text-gray-900",children:a.pace})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"About This Run"}),n.jsx("p",{className:"text-gray-700",children:a.description})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"RSVP"}),n.jsxs("div",{className:"flex gap-3 mb-6",children:[n.jsx("button",{onClick:()=>o("going"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${r==="going"?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Going"}),n.jsx("button",{onClick:()=>o("maybe"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${r==="maybe"?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Maybe"}),n.jsx("button",{onClick:()=>o("not-going"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${r==="not-going"?"bg-red-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Can't Make It"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center space-x-2",children:[n.jsx("span",{children:""}),n.jsxs("span",{children:["Going (",a.attendees.going.length,")"]})]})}),n.jsx("div",{className:"flex -space-x-2 mb-2",children:a.attendees.going.map(i=>n.jsx("img",{src:i.avatar,alt:i.name,className:"w-10 h-10 rounded-full border-2 border-white object-cover",title:i.name},i.id))}),n.jsx("div",{className:"text-sm text-gray-600",children:a.attendees.going.map(i=>i.name).join(", ")})]}),a.attendees.maybe.length>0&&n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center space-x-2",children:[n.jsx("span",{children:""}),n.jsxs("span",{children:["Maybe (",a.attendees.maybe.length,")"]})]})}),n.jsx("div",{className:"flex -space-x-2 mb-2",children:a.attendees.maybe.map(i=>n.jsx("img",{src:i.avatar,alt:i.name,className:"w-10 h-10 rounded-full border-2 border-white object-cover",title:i.name},i.id))}),n.jsx("div",{className:"text-sm text-gray-600",children:a.attendees.maybe.map(i=>i.name).join(", ")})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Location"}),n.jsx("div",{className:"bg-gray-200 rounded-lg h-48 flex items-center justify-center mb-4",children:n.jsx("p",{className:"text-gray-500",children:"Map View"})}),n.jsx("p",{className:"text-sm text-gray-600",children:a.address})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Chat About This Run"}),n.jsx("button",{className:"text-sm text-orange-600 hover:text-orange-700",children:"View All Messages"})]}),n.jsx("div",{className:"space-y-3",children:n.jsxs("div",{className:"flex items-start space-x-2 p-3 bg-gray-50 rounded-lg",children:[n.jsx("img",{src:a.attendees.going[0].avatar,alt:a.attendees.going[0].name,className:"w-8 h-8 rounded-full object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:a.attendees.going[0].name}),n.jsx("p",{className:"text-sm text-gray-700",children:"Can't wait for this one! See you all there "}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"2 hours ago"})]})]})})]})]}),n.jsx("div",{className:"h-20"})]})}function pk(){const e=ce();return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-white shadow-sm",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-gray-600 hover:text-gray-800",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-8 h-8 rounded-full"}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"GoFast"})]})})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Run with Others & Stay Accountable"}),n.jsx("p",{className:"text-xl text-gray-600",children:"Join a crew, track runs together, and crush your goals as a team"})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"How It Works"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-2xl",children:""})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Join a Crew"}),n.jsx("p",{className:"text-gray-600",children:"Start your own crew or join an existing one with friends"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-2xl",children:""})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Connect Your App"}),n.jsx("p",{className:"text-gray-600",children:"Link Garmin, Strava, or other running apps to sync automatically"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-2xl",children:""})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Compete Together"}),n.jsx("p",{className:"text-gray-600",children:"Track progress, earn points, and stay motivated as a team"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("button",{onClick:()=>e("/form-run-crew"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-4 px-8 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-200",children:"Start Your Own Crew"}),n.jsx("button",{onClick:()=>e("/runcrew/join"),className:"w-full bg-white border-2 border-orange-200 hover:border-orange-400 text-gray-900 py-4 px-8 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-200",children:"Join an Existing Crew"})]})]})]})}const gk=window.location.origin||"https://athlete.gofastcrushgoals.com",xk=()=>{const e=ce(),[t,r]=x.useState(!1),[s,a]=x.useState(!1),o=JSON.parse(localStorage.getItem("currentCrew")||"{}"),i=o.joinCode||o.crewCode||"CODE123",l=o.name||"Your Crew",c=`${gk}/join/${i}`,d=async()=>{try{await navigator.clipboard.writeText(c),r(!0),setTimeout(()=>r(!1),2e3)}catch{alert("Failed to copy link")}},u=async()=>{try{await navigator.clipboard.writeText(i),a(!0),setTimeout(()=>a(!1),2e3)}catch{alert("Failed to copy code")}},h=()=>{e("/crew/crewadmin")},p=()=>`You've been invited to join ${l} on GoFast!

Join here: ${c}`,g=async()=>{try{const f=p();await navigator.clipboard.writeText(f),alert("Share message copied to clipboard!")}catch{alert("Failed to copy message")}};return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-white shadow-sm",children:n.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-6 h-6 rounded-full"}),n.jsx("span",{className:"text-xl font-bold text-gray-900 ml-3",children:"GoFast"})]})})}),n.jsx("div",{className:"max-w-md mx-auto px-6 py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:n.jsx("span",{className:"text-6xl",children:""})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Crew Created!"}),n.jsx("p",{className:"text-gray-600",children:"Congratulations! Your running crew is ready to go."})]}),n.jsxs("div",{className:"bg-gradient-to-br from-sky-50 to-sky-100 rounded-xl p-6 mb-6 border-2 border-sky-200",children:[n.jsxs("div",{className:"flex items-center justify-center mb-4",children:[n.jsx(ex,{className:"w-6 h-6 text-sky-600 mr-2"}),n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Your Invite Link"})]}),n.jsx("div",{className:"bg-white rounded-lg p-4 mb-4 border-2 border-sky-300",children:n.jsx("p",{className:"text-sm font-mono text-sky-700 break-all text-center",children:c})}),n.jsx("button",{onClick:d,className:"w-full bg-sky-600 hover:bg-sky-700 text-white py-3 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2 shadow-md",children:t?n.jsxs(n.Fragment,{children:[n.jsx(vc,{className:"w-5 h-5"}),n.jsx("span",{children:"Copied!"})]}):n.jsxs(n.Fragment,{children:[n.jsx(ho,{className:"w-5 h-5"}),n.jsx("span",{children:"Copy Invite Link"})]})}),n.jsx("p",{className:"text-xs text-gray-600 text-center mt-3",children:"Share this link  friends can join with one click!"})]}),n.jsxs("div",{className:"bg-orange-50 rounded-xl p-6 mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Or Share This Message"}),n.jsx("div",{className:"bg-white rounded-lg p-4 mb-4 border-2 border-orange-200",children:n.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-line",children:p()})}),n.jsxs("button",{onClick:g,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[n.jsx(ho,{className:"w-4 h-4"}),n.jsx("span",{children:"Copy Message"})]})]}),n.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Join Code (if needed)"}),n.jsx("p",{className:"text-lg font-mono font-bold text-gray-900",children:i})]}),n.jsx("button",{onClick:u,className:"px-4 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:border-gray-400 transition-colors flex items-center space-x-2",children:s?n.jsxs(n.Fragment,{children:[n.jsx(vc,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Copied"})]}):n.jsxs(n.Fragment,{children:[n.jsx(ho,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Copy"})]})})]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:h,className:"w-full bg-orange-500 text-white py-4 rounded-xl font-bold text-lg hover:bg-orange-600 transition-colors shadow-lg",children:"Go to Run Crew Central"}),n.jsx("button",{onClick:()=>e("/athlete-home"),className:"w-full bg-white border-2 border-orange-200 text-gray-900 py-3 rounded-xl font-medium hover:border-orange-400 transition-colors",children:"Go Back to Athlete Central"})]}),n.jsx("p",{className:"text-gray-500 text-sm mt-6",children:"Your crew is live and ready for members! "})]})})]})},yk=()=>{const e=ce(),{athleteId:t}=as(),[r,s]=x.useState("current"),{activities:a,weeklyTotals:o,isLoading:i,periodLabel:l}=Qg(t,r),c=g=>{if(!g)return"0:00";const f=Math.floor(g/3600),b=Math.floor(g%3600/60),w=g%60;return f>0?`${f}:${b.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`:`${b}:${w.toString().padStart(2,"0")}`},d=g=>g?`${(g/1609.34).toFixed(2)} mi`:"0.0 mi",u=(g,f)=>{if(!g||!f||f===0)return"--:--";const b=g/1609.34,w=Math.round(f/b),m=Math.floor(w/60),y=w%60;return`${m}:${y.toString().padStart(2,"0")}`},h=g=>{if(!g)return"Unknown date";const f=new Date(g),b=new Date,w=new Date(b);return w.setDate(w.getDate()-1),f.toDateString()===b.toDateString()?"Today":f.toDateString()===w.toDateString()?"Yesterday":f.toLocaleDateString("en-US",{month:"short",day:"numeric"})},p=g=>g?new Date(g).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"";return i?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading activities..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm",children:n.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-gray-600 hover:text-gray-900",children:" Back"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Activities"})]}),n.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg font-medium hover:bg-gray-100 transition",children:"Home"})]})})}),n.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[n.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:[{key:"current",label:"This Week"},{key:"previous",label:"Last Week"},{key:"month",label:"This Month"},{key:"lastMonth",label:"Last Month"}].map(({key:g,label:f})=>n.jsx("button",{onClick:()=>s(g),className:`px-4 py-2 rounded-lg font-semibold text-sm transition ${r===g?"bg-orange-500 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:f},g))}),o&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:l}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:o.totalDistanceMiles||"0"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Miles"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:o.activityCount||0}),n.jsx("p",{className:"text-sm text-gray-600",children:"Activities"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:c(o.totalDuration)}),n.jsx("p",{className:"text-sm text-gray-600",children:"Time"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:o.totalCalories||0}),n.jsx("p",{className:"text-sm text-gray-600",children:"Calories"})]})]})]}),a.filter(g=>{if(!g.activityType)return!1;const f=g.activityType.toLowerCase();return f.includes("run")||f==="running"}).length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Activities Yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your Garmin device to start tracking activities!"}),n.jsx("button",{onClick:()=>e("/settings"),className:"bg-orange-500 text-white px-6 py-3 rounded-lg font-bold hover:bg-orange-600 transition",children:"Connect Garmin"})]}):n.jsx("div",{className:"space-y-4",children:a.filter(g=>{if(!g.activityType)return!1;const f=g.activityType.toLowerCase();return(f==="running"||f==="run")&&!f.includes("wheelchair")}).map((g,f)=>n.jsx("div",{onClick:()=>e(`/activity/${g.id}`),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all cursor-pointer border-l-4 border-orange-500",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:g.activityName&&!g.activityName.includes("Sample")?g.activityName:g.activityType?g.activityType.replace(/_/g," ").toLowerCase().replace(/\b\w/g,b=>b.toUpperCase()):"Activity"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:""}),n.jsx("span",{className:"text-sm text-gray-600",children:g.activityType?g.activityType.replace(/_/g," ").toLowerCase().replace(/\b\w/g,b=>b.toUpperCase()):"Run"}),n.jsx("span",{className:"text-xs text-gray-400",children:""}),n.jsx("span",{className:"text-xs font-semibold text-gray-700",children:g.deviceName?`GARMIN ${g.deviceName}`:"GARMIN [NO DEVICE]"})]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[h(g.startTime)," at ",p(g.startTime)]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Distance"}),n.jsx("p",{className:"font-semibold text-gray-900",children:d(g.distance)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Pace"}),n.jsxs("p",{className:"font-semibold text-gray-900",children:[u(g.distance,g.duration),"/mi"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Duration"}),n.jsx("p",{className:"font-semibold text-gray-900",children:c(g.duration)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Calories"}),n.jsx("p",{className:"font-semibold text-gray-900",children:g.calories||"--"})]})]}),g.averageHeartRate&&n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Avg Heart Rate"}),n.jsxs("p",{className:"font-semibold text-gray-900",children:[g.averageHeartRate," bpm"]})]})]}),n.jsx("div",{className:"ml-4",children:n.jsx("button",{className:"text-orange-600 hover:text-orange-700 font-semibold",children:"View Details "})})]})},g.id||f))})]})]})},vk=()=>{var p;const e=ce(),{id:t}=hi(),[r,s]=x.useState(null),[a,o]=x.useState(!0);x.useEffect(()=>{t?(()=>{var f;o(!0);try{const b=B.getFullHydrationModel(),w=b.athlete||B.getAthleteProfile();let m=Array.isArray(b.weeklyActivities)?b.weeklyActivities:[];m.length===0&&((f=w==null?void 0:w.weeklyActivities)!=null&&f.length)&&(m=w.weeklyActivities);const y=m.find(v=>v.id===t||v.sourceActivityId===t);y?s(y):console.error(" ACTIVITY DETAIL: Activity not found:",t)}catch(b){console.error(" ACTIVITY DETAIL: Error loading activity:",b)}finally{o(!1)}})():o(!1)},[t]);const i=g=>{if(!g)return"0:00";const f=Math.floor(g/3600),b=Math.floor(g%3600/60),w=g%60;return f>0?`${f}:${b.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`:`${b}:${w.toString().padStart(2,"0")}`},l=g=>g?`${(g/1609.34).toFixed(2)} mi`:"0.0 mi",c=(g,f)=>{if(!g||!f||f===0)return"--:--";const b=g/1609.34,w=Math.round(f/b),m=Math.floor(w/60),y=w%60;return`${m}:${y.toString().padStart(2,"0")}`},d=g=>g?new Date(g).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Unknown date",u=g=>g?new Date(g).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"";if(a)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading activity..."})]})});if(!r)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Activity Not Found"}),n.jsx("button",{onClick:()=>e("/my-activities"),className:"bg-orange-500 text-white px-6 py-3 rounded-lg font-bold hover:bg-orange-600 transition",children:"Back to Activities"})]})});const h=r.detailData&&Object.keys(r.detailData).length>0;return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm",children:n.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>e("/my-activities"),className:"text-gray-600 hover:text-gray-900",children:" Back"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Activity Details"})]}),n.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg font-medium hover:bg-gray-100 transition",children:"Home"})]})})}),n.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"text-4xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.activityName&&!r.activityName.includes("Sample")?r.activityName:r.activityType?r.activityType.replace(/_/g," ").toLowerCase().replace(/\b\w/g,g=>g.toUpperCase()):"Activity"}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-sm text-gray-500",children:""}),n.jsx("span",{className:"text-base text-gray-600",children:r.activityType?r.activityType.replace(/_/g," ").toLowerCase().replace(/\b\w/g,g=>g.toUpperCase()):"Run"}),n.jsx("span",{className:"text-sm text-gray-400",children:""}),n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:r.deviceName?`GARMIN ${r.deviceName}`:"GARMIN [NO DEVICE]"})]}),n.jsxs("p",{className:"text-gray-600",children:[d(r.startTime)," at ",u(r.startTime)]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-6",children:[n.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:l(r.distance)}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Distance"})]}),n.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:i(r.duration)}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Duration"})]}),n.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[n.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[c(r.distance,r.duration),"/mi"]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Pace"})]}),n.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:r.calories||"--"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Calories"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Additional Metrics"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.averageHeartRate&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Average Heart Rate"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[r.averageHeartRate," bpm"]})]}),r.maxHeartRate&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Max Heart Rate"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[r.maxHeartRate," bpm"]})]}),r.elevationGain&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Elevation Gain"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[r.elevationGain," ft"]})]}),r.averageSpeed&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Average Speed"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[(r.averageSpeed*2.237).toFixed(1)," mph"]})]}),r.maxSpeed&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Max Speed"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[(r.maxSpeed*2.237).toFixed(1)," mph"]})]}),r.averageCadence&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Average Cadence"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[r.averageCadence," spm"]})]})]})]}),h?n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Detailed Analysis"}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[n.jsx("p",{className:"text-green-800 font-semibold",children:" Enhanced Data Available"}),n.jsx("p",{className:"text-green-600 text-sm mt-1",children:"This activity includes detailed metrics like heart rate zones, training effect, and more!"})]}),r.detailData.trainingEffect&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Training Effect"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.detailData.trainingEffect.aerobic&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Aerobic"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.detailData.trainingEffect.aerobic})]}),r.detailData.trainingEffect.anaerobic&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Anaerobic"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.detailData.trainingEffect.anaerobic})]})]})]}),r.detailData.heartRateZones&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Heart Rate Zones"}),n.jsx("div",{className:"space-y-2",children:Object.entries(r.detailData.heartRateZones).map(([g,f])=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"text-sm text-gray-600",children:["Zone ",g]}),n.jsx("span",{className:"font-semibold text-gray-900",children:i(f)})]},g))})]}),r.detailData.lapSummaries&&r.detailData.lapSummaries.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Lap Summaries"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[r.detailData.lapSummaries.length," lap(s) recorded"]})]}),r.detailData.samples&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Sample Data"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[((p=r.detailData.samples)==null?void 0:p.length)||0," data points recorded"]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Detailed sample data available for advanced analysis"})]})]}):n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Detailed Analysis"}),n.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:n.jsx("p",{className:"text-gray-600",children:"Detailed metrics are being processed. Check back soon for enhanced data including heart rate zones, training effect, and more!"})})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>e("/my-activities"),className:"flex-1 bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition",children:"Back to Activities"}),n.jsx("button",{onClick:()=>e("/athlete-home"),className:"flex-1 bg-orange-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-orange-600 transition",children:"Go to Home"})]})]})]})},wk=()=>{const e=ce(),t=h2(),[r,s]=x.useState(!1),[a,o]=x.useState(!0);x.useEffect(()=>{if(!t){console.log(" YOUNG ATHLETE WELCOME: No Firebase user  routing to /5k-results"),e("/5k-results");return}const l=localStorage.getItem("athleteId"),c=localStorage.getItem("youngAthleteId");if(console.log(" YOUNG ATHLETE WELCOME: Checking localStorage..."),console.log("  athleteId:",l?"":""),console.log("  youngAthleteId:",c?"":""),l&&!c){console.log(" YOUNG ATHLETE WELCOME: Has athleteId but no youngAthleteId  routing to youth-registration"),e("/5k-results/youth-registration");return}if(!l){console.log(" YOUNG ATHLETE WELCOME: No athleteId  routing to /5k-results"),e("/5k-results");return}console.log(" YOUNG ATHLETE WELCOME: All hydrated, showing welcome"),o(!1);const d=setTimeout(()=>{s(!0)},500);return()=>clearTimeout(d)},[t,e]);const i=()=>{e("/5k-results/home")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-500 via-red-500 to-pink-500 flex items-center justify-center",children:n.jsxs("div",{className:"text-center animate-fade-in",children:[n.jsxs("h1",{className:"text-6xl md:text-8xl font-bold text-white mb-8 animate-pulse",children:["Let's Go ",n.jsx("span",{className:"text-orange-300",children:"Crush"})," Goals!"]}),n.jsx("p",{className:"text-2xl md:text-3xl text-orange-100 font-medium mb-8",children:"Ready to see your athlete's progress?"}),a&&n.jsxs("div",{className:"mt-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),n.jsx("p",{className:"text-xl text-orange-100",children:"Loading..."})]}),!a&&!r&&n.jsxs("div",{className:"mt-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),n.jsx("p",{className:"text-xl text-orange-100",children:"Preparing..."})]}),r&&n.jsx("div",{className:"mt-8",children:n.jsx("button",{onClick:i,className:"bg-gradient-to-r from-orange-600 to-orange-500 text-white px-12 py-4 rounded-xl font-bold text-2xl hover:from-orange-700 hover:to-orange-600 transition shadow-2xl transform hover:scale-105",children:"Let's Go! "})})]})})},bk="https://gofastbackendv2-fall2025.onrender.com/api",jk=()=>{const[e,t]=x.useState(null),[r,s]=x.useState(!1),a=async()=>{try{s(!0),t(null);const o=localStorage.getItem("garmin_code_verifier");console.log(" Code Verifier in localStorage:",o);const i=await fetch(`${bk}/garmin/debug`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"check_tokens",codeVerifier:o})});if(i.ok){const l=await i.json();t(l),console.log(" Debug result:",l)}else{const l=await i.json();t({error:l.message||"Debug failed"}),console.error(" Debug failed:",l)}}catch(o){console.error(" Debug error:",o),t({error:o.message})}finally{s(!1)}};return n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-2xl w-full",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:" Find My Garmin User ID"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("button",{onClick:a,disabled:r,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:r?" Checking...":" Find My User ID"}),e&&n.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Result:"}),n.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap overflow-auto",children:JSON.stringify(e,null,2)})]})]}),n.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[n.jsx("p",{children:n.jsx("strong",{children:"What this does:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Checks localStorage for code verifier"}),n.jsx("li",{children:"Calls backend debug endpoint"}),n.jsx("li",{children:"Shows any stored Garmin tokens"}),n.jsx("li",{children:"Attempts to fetch user profile"})]})]})]})})};function Nk(){const e=ce(),[t,r]=x.useState([]),[s,a]=x.useState(!0),[o,i]=x.useState(null);x.useEffect(()=>{l()},[]);const l=async()=>{var d,u;try{a(!0);const h=await ie.get("/f3workout");h.data.success?r(h.data.data||[]):i(h.data.error||"Failed to fetch workouts")}catch(h){console.error("Error fetching workouts:",h),i(((u=(d=h.response)==null?void 0:d.data)==null?void 0:u.error)||"Failed to fetch workouts")}finally{a(!1)}},c=d=>new Date(d).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"});return s?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workouts..."})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"F3 Workouts"}),n.jsxs("button",{onClick:()=>e("/f3workouts/new"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Rn,{className:"w-5 h-5"}),"Create Workout"]})]}),o&&n.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:o}),t.length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[n.jsx(tn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"No workouts yet"}),n.jsx("button",{onClick:()=>e("/f3workouts/new"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Workout"})]}):n.jsx("div",{className:"space-y-4",children:t.map(d=>n.jsx("div",{onClick:()=>e(`/f3workouts/${d.workoutId}`),className:"bg-white rounded-lg shadow p-6 cursor-pointer hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d.ao||"Workout"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:c(d.date)}),n.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Q: ",d.qId]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"text-sm text-gray-500",children:[d.warmup&&d.warmup.moves.length>0&&n.jsxs("span",{className:"block",children:["Warm-Up: ",d.warmup.moves.length," moves"]}),d.thang&&d.thang.blocks.length>0&&n.jsxs("span",{className:"block",children:["Thang: ",d.thang.blocks.length," blocks"]}),d.mary&&d.mary.moves.length>0&&n.jsxs("span",{className:"block",children:["Mary: ",d.mary.moves.length," moves"]})]})})]})},d.workoutId))})]})})}const Ck=["SSH","ImperialWalkers","ArmCircles","HighKnees","Windmills","Skaters","Mosey"],kk=["Merkins","Squats","Burpees","BearCrawl","BroadJump","LungeWalk","ShoulderTap","JumpSquat","MountainClimber","RickyBobby","Sprint","Mosey","Karaoke"],Sk=["FlutterKicks","LBCs","AmericanHammers","FreddieMercurys","BigBoySitups","HelloDollies","Plank"];function Ek(){const e=ce(),{athleteId:t}=as(),[r,s]=x.useState(1),[a,o]=x.useState(!1),[i,l]=x.useState(null),[c,d]=x.useState(new Date().toISOString().split("T")[0]),[u,h]=x.useState(""),[p,g]=x.useState(""),[f,b]=x.useState([]),[w,m]=x.useState([]),[y,v]=x.useState([]),[j,C]=x.useState("");x.useEffect(()=>{t&&g(t)},[t]);const S=()=>{b([...f,{type:"SSH",count:null}])},k=(F,G,z)=>{const T=[...f];T[F]={...T[F],[G]:z},b(T)},E=F=>{b(f.filter((G,z)=>z!==F))},I=()=>{m([...w,{title:"",description:"",order:w.length,moves:[]}])},N=(F,G,z)=>{const T=[...w];T[F]={...T[F],[G]:z},m(T)},P=F=>{const G=[...w];G[F].moves=[...G[F].moves,{type:"Merkins",reps:null,distanceYards:null,durationSec:null,notes:"",order:G[F].moves.length}],m(G)},O=(F,G,z,T)=>{const H=[...w];H[F].moves[G]={...H[F].moves[G],[z]:T===""?null:T},m(H)},D=(F,G)=>{const z=[...w];z[F].moves=z[F].moves.filter((T,H)=>H!==G),m(z)},Q=F=>{m(w.filter((G,z)=>z!==F))},X=()=>{v([...y,{type:"FlutterKicks",count:null}])},K=(F,G,z)=>{const T=[...y];T[F]={...T[F],[G]:z===""?null:z},v(T)},ae=F=>{v(y.filter((G,z)=>z!==F))},L=async()=>{var F,G;l(null),o(!0);try{const z={date:c,ao:u.trim()||null,qId:p.trim(),warmup:f.length>0?{moves:f}:null,thang:w.length>0?{blocks:w}:null,mary:y.length>0?{moves:y}:null,cot:j.trim()||null},T=await ie.post("/f3workout",z);T.data.success?e(`/f3workouts/${T.data.data.workoutId}`):l(T.data.error||"Failed to create workout")}catch(z){console.error("Error creating workout:",z),l(((G=(F=z.response)==null?void 0:F.data)==null?void 0:G.error)||"Failed to create workout")}finally{o(!1)}},V=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Basic Info"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),n.jsx("input",{type:"date",value:c,onChange:F=>d(F.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AO (Area of Operations)"}),n.jsx("input",{type:"text",value:u,onChange:F=>h(F.target.value),placeholder:"e.g., The Point",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Q (QID) *"}),n.jsx("input",{type:"text",value:p,onChange:F=>g(F.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50",required:!0,readOnly:!0}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Auto-filled from current user"})]})]}),J=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Warm-Up"}),n.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Rn,{className:"w-4 h-4"}),"Add Move"]})]}),f.length===0?n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No warm-up moves added yet"}):n.jsx("div",{className:"space-y-4",children:f.map((F,G)=>n.jsxs("div",{className:"flex gap-4 items-start p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),n.jsx("select",{value:F.type,onChange:z=>k(G,"type",z.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Ck.map(z=>n.jsx("option",{value:z,children:z},z))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Count"}),n.jsx("input",{type:"number",value:F.count||"",onChange:z=>k(G,"count",z.target.value?parseInt(z.target.value):null),placeholder:"Optional",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsx("button",{onClick:()=>E(G),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(Ts,{className:"w-5 h-5"})})]},G))})]}),ee=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"The Thang"}),n.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Rn,{className:"w-4 h-4"}),"Add Block"]})]}),w.length===0?n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No blocks added yet"}):n.jsx("div",{className:"space-y-6",children:w.map((F,G)=>n.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg border-2 border-gray-200",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Block ",G+1]}),n.jsx("button",{onClick:()=>Q(G),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(ea,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"space-y-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Block Title"}),n.jsx("input",{type:"text",value:F.title,onChange:z=>N(G,"title",z.target.value),placeholder:"e.g., Round 1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{value:F.description,onChange:z=>N(G,"description",z.target.value),placeholder:"Optional description",rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h4",{className:"font-medium text-gray-700",children:"Moves"}),n.jsxs("button",{onClick:()=>P(G),className:"flex items-center gap-2 px-3 py-1 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-sm",children:[n.jsx(Rn,{className:"w-4 h-4"}),"Add Move"]})]}),F.moves.length===0?n.jsx("p",{className:"text-gray-500 text-sm",children:"No moves in this block"}):n.jsx("div",{className:"space-y-3",children:F.moves.map((z,T)=>n.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("h5",{className:"font-medium text-gray-700",children:["Move ",T+1]}),n.jsx("button",{onClick:()=>D(G,T),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",children:n.jsx(Ts,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Type"}),n.jsx("select",{value:z.type,onChange:H=>O(G,T,"type",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:kk.map(H=>n.jsx("option",{value:H,children:H},H))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Reps"}),n.jsx("input",{type:"number",value:z.reps||"",onChange:H=>O(G,T,"reps",H.target.value),placeholder:"Optional",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Distance (yards)"}),n.jsx("input",{type:"number",value:z.distanceYards||"",onChange:H=>O(G,T,"distanceYards",H.target.value),placeholder:"Optional",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Duration (sec)"}),n.jsx("input",{type:"number",value:z.durationSec||"",onChange:H=>O(G,T,"durationSec",H.target.value),placeholder:"Optional",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Notes"}),n.jsx("input",{type:"text",value:z.notes||"",onChange:H=>O(G,T,"notes",H.target.value),placeholder:"Optional notes",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})]})]},T))})]})]},G))})]}),te=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Mary"}),n.jsxs("button",{onClick:X,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Rn,{className:"w-4 h-4"}),"Add Move"]})]}),y.length===0?n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No Mary moves added yet"}):n.jsx("div",{className:"space-y-4",children:y.map((F,G)=>n.jsxs("div",{className:"flex gap-4 items-start p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),n.jsx("select",{value:F.type,onChange:z=>K(G,"type",z.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Sk.map(z=>n.jsx("option",{value:z,children:z},z))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Count"}),n.jsx("input",{type:"number",value:F.count||"",onChange:z=>K(G,"count",z.target.value?parseInt(z.target.value):null),placeholder:"Optional",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsx("button",{onClick:()=>ae(G),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(Ts,{className:"w-5 h-5"})})]},G))})]}),ye=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"COT (Circle of Trust)"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"COT Notes"}),n.jsx("textarea",{value:j,onChange:F=>C(F.target.value),placeholder:"Enter COT notes, announcements, prayers, etc.",rows:10,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]});return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("button",{onClick:()=>e("/f3workouts"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[n.jsx(Zs,{className:"w-4 h-4"}),"Back to Workouts"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create F3 Workout"})]}),n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(F=>n.jsxs(Cc.Fragment,{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${r===F?"bg-blue-600 text-white":r>F?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:F}),n.jsxs("span",{className:"ml-2 text-sm font-medium text-gray-700 hidden sm:inline",children:[F===1&&"Basic Info",F===2&&"Warm-Up",F===3&&"The Thang",F===4&&"Mary",F===5&&"COT"]})]}),F<5&&n.jsx("div",{className:`flex-1 h-1 mx-2 ${r>F?"bg-green-500":"bg-gray-200"}`})]},F))})}),i&&n.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:i}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-8 mb-6",children:[r===1&&V(),r===2&&J(),r===3&&ee(),r===4&&te(),r===5&&ye()]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("button",{onClick:()=>s(Math.max(1,r-1)),disabled:r===1,className:"flex items-center gap-2 px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n.jsx(Zs,{className:"w-4 h-4"}),"Previous"]}),r<5?n.jsxs("button",{onClick:()=>s(Math.min(5,r+1)),className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["Next",n.jsx(nC,{className:"w-4 h-4"})]}):n.jsx("button",{onClick:L,disabled:a||!c||!p,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Creating...":"Create Workout"})]})]})})}function Ik(){const e=ce(),{workoutId:t}=hi(),[r,s]=x.useState(null),[a,o]=x.useState(!0),[i,l]=x.useState(null),[c,d]=x.useState(null),[u,h]=x.useState(!1),[p,g]=x.useState(!1);x.useEffect(()=>{f()},[t]);const f=async()=>{var y,v;try{o(!0);const j=await ie.get(`/f3workout/${t}`);j.data.success?s(j.data.data):l(j.data.error||"Failed to fetch workout")}catch(j){console.error("Error fetching workout:",j),l(((v=(y=j.response)==null?void 0:y.data)==null?void 0:v.error)||"Failed to fetch workout")}finally{o(!1)}},b=async()=>{var y,v;try{h(!0);const j=await ie.post(`/f3workout/${t}/backblast`);j.data.success?d(j.data.data.backblast):l(j.data.error||"Failed to generate backblast")}catch(j){console.error("Error generating backblast:",j),l(((v=(y=j.response)==null?void 0:y.data)==null?void 0:v.error)||"Failed to generate backblast")}finally{h(!1)}},w=async()=>{if(c)try{await navigator.clipboard.writeText(c),g(!0),setTimeout(()=>g(!1),2e3)}catch(y){console.error("Failed to copy:",y)}},m=y=>new Date(y).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return a?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workout..."})]})}):i&&!r?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:()=>e("/f3workouts"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Workouts"})]})}):r?n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("button",{onClick:()=>e("/f3workouts"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[n.jsx(Zs,{className:"w-4 h-4"}),"Back to Workouts"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.ao||"F3 Workout"}),n.jsx("p",{className:"text-gray-600 mt-2",children:m(r.date)}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Q: ",r.qId]})]}),i&&n.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:i}),n.jsxs("div",{className:"space-y-6",children:[r.warmup&&r.warmup.moves.length>0&&n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Warm-Up"}),n.jsx("ul",{className:"space-y-2",children:r.warmup.moves.map((y,v)=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-gray-600",children:""}),n.jsx("span",{className:"font-medium",children:y.type}),y.count&&n.jsxs("span",{className:"text-gray-500",children:["x",y.count]})]},v))})]}),r.thang&&r.thang.blocks.length>0&&n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"The Thang"}),n.jsx("div",{className:"space-y-6",children:r.thang.blocks.map((y,v)=>n.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[y.title&&n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:y.title}),y.description&&n.jsx("p",{className:"text-gray-600 mb-3",children:y.description}),n.jsx("ul",{className:"space-y-2",children:y.moves.map((j,C)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-gray-600",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"font-medium",children:j.type}),j.reps&&n.jsxs("span",{className:"text-gray-500 ml-2",children:["x",j.reps]}),j.distanceYards&&n.jsxs("span",{className:"text-gray-500 ml-2",children:["(",j.distanceYards," yards)"]}),j.durationSec&&n.jsxs("span",{className:"text-gray-500 ml-2",children:["(",j.durationSec,"s)"]}),j.notes&&n.jsxs("span",{className:"text-gray-500 ml-2",children:["- ",j.notes]})]})]},C))})]},v))})]}),r.mary&&r.mary.moves.length>0&&n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Mary"}),n.jsx("ul",{className:"space-y-2",children:r.mary.moves.map((y,v)=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-gray-600",children:""}),n.jsx("span",{className:"font-medium",children:y.type}),y.count&&n.jsxs("span",{className:"text-gray-500",children:["x",y.count]})]},v))})]}),r.cot&&n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"COT"}),n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:r.cot})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Backblast"}),n.jsx("button",{onClick:b,disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Generating...":"Generate Backblast"})]}),c&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("textarea",{value:c,readOnly:!0,rows:15,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 font-mono text-sm"}),n.jsx("button",{onClick:w,className:"absolute top-2 right-2 flex items-center gap-2 px-3 py-1 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors text-sm",children:p?n.jsxs(n.Fragment,{children:[n.jsx(vc,{className:"w-4 h-4"}),"Copied!"]}):n.jsxs(n.Fragment,{children:[n.jsx(ho,{className:"w-4 h-4"}),"Copy"]})})]})}),!c&&n.jsx("p",{className:"text-gray-500 text-center py-8",children:'Click "Generate Backblast" to create formatted backblast text'})]})]})]})}):null}const _k=()=>n.jsxs(aw,{children:[n.jsx(pw,{}),n.jsxs(Mv,{children:[n.jsx(Z,{path:"/",element:n.jsx(m2,{})}),n.jsx(Z,{path:"/athlete-welcome",element:n.jsx(W1,{})}),n.jsx(Z,{path:"/athletesignin",element:n.jsx(V1,{})}),n.jsx(Z,{path:"/athletesignup",element:n.jsx(G1,{})}),n.jsx(Z,{path:"/athlete-create-profile",element:n.jsx(J1,{})}),n.jsx(Z,{path:"/athlete-edit-profile",element:n.jsx(q1,{})}),n.jsx(Z,{path:"/athlete-home",element:n.jsx(PC,{})}),n.jsx(Z,{path:"/athlete-profile",element:n.jsx(LC,{})}),n.jsx(Z,{path:"/settings",element:n.jsx(MC,{})}),n.jsx(Z,{path:"/settings/events",element:n.jsx($C,{})}),n.jsx(Z,{path:"/volunteer-management",element:n.jsx(BC,{})}),n.jsx(Z,{path:"/volunteer-management/vacant",element:n.jsx(HC,{})}),n.jsx(Z,{path:"/my-activities",element:n.jsx(yk,{})}),n.jsx(Z,{path:"/activity/:id",element:n.jsx(vk,{})}),n.jsx(Z,{path:"/young-athlete/welcome",element:n.jsx(wk,{})}),n.jsx(Z,{path:"/garmin/callback",element:n.jsx(zC,{})}),n.jsx(Z,{path:"/garmin/success",element:n.jsx(WC,{})}),n.jsx(Z,{path:"/debug/userid",element:n.jsx(jk,{})}),n.jsx(Z,{path:"/f3workouts",element:n.jsx(Nk,{})}),n.jsx(Z,{path:"/f3workouts/new",element:n.jsx(Ek,{})}),n.jsx(Z,{path:"/f3workouts/:workoutId",element:n.jsx(Ik,{})}),n.jsx(Z,{path:"/settings/devices",element:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Device Settings - Coming Soon!"})})}),n.jsx(Z,{path:"/crew-explainer",element:n.jsx(pk,{})}),n.jsx(Z,{path:"/join/:code",element:n.jsx(cl,{})}),n.jsx(Z,{path:"/join",element:n.jsx(cl,{})}),n.jsx(Z,{path:"/crewjoin",element:n.jsx(QC,{})}),n.jsx(Z,{path:"/crewjoin/profile",element:n.jsx(XC,{})}),n.jsx(Z,{path:"/crewjoin/profile/success",element:n.jsx(ZC,{})}),n.jsx(Z,{path:"/runcrew/join",element:n.jsx(cl,{})}),n.jsx(Z,{path:"/runcrew/join-or-start",element:n.jsx(VC,{})}),n.jsx(Z,{path:"/run-crew-join",element:n.jsx(GC,{})}),n.jsx(Z,{path:"/joinruncrewwelcome",element:n.jsx(YC,{})}),n.jsx(Z,{path:"/precrewpage",element:n.jsx(tk,{})}),n.jsx(Z,{path:"/form-run-crew",element:n.jsx(nk,{})}),n.jsx(Z,{path:"/run-crew-success",element:n.jsx(xk,{})}),n.jsx(Z,{path:"/runcrew/central",element:n.jsx(Ha,{})}),n.jsx(Z,{path:"/runcrew/:id",element:n.jsx(Ha,{})}),n.jsx(Z,{path:"/crew/crewadmin",element:n.jsx(hk,{})}),n.jsx(Z,{path:"/runcrew/admin/:id",element:n.jsx(sh,{to:"/crew/crewadmin",replace:!0})}),n.jsx(Z,{path:"/runcrew-central/:id",element:n.jsx(Ha,{})}),n.jsx(Z,{path:"/runcrew-central-admin/:id",element:n.jsx(sh,{to:"/crew/crewadmin",replace:!0})}),n.jsx(Z,{path:"/runcrew-settings",element:n.jsx(mk,{})}),n.jsx(Z,{path:"/runcrew-run-detail/:runId?",element:n.jsx(fk,{})}),n.jsx(Z,{path:"/runcrew-home",element:n.jsx(Ha,{})}),n.jsx(Z,{path:"/training/track",element:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Track Runs - Coming Soon!"})})}),n.jsx(Z,{path:"/training/analytics",element:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Training Analytics - Coming Soon!"})})}),n.jsx(Z,{path:"/connect/partners",element:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Find Partners - Coming Soon!"})})}),n.jsx(Z,{path:"/connect",element:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Connect - Coming Soon!"})})}),n.jsx(Z,{path:"/training-hub",element:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Training Hub - Coming Soon!"})})}),n.jsx(Z,{path:"/shop",element:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Shop - Coming Soon!"})})}),n.jsx(Z,{path:"/profile-setup",element:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Profile Setup - Coming Soon!"})})})]})]});dl.createRoot(document.getElementById("root")).render(n.jsx(Cc.StrictMode,{children:n.jsx(_k,{})}));
