(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Gg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $h={exports:{}},Si={},Bh={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=Symbol.for("react.element"),Jg=Symbol.for("react.portal"),qg=Symbol.for("react.fragment"),Kg=Symbol.for("react.strict_mode"),Yg=Symbol.for("react.profiler"),Qg=Symbol.for("react.provider"),Xg=Symbol.for("react.context"),Zg=Symbol.for("react.forward_ref"),ex=Symbol.for("react.suspense"),tx=Symbol.for("react.memo"),nx=Symbol.for("react.lazy"),Nu=Symbol.iterator;function rx(e){return e===null||typeof e!="object"?null:(e=Nu&&e[Nu]||e["@@iterator"],typeof e=="function"?e:null)}var Hh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zh=Object.assign,Vh={};function Rr(e,t,n){this.props=e,this.context=t,this.refs=Vh,this.updater=n||Hh}Rr.prototype.isReactComponent={};Rr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wh(){}Wh.prototype=Rr.prototype;function Ql(e,t,n){this.props=e,this.context=t,this.refs=Vh,this.updater=n||Hh}var Xl=Ql.prototype=new Wh;Xl.constructor=Ql;zh(Xl,Rr.prototype);Xl.isPureReactComponent=!0;var ju=Array.isArray,Gh=Object.prototype.hasOwnProperty,Zl={current:null},Jh={key:!0,ref:!0,__self:!0,__source:!0};function qh(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Gh.call(t,r)&&!Jh.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Os,type:e,key:i,ref:o,props:s,_owner:Zl.current}}function sx(e,t){return{$$typeof:Os,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ec(e){return typeof e=="object"&&e!==null&&e.$$typeof===Os}function ax(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cu=/\/+/g;function Zi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ax(""+e.key):t.toString(36)}function Na(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Os:case Jg:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Zi(o,0):r,ju(s)?(n="",e!=null&&(n=e.replace(Cu,"$&/")+"/"),Na(s,t,n,"",function(u){return u})):s!=null&&(ec(s)&&(s=sx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Cu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ju(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Zi(i,l);o+=Na(i,t,n,c,s)}else if(c=rx(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Zi(i,l++),o+=Na(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ta(e,t,n){if(e==null)return e;var r=[],s=0;return Na(e,r,"","",function(i){return t.call(n,i,s++)}),r}function ix(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},ja={transition:null},ox={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ja,ReactCurrentOwner:Zl};function Kh(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:ta,forEach:function(e,t,n){ta(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ta(e,function(){t++}),t},toArray:function(e){return ta(e,function(t){return t})||[]},only:function(e){if(!ec(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Rr;q.Fragment=qg;q.Profiler=Yg;q.PureComponent=Ql;q.StrictMode=Kg;q.Suspense=ex;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ox;q.act=Kh;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zh({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Zl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Gh.call(t,c)&&!Jh.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Os,type:e.type,key:s,ref:i,props:r,_owner:o}};q.createContext=function(e){return e={$$typeof:Xg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qg,_context:e},e.Consumer=e};q.createElement=qh;q.createFactory=function(e){var t=qh.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:Zg,render:e}};q.isValidElement=ec;q.lazy=function(e){return{$$typeof:nx,_payload:{_status:-1,_result:e},_init:ix}};q.memo=function(e,t){return{$$typeof:tx,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=ja.transition;ja.transition={};try{e()}finally{ja.transition=t}};q.unstable_act=Kh;q.useCallback=function(e,t){return Ue.current.useCallback(e,t)};q.useContext=function(e){return Ue.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};q.useEffect=function(e,t){return Ue.current.useEffect(e,t)};q.useId=function(){return Ue.current.useId()};q.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Ue.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};q.useRef=function(e){return Ue.current.useRef(e)};q.useState=function(e){return Ue.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Ue.current.useTransition()};q.version="18.3.1";Bh.exports=q;var v=Bh.exports;const lx=Gg(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx=v,ux=Symbol.for("react.element"),dx=Symbol.for("react.fragment"),hx=Object.prototype.hasOwnProperty,fx=cx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mx={key:!0,ref:!0,__self:!0,__source:!0};function Yh(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)hx.call(t,r)&&!mx.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:ux,type:e,key:i,ref:o,props:s,_owner:fx.current}}Si.Fragment=dx;Si.jsx=Yh;Si.jsxs=Yh;$h.exports=Si;var a=$h.exports,zo={},Qh={exports:{}},Xe={},Xh={exports:{}},Zh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,R){var M=C.length;C.push(R);e:for(;0<M;){var D=M-1>>>1,H=C[D];if(0<s(H,R))C[D]=R,C[M]=H,M=D;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var R=C[0],M=C.pop();if(M!==R){C[0]=M;e:for(var D=0,H=C.length,be=H>>>1;D<be;){var Ne=2*(D+1)-1,Le=C[Ne],et=Ne+1,At=C[et];if(0>s(Le,M))et<H&&0>s(At,Le)?(C[D]=At,C[et]=M,D=et):(C[D]=Le,C[Ne]=M,D=Ne);else if(et<H&&0>s(At,M))C[D]=At,C[et]=M,D=et;else break e}}return R}function s(C,R){var M=C.sortIndex-R.sortIndex;return M!==0?M:C.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=C)r(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function N(C){if(b=!1,y(C),!g)if(n(c)!==null)g=!0,J(S);else{var R=n(u);R!==null&&ee(N,R.startTime-C)}}function S(C,R){g=!1,b&&(b=!1,m(I),I=-1),p=!0;var M=h;try{for(y(R),f=n(c);f!==null&&(!(f.expirationTime>R)||C&&!P());){var D=f.callback;if(typeof D=="function"){f.callback=null,h=f.priorityLevel;var H=D(f.expirationTime<=R);R=e.unstable_now(),typeof H=="function"?f.callback=H:f===n(c)&&r(c),y(R)}else r(c);f=n(c)}if(f!==null)var be=!0;else{var Ne=n(u);Ne!==null&&ee(N,Ne.startTime-R),be=!1}return be}finally{f=null,h=M,p=!1}}var A=!1,k=null,I=-1,L=5,j=-1;function P(){return!(e.unstable_now()-j<L)}function $(){if(k!==null){var C=e.unstable_now();j=C;var R=!0;try{R=k(!0,C)}finally{R?U():(A=!1,k=null)}}else A=!1}var U;if(typeof x=="function")U=function(){x($)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=$,U=function(){K.postMessage(null)}}else U=function(){w($,0)};function J(C){k=C,A||(A=!0,U())}function ee(C,R){I=w(function(){C(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,J(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var M=h;h=R;try{return C()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,R){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var M=h;h=C;try{return R()}finally{h=M}},e.unstable_scheduleCallback=function(C,R,M){var D=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?D+M:D):M=D,C){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=M+H,C={id:d++,callback:R,priorityLevel:C,startTime:M,expirationTime:H,sortIndex:-1},M>D?(C.sortIndex=M,t(u,C),n(c)===null&&C===n(u)&&(b?(m(I),I=-1):b=!0,ee(N,M-D))):(C.sortIndex=H,t(c,C),g||p||(g=!0,J(S))),C},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(C){var R=h;return function(){var M=h;h=R;try{return C.apply(this,arguments)}finally{h=M}}}})(Zh);Xh.exports=Zh;var px=Xh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx=v,Qe=px;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ef=new Set,ps={};function Yn(e,t){br(e,t),br(e+"Capture",t)}function br(e,t){for(ps[e]=t,e=0;e<t.length;e++)ef.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vo=Object.prototype.hasOwnProperty,xx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Su={},ku={};function yx(e){return Vo.call(ku,e)?!0:Vo.call(Su,e)?!1:xx.test(e)?ku[e]=!0:(Su[e]=!0,!1)}function vx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wx(e,t,n,r){if(t===null||typeof t>"u"||vx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var tc=/[\-:]([a-z])/g;function nc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tc,nc);Ie[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tc,nc);Ie[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tc,nc);Ie[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function rc(e,t,n,r){var s=Ie.hasOwnProperty(t)?Ie[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wx(t,n,s,r)&&(n=null),r||s===null?yx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yt=gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,na=Symbol.for("react.element"),Zn=Symbol.for("react.portal"),er=Symbol.for("react.fragment"),sc=Symbol.for("react.strict_mode"),Wo=Symbol.for("react.profiler"),tf=Symbol.for("react.provider"),nf=Symbol.for("react.context"),ac=Symbol.for("react.forward_ref"),Go=Symbol.for("react.suspense"),Jo=Symbol.for("react.suspense_list"),ic=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),rf=Symbol.for("react.offscreen"),Eu=Symbol.iterator;function Vr(e){return e===null||typeof e!="object"?null:(e=Eu&&e[Eu]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,eo;function ts(e){if(eo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);eo=t&&t[1]||""}return`
`+eo+e}var to=!1;function no(e,t){if(!e||to)return"";to=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{to=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ts(e):""}function bx(e){switch(e.tag){case 5:return ts(e.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 2:case 15:return e=no(e.type,!1),e;case 11:return e=no(e.type.render,!1),e;case 1:return e=no(e.type,!0),e;default:return""}}function qo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case er:return"Fragment";case Zn:return"Portal";case Wo:return"Profiler";case sc:return"StrictMode";case Go:return"Suspense";case Jo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nf:return(e.displayName||"Context")+".Consumer";case tf:return(e._context.displayName||"Context")+".Provider";case ac:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ic:return t=e.displayName||null,t!==null?t:qo(e.type)||"Memo";case nn:t=e._payload,e=e._init;try{return qo(e(t))}catch{}}return null}function Nx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qo(t);case 8:return t===sc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jx(e){var t=sf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ra(e){e._valueTracker||(e._valueTracker=jx(e))}function af(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Va(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ko(e,t){var n=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Iu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function of(e,t){t=t.checked,t!=null&&rc(e,"checked",t,!1)}function Yo(e,t){of(e,t);var n=Nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qo(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _u(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qo(e,t,n){(t!=="number"||Va(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ns=Array.isArray;function dr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Xo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Au(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(ns(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nn(n)}}function lf(e,t){var n=Nn(t.value),r=Nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ru(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sa,uf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sa=sa||document.createElement("div"),sa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var as={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cx=["Webkit","ms","Moz","O"];Object.keys(as).forEach(function(e){Cx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),as[t]=as[e]})});function df(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||as.hasOwnProperty(e)&&as[e]?(""+t).trim():t+"px"}function hf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=df(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Sx=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function el(e,t){if(t){if(Sx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function tl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nl=null;function oc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rl=null,hr=null,fr=null;function Tu(e){if(e=Fs(e)){if(typeof rl!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Ai(t),rl(e.stateNode,e.type,t))}}function ff(e){hr?fr?fr.push(e):fr=[e]:hr=e}function mf(){if(hr){var e=hr,t=fr;if(fr=hr=null,Tu(e),t)for(e=0;e<t.length;e++)Tu(t[e])}}function pf(e,t){return e(t)}function gf(){}var ro=!1;function xf(e,t,n){if(ro)return e(t,n);ro=!0;try{return pf(e,t,n)}finally{ro=!1,(hr!==null||fr!==null)&&(gf(),mf())}}function xs(e,t){var n=e.stateNode;if(n===null)return null;var r=Ai(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var sl=!1;if(zt)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){sl=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{sl=!1}function kx(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var is=!1,Wa=null,Ga=!1,al=null,Ex={onError:function(e){is=!0,Wa=e}};function Ix(e,t,n,r,s,i,o,l,c){is=!1,Wa=null,kx.apply(Ex,arguments)}function _x(e,t,n,r,s,i,o,l,c){if(Ix.apply(this,arguments),is){if(is){var u=Wa;is=!1,Wa=null}else throw Error(T(198));Ga||(Ga=!0,al=u)}}function Qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pu(e){if(Qn(e)!==e)throw Error(T(188))}function Ax(e){var t=e.alternate;if(!t){if(t=Qn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Pu(s),e;if(i===r)return Pu(s),t;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function vf(e){return e=Ax(e),e!==null?wf(e):null}function wf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wf(e);if(t!==null)return t;e=e.sibling}return null}var bf=Qe.unstable_scheduleCallback,Lu=Qe.unstable_cancelCallback,Rx=Qe.unstable_shouldYield,Tx=Qe.unstable_requestPaint,pe=Qe.unstable_now,Px=Qe.unstable_getCurrentPriorityLevel,lc=Qe.unstable_ImmediatePriority,Nf=Qe.unstable_UserBlockingPriority,Ja=Qe.unstable_NormalPriority,Lx=Qe.unstable_LowPriority,jf=Qe.unstable_IdlePriority,ki=null,kt=null;function Mx(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ki,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Ux,Ox=Math.log,Dx=Math.LN2;function Ux(e){return e>>>=0,e===0?32:31-(Ox(e)/Dx|0)|0}var aa=64,ia=4194304;function rs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=rs(l):(i&=o,i!==0&&(r=rs(i)))}else o=n&~s,o!==0?r=rs(o):i!==0&&(r=rs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mt(t),s=1<<n,r|=e[n],t&=~s;return r}function Fx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $x(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-mt(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Fx(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function il(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cf(){var e=aa;return aa<<=1,!(aa&4194240)&&(aa=64),e}function so(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ds(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=n}function Bx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-mt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function cc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Z=0;function Sf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kf,uc,Ef,If,_f,ol=!1,oa=[],hn=null,fn=null,mn=null,ys=new Map,vs=new Map,sn=[],Hx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mu(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(t.pointerId)}}function Gr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Fs(t),t!==null&&uc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function zx(e,t,n,r,s){switch(t){case"focusin":return hn=Gr(hn,e,t,n,r,s),!0;case"dragenter":return fn=Gr(fn,e,t,n,r,s),!0;case"mouseover":return mn=Gr(mn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ys.set(i,Gr(ys.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,vs.set(i,Gr(vs.get(i)||null,e,t,n,r,s)),!0}return!1}function Af(e){var t=Pn(e.target);if(t!==null){var n=Qn(t);if(n!==null){if(t=n.tag,t===13){if(t=yf(n),t!==null){e.blockedOn=t,_f(e.priority,function(){Ef(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ca(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ll(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);nl=r,n.target.dispatchEvent(r),nl=null}else return t=Fs(n),t!==null&&uc(t),e.blockedOn=n,!1;t.shift()}return!0}function Ou(e,t,n){Ca(e)&&n.delete(t)}function Vx(){ol=!1,hn!==null&&Ca(hn)&&(hn=null),fn!==null&&Ca(fn)&&(fn=null),mn!==null&&Ca(mn)&&(mn=null),ys.forEach(Ou),vs.forEach(Ou)}function Jr(e,t){e.blockedOn===t&&(e.blockedOn=null,ol||(ol=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,Vx)))}function ws(e){function t(s){return Jr(s,e)}if(0<oa.length){Jr(oa[0],e);for(var n=1;n<oa.length;n++){var r=oa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hn!==null&&Jr(hn,e),fn!==null&&Jr(fn,e),mn!==null&&Jr(mn,e),ys.forEach(t),vs.forEach(t),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Af(n),n.blockedOn===null&&sn.shift()}var mr=Yt.ReactCurrentBatchConfig,Ka=!0;function Wx(e,t,n,r){var s=Z,i=mr.transition;mr.transition=null;try{Z=1,dc(e,t,n,r)}finally{Z=s,mr.transition=i}}function Gx(e,t,n,r){var s=Z,i=mr.transition;mr.transition=null;try{Z=4,dc(e,t,n,r)}finally{Z=s,mr.transition=i}}function dc(e,t,n,r){if(Ka){var s=ll(e,t,n,r);if(s===null)po(e,t,r,Ya,n),Mu(e,r);else if(zx(s,e,t,n,r))r.stopPropagation();else if(Mu(e,r),t&4&&-1<Hx.indexOf(e)){for(;s!==null;){var i=Fs(s);if(i!==null&&kf(i),i=ll(e,t,n,r),i===null&&po(e,t,r,Ya,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else po(e,t,r,null,n)}}var Ya=null;function ll(e,t,n,r){if(Ya=null,e=oc(r),e=Pn(e),e!==null)if(t=Qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ya=e,null}function Rf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Px()){case lc:return 1;case Nf:return 4;case Ja:case Lx:return 16;case jf:return 536870912;default:return 16}default:return 16}}var un=null,hc=null,Sa=null;function Tf(){if(Sa)return Sa;var e,t=hc,n=t.length,r,s="value"in un?un.value:un.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Sa=s.slice(e,1<r?1-r:void 0)}function ka(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function la(){return!0}function Du(){return!1}function Ze(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?la:Du,this.isPropagationStopped=Du,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=la)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=la)},persist:function(){},isPersistent:la}),t}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=Ze(Tr),Us=fe({},Tr,{view:0,detail:0}),Jx=Ze(Us),ao,io,qr,Ei=fe({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qr&&(qr&&e.type==="mousemove"?(ao=e.screenX-qr.screenX,io=e.screenY-qr.screenY):io=ao=0,qr=e),ao)},movementY:function(e){return"movementY"in e?e.movementY:io}}),Uu=Ze(Ei),qx=fe({},Ei,{dataTransfer:0}),Kx=Ze(qx),Yx=fe({},Us,{relatedTarget:0}),oo=Ze(Yx),Qx=fe({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xx=Ze(Qx),Zx=fe({},Tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e0=Ze(Zx),t0=fe({},Tr,{data:0}),Fu=Ze(t0),n0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s0[e])?!!t[e]:!1}function mc(){return a0}var i0=fe({},Us,{key:function(e){if(e.key){var t=n0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ka(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(e){return e.type==="keypress"?ka(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ka(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o0=Ze(i0),l0=fe({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$u=Ze(l0),c0=fe({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),u0=Ze(c0),d0=fe({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),h0=Ze(d0),f0=fe({},Ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m0=Ze(f0),p0=[9,13,27,32],pc=zt&&"CompositionEvent"in window,os=null;zt&&"documentMode"in document&&(os=document.documentMode);var g0=zt&&"TextEvent"in window&&!os,Pf=zt&&(!pc||os&&8<os&&11>=os),Bu=" ",Hu=!1;function Lf(e,t){switch(e){case"keyup":return p0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tr=!1;function x0(e,t){switch(e){case"compositionend":return Mf(t);case"keypress":return t.which!==32?null:(Hu=!0,Bu);case"textInput":return e=t.data,e===Bu&&Hu?null:e;default:return null}}function y0(e,t){if(tr)return e==="compositionend"||!pc&&Lf(e,t)?(e=Tf(),Sa=hc=un=null,tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pf&&t.locale!=="ko"?null:t.data;default:return null}}var v0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!v0[e.type]:t==="textarea"}function Of(e,t,n,r){ff(r),t=Qa(t,"onChange"),0<t.length&&(n=new fc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ls=null,bs=null;function w0(e){Jf(e,0)}function Ii(e){var t=sr(e);if(af(t))return e}function b0(e,t){if(e==="change")return t}var Df=!1;if(zt){var lo;if(zt){var co="oninput"in document;if(!co){var Vu=document.createElement("div");Vu.setAttribute("oninput","return;"),co=typeof Vu.oninput=="function"}lo=co}else lo=!1;Df=lo&&(!document.documentMode||9<document.documentMode)}function Wu(){ls&&(ls.detachEvent("onpropertychange",Uf),bs=ls=null)}function Uf(e){if(e.propertyName==="value"&&Ii(bs)){var t=[];Of(t,bs,e,oc(e)),xf(w0,t)}}function N0(e,t,n){e==="focusin"?(Wu(),ls=t,bs=n,ls.attachEvent("onpropertychange",Uf)):e==="focusout"&&Wu()}function j0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ii(bs)}function C0(e,t){if(e==="click")return Ii(t)}function S0(e,t){if(e==="input"||e==="change")return Ii(t)}function k0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:k0;function Ns(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vo.call(t,s)||!xt(e[s],t[s]))return!1}return!0}function Gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ju(e,t){var n=Gu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gu(n)}}function Ff(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ff(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $f(){for(var e=window,t=Va();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Va(e.document)}return t}function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function E0(e){var t=$f(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ff(n.ownerDocument.documentElement,n)){if(r!==null&&gc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ju(n,i);var o=Ju(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var I0=zt&&"documentMode"in document&&11>=document.documentMode,nr=null,cl=null,cs=null,ul=!1;function qu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ul||nr==null||nr!==Va(r)||(r=nr,"selectionStart"in r&&gc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cs&&Ns(cs,r)||(cs=r,r=Qa(cl,"onSelect"),0<r.length&&(t=new fc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=nr)))}function ca(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rr={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionend:ca("Transition","TransitionEnd")},uo={},Bf={};zt&&(Bf=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function _i(e){if(uo[e])return uo[e];if(!rr[e])return e;var t=rr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bf)return uo[e]=t[n];return e}var Hf=_i("animationend"),zf=_i("animationiteration"),Vf=_i("animationstart"),Wf=_i("transitionend"),Gf=new Map,Ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){Gf.set(e,t),Yn(t,[e])}for(var ho=0;ho<Ku.length;ho++){var fo=Ku[ho],_0=fo.toLowerCase(),A0=fo[0].toUpperCase()+fo.slice(1);Cn(_0,"on"+A0)}Cn(Hf,"onAnimationEnd");Cn(zf,"onAnimationIteration");Cn(Vf,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(Wf,"onTransitionEnd");br("onMouseEnter",["mouseout","mouseover"]);br("onMouseLeave",["mouseout","mouseover"]);br("onPointerEnter",["pointerout","pointerover"]);br("onPointerLeave",["pointerout","pointerover"]);Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function Yu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_x(r,t,void 0,e),e.currentTarget=null}function Jf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Yu(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Yu(s,l,u),i=c}}}if(Ga)throw e=al,Ga=!1,al=null,e}function ie(e,t){var n=t[pl];n===void 0&&(n=t[pl]=new Set);var r=e+"__bubble";n.has(r)||(qf(t,e,2,!1),n.add(r))}function mo(e,t,n){var r=0;t&&(r|=4),qf(n,e,r,t)}var ua="_reactListening"+Math.random().toString(36).slice(2);function js(e){if(!e[ua]){e[ua]=!0,ef.forEach(function(n){n!=="selectionchange"&&(R0.has(n)||mo(n,!1,e),mo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ua]||(t[ua]=!0,mo("selectionchange",!1,t))}}function qf(e,t,n,r){switch(Rf(t)){case 1:var s=Wx;break;case 4:s=Gx;break;default:s=dc}n=s.bind(null,t,n,e),s=void 0,!sl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function po(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Pn(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}xf(function(){var u=i,d=oc(n),f=[];e:{var h=Gf.get(e);if(h!==void 0){var p=fc,g=e;switch(e){case"keypress":if(ka(n)===0)break e;case"keydown":case"keyup":p=o0;break;case"focusin":g="focus",p=oo;break;case"focusout":g="blur",p=oo;break;case"beforeblur":case"afterblur":p=oo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Kx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=u0;break;case Hf:case zf:case Vf:p=Xx;break;case Wf:p=h0;break;case"scroll":p=Jx;break;case"wheel":p=m0;break;case"copy":case"cut":case"paste":p=e0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$u}var b=(t&4)!==0,w=!b&&e==="scroll",m=b?h!==null?h+"Capture":null:h;b=[];for(var x=u,y;x!==null;){y=x;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,m!==null&&(N=xs(x,m),N!=null&&b.push(Cs(x,N,y)))),w)break;x=x.return}0<b.length&&(h=new p(h,g,null,n,d),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==nl&&(g=n.relatedTarget||n.fromElement)&&(Pn(g)||g[Vt]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Pn(g):null,g!==null&&(w=Qn(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(b=Uu,N="onMouseLeave",m="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(b=$u,N="onPointerLeave",m="onPointerEnter",x="pointer"),w=p==null?h:sr(p),y=g==null?h:sr(g),h=new b(N,x+"leave",p,n,d),h.target=w,h.relatedTarget=y,N=null,Pn(d)===u&&(b=new b(m,x+"enter",g,n,d),b.target=y,b.relatedTarget=w,N=b),w=N,p&&g)t:{for(b=p,m=g,x=0,y=b;y;y=Xn(y))x++;for(y=0,N=m;N;N=Xn(N))y++;for(;0<x-y;)b=Xn(b),x--;for(;0<y-x;)m=Xn(m),y--;for(;x--;){if(b===m||m!==null&&b===m.alternate)break t;b=Xn(b),m=Xn(m)}b=null}else b=null;p!==null&&Qu(f,h,p,b,!1),g!==null&&w!==null&&Qu(f,w,g,b,!0)}}e:{if(h=u?sr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=b0;else if(zu(h))if(Df)S=S0;else{S=j0;var A=N0}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=C0);if(S&&(S=S(e,u))){Of(f,S,n,d);break e}A&&A(e,h,u),e==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&Qo(h,"number",h.value)}switch(A=u?sr(u):window,e){case"focusin":(zu(A)||A.contentEditable==="true")&&(nr=A,cl=u,cs=null);break;case"focusout":cs=cl=nr=null;break;case"mousedown":ul=!0;break;case"contextmenu":case"mouseup":case"dragend":ul=!1,qu(f,n,d);break;case"selectionchange":if(I0)break;case"keydown":case"keyup":qu(f,n,d)}var k;if(pc)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else tr?Lf(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Pf&&n.locale!=="ko"&&(tr||I!=="onCompositionStart"?I==="onCompositionEnd"&&tr&&(k=Tf()):(un=d,hc="value"in un?un.value:un.textContent,tr=!0)),A=Qa(u,I),0<A.length&&(I=new Fu(I,e,null,n,d),f.push({event:I,listeners:A}),k?I.data=k:(k=Mf(n),k!==null&&(I.data=k)))),(k=g0?x0(e,n):y0(e,n))&&(u=Qa(u,"onBeforeInput"),0<u.length&&(d=new Fu("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}Jf(f,t)})}function Cs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qa(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xs(e,n),i!=null&&r.unshift(Cs(e,i,s)),i=xs(e,t),i!=null&&r.push(Cs(e,i,s))),e=e.return}return r}function Xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qu(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=xs(n,i),c!=null&&o.unshift(Cs(n,c,l))):s||(c=xs(n,i),c!=null&&o.push(Cs(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var T0=/\r\n?/g,P0=/\u0000|\uFFFD/g;function Xu(e){return(typeof e=="string"?e:""+e).replace(T0,`
`).replace(P0,"")}function da(e,t,n){if(t=Xu(t),Xu(e)!==t&&n)throw Error(T(425))}function Xa(){}var dl=null,hl=null;function fl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ml=typeof setTimeout=="function"?setTimeout:void 0,L0=typeof clearTimeout=="function"?clearTimeout:void 0,Zu=typeof Promise=="function"?Promise:void 0,M0=typeof queueMicrotask=="function"?queueMicrotask:typeof Zu<"u"?function(e){return Zu.resolve(null).then(e).catch(O0)}:ml;function O0(e){setTimeout(function(){throw e})}function go(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ws(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ws(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ed(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Pr=Math.random().toString(36).slice(2),St="__reactFiber$"+Pr,Ss="__reactProps$"+Pr,Vt="__reactContainer$"+Pr,pl="__reactEvents$"+Pr,D0="__reactListeners$"+Pr,U0="__reactHandles$"+Pr;function Pn(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ed(e);e!==null;){if(n=e[St])return n;e=ed(e)}return t}e=n,n=e.parentNode}return null}function Fs(e){return e=e[St]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Ai(e){return e[Ss]||null}var gl=[],ar=-1;function Sn(e){return{current:e}}function le(e){0>ar||(e.current=gl[ar],gl[ar]=null,ar--)}function ae(e,t){ar++,gl[ar]=e.current,e.current=t}var jn={},Pe=Sn(jn),He=Sn(!1),zn=jn;function Nr(e,t){var n=e.type.contextTypes;if(!n)return jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ze(e){return e=e.childContextTypes,e!=null}function Za(){le(He),le(Pe)}function td(e,t,n){if(Pe.current!==jn)throw Error(T(168));ae(Pe,t),ae(He,n)}function Kf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,Nx(e)||"Unknown",s));return fe({},n,r)}function ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,zn=Pe.current,ae(Pe,e),ae(He,He.current),!0}function nd(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=Kf(e,t,zn),r.__reactInternalMemoizedMergedChildContext=e,le(He),le(Pe),ae(Pe,e)):le(He),ae(He,n)}var Tt=null,Ri=!1,xo=!1;function Yf(e){Tt===null?Tt=[e]:Tt.push(e)}function F0(e){Ri=!0,Yf(e)}function kn(){if(!xo&&Tt!==null){xo=!0;var e=0,t=Z;try{var n=Tt;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tt=null,Ri=!1}catch(s){throw Tt!==null&&(Tt=Tt.slice(e+1)),bf(lc,kn),s}finally{Z=t,xo=!1}}return null}var ir=[],or=0,ti=null,ni=0,nt=[],rt=0,Vn=null,Lt=1,Mt="";function An(e,t){ir[or++]=ni,ir[or++]=ti,ti=e,ni=t}function Qf(e,t,n){nt[rt++]=Lt,nt[rt++]=Mt,nt[rt++]=Vn,Vn=e;var r=Lt;e=Mt;var s=32-mt(r)-1;r&=~(1<<s),n+=1;var i=32-mt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Lt=1<<32-mt(t)+s|n<<s|r,Mt=i+e}else Lt=1<<i|n<<s|r,Mt=e}function xc(e){e.return!==null&&(An(e,1),Qf(e,1,0))}function yc(e){for(;e===ti;)ti=ir[--or],ir[or]=null,ni=ir[--or],ir[or]=null;for(;e===Vn;)Vn=nt[--rt],nt[rt]=null,Mt=nt[--rt],nt[rt]=null,Lt=nt[--rt],nt[rt]=null}var Ye=null,Ke=null,ce=!1,ft=null;function Xf(e,t){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ye=e,Ke=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ye=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vn!==null?{id:Lt,overflow:Mt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ye=e,Ke=null,!0):!1;default:return!1}}function xl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yl(e){if(ce){var t=Ke;if(t){var n=t;if(!rd(e,t)){if(xl(e))throw Error(T(418));t=pn(n.nextSibling);var r=Ye;t&&rd(e,t)?Xf(r,n):(e.flags=e.flags&-4097|2,ce=!1,Ye=e)}}else{if(xl(e))throw Error(T(418));e.flags=e.flags&-4097|2,ce=!1,Ye=e}}}function sd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ye=e}function ha(e){if(e!==Ye)return!1;if(!ce)return sd(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fl(e.type,e.memoizedProps)),t&&(t=Ke)){if(xl(e))throw Zf(),Error(T(418));for(;t;)Xf(e,t),t=pn(t.nextSibling)}if(sd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Ye?pn(e.stateNode.nextSibling):null;return!0}function Zf(){for(var e=Ke;e;)e=pn(e.nextSibling)}function jr(){Ke=Ye=null,ce=!1}function vc(e){ft===null?ft=[e]:ft.push(e)}var $0=Yt.ReactCurrentBatchConfig;function Kr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function fa(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ad(e){var t=e._init;return t(e._payload)}function em(e){function t(m,x){if(e){var y=m.deletions;y===null?(m.deletions=[x],m.flags|=16):y.push(x)}}function n(m,x){if(!e)return null;for(;x!==null;)t(m,x),x=x.sibling;return null}function r(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function s(m,x){return m=vn(m,x),m.index=0,m.sibling=null,m}function i(m,x,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<x?(m.flags|=2,x):y):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,x,y,N){return x===null||x.tag!==6?(x=Co(y,m.mode,N),x.return=m,x):(x=s(x,y),x.return=m,x)}function c(m,x,y,N){var S=y.type;return S===er?d(m,x,y.props.children,N,y.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===nn&&ad(S)===x.type)?(N=s(x,y.props),N.ref=Kr(m,x,y),N.return=m,N):(N=Pa(y.type,y.key,y.props,null,m.mode,N),N.ref=Kr(m,x,y),N.return=m,N)}function u(m,x,y,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=So(y,m.mode,N),x.return=m,x):(x=s(x,y.children||[]),x.return=m,x)}function d(m,x,y,N,S){return x===null||x.tag!==7?(x=Fn(y,m.mode,N,S),x.return=m,x):(x=s(x,y),x.return=m,x)}function f(m,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Co(""+x,m.mode,y),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case na:return y=Pa(x.type,x.key,x.props,null,m.mode,y),y.ref=Kr(m,null,x),y.return=m,y;case Zn:return x=So(x,m.mode,y),x.return=m,x;case nn:var N=x._init;return f(m,N(x._payload),y)}if(ns(x)||Vr(x))return x=Fn(x,m.mode,y,null),x.return=m,x;fa(m,x)}return null}function h(m,x,y,N){var S=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(m,x,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case na:return y.key===S?c(m,x,y,N):null;case Zn:return y.key===S?u(m,x,y,N):null;case nn:return S=y._init,h(m,x,S(y._payload),N)}if(ns(y)||Vr(y))return S!==null?null:d(m,x,y,N,null);fa(m,y)}return null}function p(m,x,y,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return m=m.get(y)||null,l(x,m,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case na:return m=m.get(N.key===null?y:N.key)||null,c(x,m,N,S);case Zn:return m=m.get(N.key===null?y:N.key)||null,u(x,m,N,S);case nn:var A=N._init;return p(m,x,y,A(N._payload),S)}if(ns(N)||Vr(N))return m=m.get(y)||null,d(x,m,N,S,null);fa(x,N)}return null}function g(m,x,y,N){for(var S=null,A=null,k=x,I=x=0,L=null;k!==null&&I<y.length;I++){k.index>I?(L=k,k=null):L=k.sibling;var j=h(m,k,y[I],N);if(j===null){k===null&&(k=L);break}e&&k&&j.alternate===null&&t(m,k),x=i(j,x,I),A===null?S=j:A.sibling=j,A=j,k=L}if(I===y.length)return n(m,k),ce&&An(m,I),S;if(k===null){for(;I<y.length;I++)k=f(m,y[I],N),k!==null&&(x=i(k,x,I),A===null?S=k:A.sibling=k,A=k);return ce&&An(m,I),S}for(k=r(m,k);I<y.length;I++)L=p(k,m,I,y[I],N),L!==null&&(e&&L.alternate!==null&&k.delete(L.key===null?I:L.key),x=i(L,x,I),A===null?S=L:A.sibling=L,A=L);return e&&k.forEach(function(P){return t(m,P)}),ce&&An(m,I),S}function b(m,x,y,N){var S=Vr(y);if(typeof S!="function")throw Error(T(150));if(y=S.call(y),y==null)throw Error(T(151));for(var A=S=null,k=x,I=x=0,L=null,j=y.next();k!==null&&!j.done;I++,j=y.next()){k.index>I?(L=k,k=null):L=k.sibling;var P=h(m,k,j.value,N);if(P===null){k===null&&(k=L);break}e&&k&&P.alternate===null&&t(m,k),x=i(P,x,I),A===null?S=P:A.sibling=P,A=P,k=L}if(j.done)return n(m,k),ce&&An(m,I),S;if(k===null){for(;!j.done;I++,j=y.next())j=f(m,j.value,N),j!==null&&(x=i(j,x,I),A===null?S=j:A.sibling=j,A=j);return ce&&An(m,I),S}for(k=r(m,k);!j.done;I++,j=y.next())j=p(k,m,I,j.value,N),j!==null&&(e&&j.alternate!==null&&k.delete(j.key===null?I:j.key),x=i(j,x,I),A===null?S=j:A.sibling=j,A=j);return e&&k.forEach(function($){return t(m,$)}),ce&&An(m,I),S}function w(m,x,y,N){if(typeof y=="object"&&y!==null&&y.type===er&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case na:e:{for(var S=y.key,A=x;A!==null;){if(A.key===S){if(S=y.type,S===er){if(A.tag===7){n(m,A.sibling),x=s(A,y.props.children),x.return=m,m=x;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===nn&&ad(S)===A.type){n(m,A.sibling),x=s(A,y.props),x.ref=Kr(m,A,y),x.return=m,m=x;break e}n(m,A);break}else t(m,A);A=A.sibling}y.type===er?(x=Fn(y.props.children,m.mode,N,y.key),x.return=m,m=x):(N=Pa(y.type,y.key,y.props,null,m.mode,N),N.ref=Kr(m,x,y),N.return=m,m=N)}return o(m);case Zn:e:{for(A=y.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(m,x.sibling),x=s(x,y.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else t(m,x);x=x.sibling}x=So(y,m.mode,N),x.return=m,m=x}return o(m);case nn:return A=y._init,w(m,x,A(y._payload),N)}if(ns(y))return g(m,x,y,N);if(Vr(y))return b(m,x,y,N);fa(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(m,x.sibling),x=s(x,y),x.return=m,m=x):(n(m,x),x=Co(y,m.mode,N),x.return=m,m=x),o(m)):n(m,x)}return w}var Cr=em(!0),tm=em(!1),ri=Sn(null),si=null,lr=null,wc=null;function bc(){wc=lr=si=null}function Nc(e){var t=ri.current;le(ri),e._currentValue=t}function vl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function pr(e,t){si=e,wc=lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function it(e){var t=e._currentValue;if(wc!==e)if(e={context:e,memoizedValue:t,next:null},lr===null){if(si===null)throw Error(T(308));lr=e,si.dependencies={lanes:0,firstContext:e}}else lr=lr.next=e;return t}var Ln=null;function jc(e){Ln===null?Ln=[e]:Ln.push(e)}function nm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,jc(t)):(n.next=s.next,s.next=n),t.interleaved=n,Wt(e,r)}function Wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rn=!1;function Cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Wt(e,n)}return s=r.interleaved,s===null?(t.next=t,jc(r)):(t.next=s.next,s.next=t),r.interleaved=t,Wt(e,n)}function Ea(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cc(e,n)}}function id(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ai(e,t,n,r){var s=e.updateQueue;rn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,b=l;switch(h=t,p=n,b.tag){case 1:if(g=b.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=fe({},f,h);break e;case 2:rn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Gn|=o,e.lanes=o,e.memoizedState=f}}function od(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var $s={},Et=Sn($s),ks=Sn($s),Es=Sn($s);function Mn(e){if(e===$s)throw Error(T(174));return e}function Sc(e,t){switch(ae(Es,t),ae(ks,e),ae(Et,$s),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zo(t,e)}le(Et),ae(Et,t)}function Sr(){le(Et),le(ks),le(Es)}function sm(e){Mn(Es.current);var t=Mn(Et.current),n=Zo(t,e.type);t!==n&&(ae(ks,e),ae(Et,n))}function kc(e){ks.current===e&&(le(Et),le(ks))}var de=Sn(0);function ii(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yo=[];function Ec(){for(var e=0;e<yo.length;e++)yo[e]._workInProgressVersionPrimary=null;yo.length=0}var Ia=Yt.ReactCurrentDispatcher,vo=Yt.ReactCurrentBatchConfig,Wn=0,he=null,ve=null,je=null,oi=!1,us=!1,Is=0,B0=0;function _e(){throw Error(T(321))}function Ic(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function _c(e,t,n,r,s,i){if(Wn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ia.current=e===null||e.memoizedState===null?W0:G0,e=n(r,s),us){i=0;do{if(us=!1,Is=0,25<=i)throw Error(T(301));i+=1,je=ve=null,t.updateQueue=null,Ia.current=J0,e=n(r,s)}while(us)}if(Ia.current=li,t=ve!==null&&ve.next!==null,Wn=0,je=ve=he=null,oi=!1,t)throw Error(T(300));return e}function Ac(){var e=Is!==0;return Is=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?he.memoizedState=je=e:je=je.next=e,je}function ot(){if(ve===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=je===null?he.memoizedState:je.next;if(t!==null)je=t,ve=e;else{if(e===null)throw Error(T(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},je===null?he.memoizedState=je=e:je=je.next=e}return je}function _s(e,t){return typeof t=="function"?t(e):t}function wo(e){var t=ot(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=ve,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Wn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,he.lanes|=d,Gn|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,xt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,he.lanes|=i,Gn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bo(e){var t=ot(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);xt(i,t.memoizedState)||(Be=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function am(){}function im(e,t){var n=he,r=ot(),s=t(),i=!xt(r.memoizedState,s);if(i&&(r.memoizedState=s,Be=!0),r=r.queue,Rc(cm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,As(9,lm.bind(null,n,r,s,t),void 0,null),Ce===null)throw Error(T(349));Wn&30||om(n,t,s)}return s}function om(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lm(e,t,n,r){t.value=n,t.getSnapshot=r,um(t)&&dm(e)}function cm(e,t,n){return n(function(){um(t)&&dm(e)})}function um(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function dm(e){var t=Wt(e,1);t!==null&&pt(t,e,1,-1)}function ld(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=V0.bind(null,he,e),[t.memoizedState,e]}function As(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hm(){return ot().memoizedState}function _a(e,t,n,r){var s=Ct();he.flags|=e,s.memoizedState=As(1|t,n,void 0,r===void 0?null:r)}function Ti(e,t,n,r){var s=ot();r=r===void 0?null:r;var i=void 0;if(ve!==null){var o=ve.memoizedState;if(i=o.destroy,r!==null&&Ic(r,o.deps)){s.memoizedState=As(t,n,i,r);return}}he.flags|=e,s.memoizedState=As(1|t,n,i,r)}function cd(e,t){return _a(8390656,8,e,t)}function Rc(e,t){return Ti(2048,8,e,t)}function fm(e,t){return Ti(4,2,e,t)}function mm(e,t){return Ti(4,4,e,t)}function pm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gm(e,t,n){return n=n!=null?n.concat([e]):null,Ti(4,4,pm.bind(null,t,e),n)}function Tc(){}function xm(e,t){var n=ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ic(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ym(e,t){var n=ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ic(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vm(e,t,n){return Wn&21?(xt(n,t)||(n=Cf(),he.lanes|=n,Gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function H0(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=vo.transition;vo.transition={};try{e(!1),t()}finally{Z=n,vo.transition=r}}function wm(){return ot().memoizedState}function z0(e,t,n){var r=yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bm(e))Nm(t,n);else if(n=nm(e,t,n,r),n!==null){var s=Oe();pt(n,e,r,s),jm(n,t,r)}}function V0(e,t,n){var r=yn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bm(e))Nm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,xt(l,o)){var c=t.interleaved;c===null?(s.next=s,jc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=nm(e,t,s,r),n!==null&&(s=Oe(),pt(n,e,r,s),jm(n,t,r))}}function bm(e){var t=e.alternate;return e===he||t!==null&&t===he}function Nm(e,t){us=oi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cc(e,n)}}var li={readContext:it,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},W0={readContext:it,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:cd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_a(4194308,4,pm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _a(4194308,4,e,t)},useInsertionEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=z0.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:ld,useDebugValue:Tc,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=ld(!1),t=e[0];return e=H0.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,s=Ct();if(ce){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),Ce===null)throw Error(T(349));Wn&30||om(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,cd(cm.bind(null,r,i,e),[e]),r.flags|=2048,As(9,lm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ct(),t=Ce.identifierPrefix;if(ce){var n=Mt,r=Lt;n=(r&~(1<<32-mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Is++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=B0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},G0={readContext:it,useCallback:xm,useContext:it,useEffect:Rc,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:mm,useMemo:ym,useReducer:wo,useRef:hm,useState:function(){return wo(_s)},useDebugValue:Tc,useDeferredValue:function(e){var t=ot();return vm(t,ve.memoizedState,e)},useTransition:function(){var e=wo(_s)[0],t=ot().memoizedState;return[e,t]},useMutableSource:am,useSyncExternalStore:im,useId:wm,unstable_isNewReconciler:!1},J0={readContext:it,useCallback:xm,useContext:it,useEffect:Rc,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:mm,useMemo:ym,useReducer:bo,useRef:hm,useState:function(){return bo(_s)},useDebugValue:Tc,useDeferredValue:function(e){var t=ot();return ve===null?t.memoizedState=e:vm(t,ve.memoizedState,e)},useTransition:function(){var e=bo(_s)[0],t=ot().memoizedState;return[e,t]},useMutableSource:am,useSyncExternalStore:im,useId:wm,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pi={isMounted:function(e){return(e=e._reactInternals)?Qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oe(),s=yn(e),i=$t(r,s);i.payload=t,n!=null&&(i.callback=n),t=gn(e,i,s),t!==null&&(pt(t,e,s,r),Ea(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oe(),s=yn(e),i=$t(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=gn(e,i,s),t!==null&&(pt(t,e,s,r),Ea(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oe(),r=yn(e),s=$t(n,r);s.tag=2,t!=null&&(s.callback=t),t=gn(e,s,r),t!==null&&(pt(t,e,r,n),Ea(t,e,r))}};function ud(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ns(n,r)||!Ns(s,i):!0}function Cm(e,t,n){var r=!1,s=jn,i=t.contextType;return typeof i=="object"&&i!==null?i=it(i):(s=ze(t)?zn:Pe.current,r=t.contextTypes,i=(r=r!=null)?Nr(e,s):jn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function dd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pi.enqueueReplaceState(t,t.state,null)}function bl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Cc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=it(i):(i=ze(t)?zn:Pe.current,s.context=Nr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Pi.enqueueReplaceState(s,s.state,null),ai(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function kr(e,t){try{var n="",r=t;do n+=bx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function No(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Nl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var q0=typeof WeakMap=="function"?WeakMap:Map;function Sm(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ui||(ui=!0,Tl=r),Nl(e,t)},n}function km(e,t,n){n=$t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Nl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Nl(e,t),typeof r!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function hd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new q0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=ly.bind(null,e,t,n),t.then(e,e))}function fd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function md(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,gn(n,t,1))),n.lanes|=1),e)}var K0=Yt.ReactCurrentOwner,Be=!1;function Me(e,t,n,r){t.child=e===null?tm(t,null,n,r):Cr(t,e.child,n,r)}function pd(e,t,n,r,s){n=n.render;var i=t.ref;return pr(t,s),r=_c(e,t,n,r,i,s),n=Ac(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gt(e,t,s)):(ce&&n&&xc(t),t.flags|=1,Me(e,t,r,s),t.child)}function gd(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!$c(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Em(e,t,i,r,s)):(e=Pa(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ns,n(o,r)&&e.ref===t.ref)return Gt(e,t,s)}return t.flags|=1,e=vn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Em(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ns(i,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Gt(e,t,s)}return jl(e,t,n,r,s)}function Im(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(ur,qe),qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ae(ur,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ae(ur,qe),qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ae(ur,qe),qe|=r;return Me(e,t,s,n),t.child}function _m(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jl(e,t,n,r,s){var i=ze(n)?zn:Pe.current;return i=Nr(t,i),pr(t,s),n=_c(e,t,n,r,i,s),r=Ac(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gt(e,t,s)):(ce&&r&&xc(t),t.flags|=1,Me(e,t,n,s),t.child)}function xd(e,t,n,r,s){if(ze(n)){var i=!0;ei(t)}else i=!1;if(pr(t,s),t.stateNode===null)Aa(e,t),Cm(t,n,r),bl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=it(u):(u=ze(n)?zn:Pe.current,u=Nr(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&dd(t,o,r,u),rn=!1;var h=t.memoizedState;o.state=h,ai(t,r,o,s),c=t.memoizedState,l!==r||h!==c||He.current||rn?(typeof d=="function"&&(wl(t,n,d,r),c=t.memoizedState),(l=rn||ud(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,rm(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:dt(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=it(c):(c=ze(n)?zn:Pe.current,c=Nr(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&dd(t,o,r,c),rn=!1,h=t.memoizedState,o.state=h,ai(t,r,o,s);var g=t.memoizedState;l!==f||h!==g||He.current||rn?(typeof p=="function"&&(wl(t,n,p,r),g=t.memoizedState),(u=rn||ud(t,n,u,r,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cl(e,t,n,r,i,s)}function Cl(e,t,n,r,s,i){_m(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&nd(t,n,!1),Gt(e,t,i);r=t.stateNode,K0.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Cr(t,e.child,null,i),t.child=Cr(t,null,l,i)):Me(e,t,l,i),t.memoizedState=r.state,s&&nd(t,n,!0),t.child}function Am(e){var t=e.stateNode;t.pendingContext?td(e,t.pendingContext,t.pendingContext!==t.context):t.context&&td(e,t.context,!1),Sc(e,t.containerInfo)}function yd(e,t,n,r,s){return jr(),vc(s),t.flags|=256,Me(e,t,n,r),t.child}var Sl={dehydrated:null,treeContext:null,retryLane:0};function kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rm(e,t,n){var r=t.pendingProps,s=de.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ae(de,s&1),e===null)return yl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Oi(o,r,0,null),e=Fn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=kl(n),t.memoizedState=Sl,e):Pc(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Y0(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=vn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=vn(l,i):(i=Fn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?kl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Sl,r}return i=e.child,e=i.sibling,r=vn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Pc(e,t){return t=Oi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ma(e,t,n,r){return r!==null&&vc(r),Cr(t,e.child,null,n),e=Pc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Y0(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=No(Error(T(422))),ma(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Oi({mode:"visible",children:r.children},s,0,null),i=Fn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Cr(t,e.child,null,o),t.child.memoizedState=kl(o),t.memoizedState=Sl,i);if(!(t.mode&1))return ma(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(T(419)),r=No(i,r,void 0),ma(e,t,o,r)}if(l=(o&e.childLanes)!==0,Be||l){if(r=Ce,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wt(e,s),pt(r,e,s,-1))}return Fc(),r=No(Error(T(421))),ma(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=cy.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ke=pn(s.nextSibling),Ye=t,ce=!0,ft=null,e!==null&&(nt[rt++]=Lt,nt[rt++]=Mt,nt[rt++]=Vn,Lt=e.id,Mt=e.overflow,Vn=t),t=Pc(t,r.children),t.flags|=4096,t)}function vd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vl(e.return,t,n)}function jo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Tm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Me(e,t,r.children,n),r=de.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vd(e,n,t);else if(e.tag===19)vd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ae(de,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ii(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),jo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ii(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}jo(t,!0,n,null,i);break;case"together":jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Aa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Q0(e,t,n){switch(t.tag){case 3:Am(t),jr();break;case 5:sm(t);break;case 1:ze(t.type)&&ei(t);break;case 4:Sc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ae(ri,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ae(de,de.current&1),t.flags|=128,null):n&t.child.childLanes?Rm(e,t,n):(ae(de,de.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);ae(de,de.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Tm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(de,de.current),r)break;return null;case 22:case 23:return t.lanes=0,Im(e,t,n)}return Gt(e,t,n)}var Pm,El,Lm,Mm;Pm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};El=function(){};Lm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Mn(Et.current);var i=null;switch(n){case"input":s=Ko(e,s),r=Ko(e,r),i=[];break;case"select":s=fe({},s,{value:void 0}),r=fe({},r,{value:void 0}),i=[];break;case"textarea":s=Xo(e,s),r=Xo(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xa)}el(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ps.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ps.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ie("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Mm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yr(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function X0(e,t,n){var r=t.pendingProps;switch(yc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return ze(t.type)&&Za(),Ae(t),null;case 3:return r=t.stateNode,Sr(),le(He),le(Pe),Ec(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ha(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(Ml(ft),ft=null))),El(e,t),Ae(t),null;case 5:kc(t);var s=Mn(Es.current);if(n=t.type,e!==null&&t.stateNode!=null)Lm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Ae(t),null}if(e=Mn(Et.current),ha(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[St]=t,r[Ss]=i,e=(t.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(s=0;s<ss.length;s++)ie(ss[s],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":Iu(r,i),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ie("invalid",r);break;case"textarea":Au(r,i),ie("invalid",r)}el(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&da(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&da(r.textContent,l,e),s=["children",""+l]):ps.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ie("scroll",r)}switch(n){case"input":ra(r),_u(r,i,!0);break;case"textarea":ra(r),Ru(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Xa)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[St]=t,e[Ss]=r,Pm(e,t,!1,!1),t.stateNode=e;e:{switch(o=tl(n,r),n){case"dialog":ie("cancel",e),ie("close",e),s=r;break;case"iframe":case"object":case"embed":ie("load",e),s=r;break;case"video":case"audio":for(s=0;s<ss.length;s++)ie(ss[s],e);s=r;break;case"source":ie("error",e),s=r;break;case"img":case"image":case"link":ie("error",e),ie("load",e),s=r;break;case"details":ie("toggle",e),s=r;break;case"input":Iu(e,r),s=Ko(e,r),ie("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=fe({},r,{value:void 0}),ie("invalid",e);break;case"textarea":Au(e,r),s=Xo(e,r),ie("invalid",e);break;default:s=r}el(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?hf(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uf(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&gs(e,c):typeof c=="number"&&gs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ps.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ie("scroll",e):c!=null&&rc(e,i,c,o))}switch(n){case"input":ra(e),_u(e,r,!1);break;case"textarea":ra(e),Ru(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?dr(e,!!r.multiple,i,!1):r.defaultValue!=null&&dr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)Mm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=Mn(Es.current),Mn(Et.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[St]=t,(i=r.nodeValue!==n)&&(e=Ye,e!==null))switch(e.tag){case 3:da(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&da(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=t,t.stateNode=r}return Ae(t),null;case 13:if(le(de),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&Ke!==null&&t.mode&1&&!(t.flags&128))Zf(),jr(),t.flags|=98560,i=!1;else if(i=ha(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[St]=t}else jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),i=!1}else ft!==null&&(Ml(ft),ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?we===0&&(we=3):Fc())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return Sr(),El(e,t),e===null&&js(t.stateNode.containerInfo),Ae(t),null;case 10:return Nc(t.type._context),Ae(t),null;case 17:return ze(t.type)&&Za(),Ae(t),null;case 19:if(le(de),i=t.memoizedState,i===null)return Ae(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Yr(i,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ii(e),o!==null){for(t.flags|=128,Yr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ae(de,de.current&1|2),t.child}e=e.sibling}i.tail!==null&&pe()>Er&&(t.flags|=128,r=!0,Yr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ii(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ce)return Ae(t),null}else 2*pe()-i.renderingStartTime>Er&&n!==1073741824&&(t.flags|=128,r=!0,Yr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pe(),t.sibling=null,n=de.current,ae(de,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return Uc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qe&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Z0(e,t){switch(yc(t),t.tag){case 1:return ze(t.type)&&Za(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sr(),le(He),le(Pe),Ec(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kc(t),null;case 13:if(le(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(de),null;case 4:return Sr(),null;case 10:return Nc(t.type._context),null;case 22:case 23:return Uc(),null;case 24:return null;default:return null}}var pa=!1,Re=!1,ey=typeof WeakSet=="function"?WeakSet:Set,F=null;function cr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function Il(e,t,n){try{n()}catch(r){me(e,t,r)}}var wd=!1;function ty(e,t){if(dl=Ka,e=$f(),gc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hl={focusedElem:e,selectionRange:n},Ka=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,w=g.memoizedState,m=t.stateNode,x=m.getSnapshotBeforeUpdate(t.elementType===t.type?b:dt(t.type,b),w);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(N){me(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return g=wd,wd=!1,g}function ds(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Il(t,n,i)}s=s.next}while(s!==r)}}function Li(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function _l(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Om(e){var t=e.alternate;t!==null&&(e.alternate=null,Om(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[Ss],delete t[pl],delete t[D0],delete t[U0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dm(e){return e.tag===5||e.tag===3||e.tag===4}function bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Al(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xa));else if(r!==4&&(e=e.child,e!==null))for(Al(e,t,n),e=e.sibling;e!==null;)Al(e,t,n),e=e.sibling}function Rl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rl(e,t,n),e=e.sibling;e!==null;)Rl(e,t,n),e=e.sibling}var ke=null,ht=!1;function en(e,t,n){for(n=n.child;n!==null;)Um(e,t,n),n=n.sibling}function Um(e,t,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ki,n)}catch{}switch(n.tag){case 5:Re||cr(n,t);case 6:var r=ke,s=ht;ke=null,en(e,t,n),ke=r,ht=s,ke!==null&&(ht?(e=ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(ht?(e=ke,n=n.stateNode,e.nodeType===8?go(e.parentNode,n):e.nodeType===1&&go(e,n),ws(e)):go(ke,n.stateNode));break;case 4:r=ke,s=ht,ke=n.stateNode.containerInfo,ht=!0,en(e,t,n),ke=r,ht=s;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Il(n,t,o),s=s.next}while(s!==r)}en(e,t,n);break;case 1:if(!Re&&(cr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){me(n,t,l)}en(e,t,n);break;case 21:en(e,t,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,en(e,t,n),Re=r):en(e,t,n);break;default:en(e,t,n)}}function Nd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ey),t.forEach(function(r){var s=uy.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ke=l.stateNode,ht=!1;break e;case 3:ke=l.stateNode.containerInfo,ht=!0;break e;case 4:ke=l.stateNode.containerInfo,ht=!0;break e}l=l.return}if(ke===null)throw Error(T(160));Um(i,o,s),ke=null,ht=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fm(t,e),t=t.sibling}function Fm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),Nt(e),r&4){try{ds(3,e,e.return),Li(3,e)}catch(b){me(e,e.return,b)}try{ds(5,e,e.return)}catch(b){me(e,e.return,b)}}break;case 1:ut(t,e),Nt(e),r&512&&n!==null&&cr(n,n.return);break;case 5:if(ut(t,e),Nt(e),r&512&&n!==null&&cr(n,n.return),e.flags&32){var s=e.stateNode;try{gs(s,"")}catch(b){me(e,e.return,b)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&of(s,i),tl(l,o);var u=tl(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?hf(s,f):d==="dangerouslySetInnerHTML"?uf(s,f):d==="children"?gs(s,f):rc(s,d,f,u)}switch(l){case"input":Yo(s,i);break;case"textarea":lf(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?dr(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?dr(s,!!i.multiple,i.defaultValue,!0):dr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ss]=i}catch(b){me(e,e.return,b)}}break;case 6:if(ut(t,e),Nt(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){me(e,e.return,b)}}break;case 3:if(ut(t,e),Nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ws(t.containerInfo)}catch(b){me(e,e.return,b)}break;case 4:ut(t,e),Nt(e);break;case 13:ut(t,e),Nt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Oc=pe())),r&4&&Nd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(u=Re)||d,ut(t,e),Re=u):ut(t,e),Nt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(f=F=d;F!==null;){switch(h=F,p=h.child,h.tag){case 0:case 11:case 14:case 15:ds(4,h,h.return);break;case 1:cr(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){me(r,n,b)}}break;case 5:cr(h,h.return);break;case 22:if(h.memoizedState!==null){Cd(f);continue}}p!==null?(p.return=h,F=p):Cd(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=df("display",o))}catch(b){me(e,e.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){me(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ut(t,e),Nt(e),r&4&&Nd(e);break;case 21:break;default:ut(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Dm(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gs(s,""),r.flags&=-33);var i=bd(e);Rl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=bd(e);Al(e,l,o);break;default:throw Error(T(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ny(e,t,n){F=e,$m(e)}function $m(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||pa;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Re;l=pa;var u=Re;if(pa=o,(Re=c)&&!u)for(F=s;F!==null;)o=F,c=o.child,o.tag===22&&o.memoizedState!==null?Sd(s):c!==null?(c.return=o,F=c):Sd(s);for(;i!==null;)F=i,$m(i),i=i.sibling;F=s,pa=l,Re=u}jd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):jd(e)}}function jd(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Li(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Re)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&od(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}od(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ws(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Re||t.flags&512&&_l(t)}catch(h){me(t,t.return,h)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Cd(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Sd(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Li(4,t)}catch(c){me(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){me(t,s,c)}}var i=t.return;try{_l(t)}catch(c){me(t,i,c)}break;case 5:var o=t.return;try{_l(t)}catch(c){me(t,o,c)}}}catch(c){me(t,t.return,c)}if(t===e){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var ry=Math.ceil,ci=Yt.ReactCurrentDispatcher,Lc=Yt.ReactCurrentOwner,at=Yt.ReactCurrentBatchConfig,Q=0,Ce=null,ge=null,Ee=0,qe=0,ur=Sn(0),we=0,Rs=null,Gn=0,Mi=0,Mc=0,hs=null,$e=null,Oc=0,Er=1/0,Rt=null,ui=!1,Tl=null,xn=null,ga=!1,dn=null,di=0,fs=0,Pl=null,Ra=-1,Ta=0;function Oe(){return Q&6?pe():Ra!==-1?Ra:Ra=pe()}function yn(e){return e.mode&1?Q&2&&Ee!==0?Ee&-Ee:$0.transition!==null?(Ta===0&&(Ta=Cf()),Ta):(e=Z,e!==0||(e=window.event,e=e===void 0?16:Rf(e.type)),e):1}function pt(e,t,n,r){if(50<fs)throw fs=0,Pl=null,Error(T(185));Ds(e,n,r),(!(Q&2)||e!==Ce)&&(e===Ce&&(!(Q&2)&&(Mi|=n),we===4&&an(e,Ee)),Ve(e,r),n===1&&Q===0&&!(t.mode&1)&&(Er=pe()+500,Ri&&kn()))}function Ve(e,t){var n=e.callbackNode;$x(e,t);var r=qa(e,e===Ce?Ee:0);if(r===0)n!==null&&Lu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Lu(n),t===1)e.tag===0?F0(kd.bind(null,e)):Yf(kd.bind(null,e)),M0(function(){!(Q&6)&&kn()}),n=null;else{switch(Sf(r)){case 1:n=lc;break;case 4:n=Nf;break;case 16:n=Ja;break;case 536870912:n=jf;break;default:n=Ja}n=qm(n,Bm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Bm(e,t){if(Ra=-1,Ta=0,Q&6)throw Error(T(327));var n=e.callbackNode;if(gr()&&e.callbackNode!==n)return null;var r=qa(e,e===Ce?Ee:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hi(e,r);else{t=r;var s=Q;Q|=2;var i=zm();(Ce!==e||Ee!==t)&&(Rt=null,Er=pe()+500,Un(e,t));do try{iy();break}catch(l){Hm(e,l)}while(!0);bc(),ci.current=i,Q=s,ge!==null?t=0:(Ce=null,Ee=0,t=we)}if(t!==0){if(t===2&&(s=il(e),s!==0&&(r=s,t=Ll(e,s))),t===1)throw n=Rs,Un(e,0),an(e,r),Ve(e,pe()),n;if(t===6)an(e,r);else{if(s=e.current.alternate,!(r&30)&&!sy(s)&&(t=hi(e,r),t===2&&(i=il(e),i!==0&&(r=i,t=Ll(e,i))),t===1))throw n=Rs,Un(e,0),an(e,r),Ve(e,pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:Rn(e,$e,Rt);break;case 3:if(an(e,r),(r&130023424)===r&&(t=Oc+500-pe(),10<t)){if(qa(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Oe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ml(Rn.bind(null,e,$e,Rt),t);break}Rn(e,$e,Rt);break;case 4:if(an(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-mt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ry(r/1960))-r,10<r){e.timeoutHandle=ml(Rn.bind(null,e,$e,Rt),r);break}Rn(e,$e,Rt);break;case 5:Rn(e,$e,Rt);break;default:throw Error(T(329))}}}return Ve(e,pe()),e.callbackNode===n?Bm.bind(null,e):null}function Ll(e,t){var n=hs;return e.current.memoizedState.isDehydrated&&(Un(e,t).flags|=256),e=hi(e,t),e!==2&&(t=$e,$e=n,t!==null&&Ml(t)),e}function Ml(e){$e===null?$e=e:$e.push.apply($e,e)}function sy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!xt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~Mc,t&=~Mi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),r=1<<n;e[n]=-1,t&=~r}}function kd(e){if(Q&6)throw Error(T(327));gr();var t=qa(e,0);if(!(t&1))return Ve(e,pe()),null;var n=hi(e,t);if(e.tag!==0&&n===2){var r=il(e);r!==0&&(t=r,n=Ll(e,r))}if(n===1)throw n=Rs,Un(e,0),an(e,t),Ve(e,pe()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rn(e,$e,Rt),Ve(e,pe()),null}function Dc(e,t){var n=Q;Q|=1;try{return e(t)}finally{Q=n,Q===0&&(Er=pe()+500,Ri&&kn())}}function Jn(e){dn!==null&&dn.tag===0&&!(Q&6)&&gr();var t=Q;Q|=1;var n=at.transition,r=Z;try{if(at.transition=null,Z=1,e)return e()}finally{Z=r,at.transition=n,Q=t,!(Q&6)&&kn()}}function Uc(){qe=ur.current,le(ur)}function Un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,L0(n)),ge!==null)for(n=ge.return;n!==null;){var r=n;switch(yc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Za();break;case 3:Sr(),le(He),le(Pe),Ec();break;case 5:kc(r);break;case 4:Sr();break;case 13:le(de);break;case 19:le(de);break;case 10:Nc(r.type._context);break;case 22:case 23:Uc()}n=n.return}if(Ce=e,ge=e=vn(e.current,null),Ee=qe=t,we=0,Rs=null,Mc=Mi=Gn=0,$e=hs=null,Ln!==null){for(t=0;t<Ln.length;t++)if(n=Ln[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ln=null}return e}function Hm(e,t){do{var n=ge;try{if(bc(),Ia.current=li,oi){for(var r=he.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}oi=!1}if(Wn=0,je=ve=he=null,us=!1,Is=0,Lc.current=null,n===null||n.return===null){we=1,Rs=t,ge=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Ee,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=fd(o);if(p!==null){p.flags&=-257,md(p,o,l,i,t),p.mode&1&&hd(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var b=new Set;b.add(c),t.updateQueue=b}else g.add(c);break e}else{if(!(t&1)){hd(i,u,t),Fc();break e}c=Error(T(426))}}else if(ce&&l.mode&1){var w=fd(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),md(w,o,l,i,t),vc(kr(c,l));break e}}i=c=kr(c,l),we!==4&&(we=2),hs===null?hs=[i]:hs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Sm(i,c,t);id(i,m);break e;case 1:l=c;var x=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xn===null||!xn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=km(i,l,t);id(i,N);break e}}i=i.return}while(i!==null)}Wm(n)}catch(S){t=S,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function zm(){var e=ci.current;return ci.current=li,e===null?li:e}function Fc(){(we===0||we===3||we===2)&&(we=4),Ce===null||!(Gn&268435455)&&!(Mi&268435455)||an(Ce,Ee)}function hi(e,t){var n=Q;Q|=2;var r=zm();(Ce!==e||Ee!==t)&&(Rt=null,Un(e,t));do try{ay();break}catch(s){Hm(e,s)}while(!0);if(bc(),Q=n,ci.current=r,ge!==null)throw Error(T(261));return Ce=null,Ee=0,we}function ay(){for(;ge!==null;)Vm(ge)}function iy(){for(;ge!==null&&!Rx();)Vm(ge)}function Vm(e){var t=Jm(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?Wm(e):ge=t,Lc.current=null}function Wm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Z0(n,t),n!==null){n.flags&=32767,ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ge=null;return}}else if(n=X0(n,t,qe),n!==null){ge=n;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);we===0&&(we=5)}function Rn(e,t,n){var r=Z,s=at.transition;try{at.transition=null,Z=1,oy(e,t,n,r)}finally{at.transition=s,Z=r}return null}function oy(e,t,n,r){do gr();while(dn!==null);if(Q&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Bx(e,i),e===Ce&&(ge=Ce=null,Ee=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ga||(ga=!0,qm(Ja,function(){return gr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=at.transition,at.transition=null;var o=Z;Z=1;var l=Q;Q|=4,Lc.current=null,ty(e,n),Fm(n,e),E0(hl),Ka=!!dl,hl=dl=null,e.current=n,ny(n),Tx(),Q=l,Z=o,at.transition=i}else e.current=n;if(ga&&(ga=!1,dn=e,di=s),i=e.pendingLanes,i===0&&(xn=null),Mx(n.stateNode),Ve(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ui)throw ui=!1,e=Tl,Tl=null,e;return di&1&&e.tag!==0&&gr(),i=e.pendingLanes,i&1?e===Pl?fs++:(fs=0,Pl=e):fs=0,kn(),null}function gr(){if(dn!==null){var e=Sf(di),t=at.transition,n=Z;try{if(at.transition=null,Z=16>e?16:e,dn===null)var r=!1;else{if(e=dn,dn=null,di=0,Q&6)throw Error(T(331));var s=Q;for(Q|=4,F=e.current;F!==null;){var i=F,o=i.child;if(F.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(F=u;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:ds(8,d,i)}var f=d.child;if(f!==null)f.return=d,F=f;else for(;F!==null;){d=F;var h=d.sibling,p=d.return;if(Om(d),d===u){F=null;break}if(h!==null){h.return=p,F=h;break}F=p}}}var g=i.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}F=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,F=o;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ds(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,F=m;break e}F=i.return}}var x=e.current;for(F=x;F!==null;){o=F;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,F=y;else e:for(o=x;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Li(9,l)}}catch(S){me(l,l.return,S)}if(l===o){F=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,F=N;break e}F=l.return}}if(Q=s,kn(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ki,e)}catch{}r=!0}return r}finally{Z=n,at.transition=t}}return!1}function Ed(e,t,n){t=kr(n,t),t=Sm(e,t,1),e=gn(e,t,1),t=Oe(),e!==null&&(Ds(e,1,t),Ve(e,t))}function me(e,t,n){if(e.tag===3)Ed(e,e,n);else for(;t!==null;){if(t.tag===3){Ed(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xn===null||!xn.has(r))){e=kr(n,e),e=km(t,e,1),t=gn(t,e,1),e=Oe(),t!==null&&(Ds(t,1,e),Ve(t,e));break}}t=t.return}}function ly(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Oe(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(Ee&n)===n&&(we===4||we===3&&(Ee&130023424)===Ee&&500>pe()-Oc?Un(e,0):Mc|=n),Ve(e,t)}function Gm(e,t){t===0&&(e.mode&1?(t=ia,ia<<=1,!(ia&130023424)&&(ia=4194304)):t=1);var n=Oe();e=Wt(e,t),e!==null&&(Ds(e,t,n),Ve(e,n))}function cy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gm(e,n)}function uy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),Gm(e,n)}var Jm;Jm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,Q0(e,t,n);Be=!!(e.flags&131072)}else Be=!1,ce&&t.flags&1048576&&Qf(t,ni,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Aa(e,t),e=t.pendingProps;var s=Nr(t,Pe.current);pr(t,n),s=_c(null,t,r,e,s,n);var i=Ac();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(i=!0,ei(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cc(t),s.updater=Pi,t.stateNode=s,s._reactInternals=t,bl(t,r,e,n),t=Cl(null,t,r,!0,i,n)):(t.tag=0,ce&&i&&xc(t),Me(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Aa(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=hy(r),e=dt(r,e),s){case 0:t=jl(null,t,r,e,n);break e;case 1:t=xd(null,t,r,e,n);break e;case 11:t=pd(null,t,r,e,n);break e;case 14:t=gd(null,t,r,dt(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),jl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),xd(e,t,r,s,n);case 3:e:{if(Am(t),e===null)throw Error(T(387));r=t.pendingProps,i=t.memoizedState,s=i.element,rm(e,t),ai(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=kr(Error(T(423)),t),t=yd(e,t,r,n,s);break e}else if(r!==s){s=kr(Error(T(424)),t),t=yd(e,t,r,n,s);break e}else for(Ke=pn(t.stateNode.containerInfo.firstChild),Ye=t,ce=!0,ft=null,n=tm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jr(),r===s){t=Gt(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return sm(t),e===null&&yl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,fl(r,s)?o=null:i!==null&&fl(r,i)&&(t.flags|=32),_m(e,t),Me(e,t,o,n),t.child;case 6:return e===null&&yl(t),null;case 13:return Rm(e,t,n);case 4:return Sc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cr(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),pd(e,t,r,s,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ae(ri,r._currentValue),r._currentValue=o,i!==null)if(xt(i.value,o)){if(i.children===s.children&&!He.current){t=Gt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=$t(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),vl(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),vl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Me(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,pr(t,n),s=it(s),r=r(s),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,s=dt(r,t.pendingProps),s=dt(r.type,s),gd(e,t,r,s,n);case 15:return Em(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),Aa(e,t),t.tag=1,ze(r)?(e=!0,ei(t)):e=!1,pr(t,n),Cm(t,r,s),bl(t,r,s,n),Cl(null,t,r,!0,e,n);case 19:return Tm(e,t,n);case 22:return Im(e,t,n)}throw Error(T(156,t.tag))};function qm(e,t){return bf(e,t)}function dy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,r){return new dy(e,t,n,r)}function $c(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hy(e){if(typeof e=="function")return $c(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ac)return 11;if(e===ic)return 14}return 2}function vn(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pa(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")$c(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case er:return Fn(n.children,s,i,t);case sc:o=8,s|=8;break;case Wo:return e=st(12,n,t,s|2),e.elementType=Wo,e.lanes=i,e;case Go:return e=st(13,n,t,s),e.elementType=Go,e.lanes=i,e;case Jo:return e=st(19,n,t,s),e.elementType=Jo,e.lanes=i,e;case rf:return Oi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tf:o=10;break e;case nf:o=9;break e;case ac:o=11;break e;case ic:o=14;break e;case nn:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=st(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Fn(e,t,n,r){return e=st(7,e,r,t),e.lanes=n,e}function Oi(e,t,n,r){return e=st(22,e,r,t),e.elementType=rf,e.lanes=n,e.stateNode={isHidden:!1},e}function Co(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function So(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fy(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=so(0),this.expirationTimes=so(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=so(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,s,i,o,l,c){return e=new fy(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=st(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cc(i),e}function my(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Km(e){if(!e)return jn;e=e._reactInternals;e:{if(Qn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(ze(n))return Kf(e,n,t)}return t}function Ym(e,t,n,r,s,i,o,l,c){return e=Bc(n,r,!0,e,s,i,o,l,c),e.context=Km(null),n=e.current,r=Oe(),s=yn(n),i=$t(r,s),i.callback=t??null,gn(n,i,s),e.current.lanes=s,Ds(e,s,r),Ve(e,r),e}function Di(e,t,n,r){var s=t.current,i=Oe(),o=yn(s);return n=Km(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gn(s,t,o),e!==null&&(pt(e,s,o,i),Ea(e,s,o)),o}function fi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Id(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hc(e,t){Id(e,t),(e=e.alternate)&&Id(e,t)}function py(){return null}var Qm=typeof reportError=="function"?reportError:function(e){console.error(e)};function zc(e){this._internalRoot=e}Ui.prototype.render=zc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Di(e,t,null,null)};Ui.prototype.unmount=zc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jn(function(){Di(null,e,null,null)}),t[Vt]=null}};function Ui(e){this._internalRoot=e}Ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=If();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&Af(e)}};function Vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _d(){}function gy(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=fi(o);i.call(u)}}var o=Ym(t,r,e,0,null,!1,!1,"",_d);return e._reactRootContainer=o,e[Vt]=o.current,js(e.nodeType===8?e.parentNode:e),Jn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=fi(c);l.call(u)}}var c=Bc(e,0,!1,null,null,!1,!1,"",_d);return e._reactRootContainer=c,e[Vt]=c.current,js(e.nodeType===8?e.parentNode:e),Jn(function(){Di(t,c,n,r)}),c}function $i(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=fi(o);l.call(c)}}Di(t,o,e,s)}else o=gy(n,t,e,s,r);return fi(o)}kf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=rs(t.pendingLanes);n!==0&&(cc(t,n|1),Ve(t,pe()),!(Q&6)&&(Er=pe()+500,kn()))}break;case 13:Jn(function(){var r=Wt(e,1);if(r!==null){var s=Oe();pt(r,e,1,s)}}),Hc(e,1)}};uc=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var n=Oe();pt(t,e,134217728,n)}Hc(e,134217728)}};Ef=function(e){if(e.tag===13){var t=yn(e),n=Wt(e,t);if(n!==null){var r=Oe();pt(n,e,t,r)}Hc(e,t)}};If=function(){return Z};_f=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};rl=function(e,t,n){switch(t){case"input":if(Yo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ai(r);if(!s)throw Error(T(90));af(r),Yo(r,s)}}}break;case"textarea":lf(e,n);break;case"select":t=n.value,t!=null&&dr(e,!!n.multiple,t,!1)}};pf=Dc;gf=Jn;var xy={usingClientEntryPoint:!1,Events:[Fs,sr,Ai,ff,mf,Dc]},Qr={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yy={bundleType:Qr.bundleType,version:Qr.version,rendererPackageName:Qr.rendererPackageName,rendererConfig:Qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vf(e),e===null?null:e.stateNode},findFiberByHostInstance:Qr.findFiberByHostInstance||py,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{ki=xa.inject(yy),kt=xa}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xy;Xe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vc(t))throw Error(T(200));return my(e,t,null,n)};Xe.createRoot=function(e,t){if(!Vc(e))throw Error(T(299));var n=!1,r="",s=Qm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bc(e,1,!1,null,null,n,!1,r,s),e[Vt]=t.current,js(e.nodeType===8?e.parentNode:e),new zc(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=vf(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return Jn(e)};Xe.hydrate=function(e,t,n){if(!Fi(t))throw Error(T(200));return $i(null,e,t,!0,n)};Xe.hydrateRoot=function(e,t,n){if(!Vc(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Qm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ym(t,null,e,1,n??null,s,!1,i,o),e[Vt]=t.current,js(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ui(t)};Xe.render=function(e,t,n){if(!Fi(t))throw Error(T(200));return $i(null,e,t,!1,n)};Xe.unmountComponentAtNode=function(e){if(!Fi(e))throw Error(T(40));return e._reactRootContainer?(Jn(function(){$i(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};Xe.unstable_batchedUpdates=Dc;Xe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fi(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return $i(e,t,n,!1,r)};Xe.version="18.3.1-next-f1338f8080-20240426";function Xm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xm)}catch(e){console.error(e)}}Xm(),Qh.exports=Xe;var vy=Qh.exports,Ad=vy;zo.createRoot=Ad.createRoot,zo.hydrateRoot=Ad.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rd="popstate";function wy(e={}){function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return Ol("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ts(s)}return Ny(t,n,null,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function by(){return Math.random().toString(36).substring(2,10)}function Td(e,t){return{usr:e.state,key:e.key,idx:t}}function Ol(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Lr(t):t,state:n,key:t&&t.key||r||by()}}function Ts({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Lr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Ny(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let w=d(),m=w==null?null:w-u;u=w,c&&c({action:l,location:b.location,delta:m})}function h(w,m){l="PUSH";let x=Ol(b.location,w,m);u=d()+1;let y=Td(x,u),N=b.createHref(x);try{o.pushState(y,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(N)}i&&c&&c({action:l,location:b.location,delta:1})}function p(w,m){l="REPLACE";let x=Ol(b.location,w,m);u=d();let y=Td(x,u),N=b.createHref(x);o.replaceState(y,"",N),i&&c&&c({action:l,location:b.location,delta:0})}function g(w){return jy(w)}let b={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Rd,f),c=w,()=>{s.removeEventListener(Rd,f),c=null}},createHref(w){return t(s,w)},createURL:g,encodeLocation(w){let m=g(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:p,go(w){return o.go(w)}};return b}function jy(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ts(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Zm(e,t,n="/"){return Cy(e,t,n,!1)}function Cy(e,t,n,r){let s=typeof t=="string"?Lr(t):t,i=Jt(s.pathname||"/",n);if(i==null)return null;let o=ep(e);Sy(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Oy(i);l=Ly(o[c],u,r)}return l}function ep(e,t=[],n=[],r="",s=!1){let i=(o,l,c=s,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;ue(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=Bt([r,d.relativePath]),h=n.concat(d);o.children&&o.children.length>0&&(ue(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),ep(o.children,t,h,f,c)),!(o.path==null&&!o.index)&&t.push({path:f,score:Ty(f,o.index),routesMeta:h})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of tp(o.path))i(o,l,!0,u)}),t}function tp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=tp(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Sy(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Py(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ky=/^:[\w-]+$/,Ey=3,Iy=2,_y=1,Ay=10,Ry=-2,Pd=e=>e==="*";function Ty(e,t){let n=e.split("/"),r=n.length;return n.some(Pd)&&(r+=Ry),t&&(r+=Iy),n.filter(s=>!Pd(s)).reduce((s,i)=>s+(ky.test(i)?Ey:i===""?_y:Ay),r)}function Py(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Ly(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=mi({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=mi({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Bt([i,f.pathname]),pathnameBase:$y(Bt([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Bt([i,f.pathnameBase]))}return o}function mi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=My(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[h];return f&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function My(e,t=!1,n=!0){lt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Oy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Jt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Dy(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Lr(e):e;return{pathname:n?n.startsWith("/")?n:Uy(n,t):t,search:By(r),hash:Hy(s)}}function Uy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ko(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Wc(e){let t=Fy(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Gc(e,t,n,r=!1){let s;typeof e=="string"?s=Lr(e):(s={...e},ue(!s.pathname||!s.pathname.includes("?"),ko("?","pathname","search",s)),ue(!s.pathname||!s.pathname.includes("#"),ko("#","pathname","hash",s)),ue(!s.search||!s.search.includes("#"),ko("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Dy(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Bt=e=>e.join("/").replace(/\/\/+/g,"/"),$y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),By=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var np=["POST","PUT","PATCH","DELETE"];new Set(np);var Vy=["GET",...np];new Set(Vy);var Mr=v.createContext(null);Mr.displayName="DataRouter";var Bi=v.createContext(null);Bi.displayName="DataRouterState";v.createContext(!1);var rp=v.createContext({isTransitioning:!1});rp.displayName="ViewTransition";var Wy=v.createContext(new Map);Wy.displayName="Fetchers";var Gy=v.createContext(null);Gy.displayName="Await";var yt=v.createContext(null);yt.displayName="Navigation";var Bs=v.createContext(null);Bs.displayName="Location";var vt=v.createContext({outlet:null,matches:[],isDataRoute:!1});vt.displayName="Route";var Jc=v.createContext(null);Jc.displayName="RouteError";function Jy(e,{relative:t}={}){ue(Or(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(yt),{hash:s,pathname:i,search:o}=Hs(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:Bt([n,i])),r.createHref({pathname:l,search:o,hash:s})}function Or(){return v.useContext(Bs)!=null}function wt(){return ue(Or(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Bs).location}var sp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ap(e){v.useContext(yt).static||v.useLayoutEffect(e)}function X(){let{isDataRoute:e}=v.useContext(vt);return e?iv():qy()}function qy(){ue(Or(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Mr),{basename:t,navigator:n}=v.useContext(yt),{matches:r}=v.useContext(vt),{pathname:s}=wt(),i=JSON.stringify(Wc(r)),o=v.useRef(!1);return ap(()=>{o.current=!0}),v.useCallback((c,u={})=>{if(lt(o.current,sp),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=Gc(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Bt([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,i,s,e])}v.createContext(null);function qc(){let{matches:e}=v.useContext(vt),t=e[e.length-1];return t?t.params:{}}function Hs(e,{relative:t}={}){let{matches:n}=v.useContext(vt),{pathname:r}=wt(),s=JSON.stringify(Wc(n));return v.useMemo(()=>Gc(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function Ky(e,t){return ip(e,t)}function ip(e,t,n,r,s){var x;ue(Or(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(yt),{matches:o}=v.useContext(vt),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let y=f&&f.path||"";op(u,!f||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let h=wt(),p;if(t){let y=typeof t=="string"?Lr(t):t;ue(d==="/"||((x=y.pathname)==null?void 0:x.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${y.pathname}" was given in the \`location\` prop.`),p=y}else p=h;let g=p.pathname||"/",b=g;if(d!=="/"){let y=d.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=Zm(e,{pathname:b});lt(f||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),lt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=ev(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:Bt([d,i.encodeLocation?i.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:Bt([d,i.encodeLocation?i.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),o,n,r,s);return t&&m?v.createElement(Bs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},m):m}function Yy(){let e=av(),t=zy(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,o)}var Qy=v.createElement(Yy,null),Xy=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(vt.Provider,{value:this.props.routeContext},v.createElement(Jc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zy({routeContext:e,match:t,children:n}){let r=v.useContext(Mr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(vt.Provider,{value:e},n)}function ev(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);ue(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let h,p=!1,g=null,b=null;n&&(h=o&&d.route.id?o[d.route.id]:void 0,g=d.route.errorElement||Qy,l&&(c<0&&f===0?(op("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,b=null):c===f&&(p=!0,b=d.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,f+1)),m=()=>{let x;return h?x=g:p?x=b:d.route.Component?x=v.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,v.createElement(Zy,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(Xy,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:m(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):m()},null)}function Kc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tv(e){let t=v.useContext(Mr);return ue(t,Kc(e)),t}function nv(e){let t=v.useContext(Bi);return ue(t,Kc(e)),t}function rv(e){let t=v.useContext(vt);return ue(t,Kc(e)),t}function Yc(e){let t=rv(e),n=t.matches[t.matches.length-1];return ue(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function sv(){return Yc("useRouteId")}function av(){var r;let e=v.useContext(Jc),t=nv("useRouteError"),n=Yc("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function iv(){let{router:e}=tv("useNavigate"),t=Yc("useNavigate"),n=v.useRef(!1);return ap(()=>{n.current=!0}),v.useCallback(async(s,i={})=>{lt(n.current,sp),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Ld={};function op(e,t,n){!t&&!Ld[e]&&(Ld[e]=!0,lt(!1,n))}v.memo(ov);function ov({routes:e,future:t,state:n,unstable_onError:r}){return ip(e,void 0,n,r,t)}function Md({to:e,replace:t,state:n,relative:r}){ue(Or(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(yt);lt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=v.useContext(vt),{pathname:o}=wt(),l=X(),c=Gc(e,Wc(i),o,r==="path"),u=JSON.stringify(c);return v.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:r})},[l,u,r,t,n]),null}function W(e){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lv({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){ue(!Or(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=v.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Lr(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=n,p=v.useMemo(()=>{let g=Jt(c,o);return g==null?null:{location:{pathname:g,search:u,hash:d,state:f,key:h},navigationType:r}},[o,c,u,d,f,h,r]);return lt(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:v.createElement(yt.Provider,{value:l},v.createElement(Bs.Provider,{children:t,value:p}))}function cv({children:e,location:t}){return Ky(Dl(e),t)}function Dl(e,t=[]){let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let i=[...t,s];if(r.type===v.Fragment){n.push.apply(n,Dl(r.props.children,i));return}ue(r.type===W,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Dl(r.props.children,i)),n.push(o)}),n}var La="get",Ma="application/x-www-form-urlencoded";function Hi(e){return e!=null&&typeof e.tagName=="string"}function uv(e){return Hi(e)&&e.tagName.toLowerCase()==="button"}function dv(e){return Hi(e)&&e.tagName.toLowerCase()==="form"}function hv(e){return Hi(e)&&e.tagName.toLowerCase()==="input"}function fv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mv(e,t){return e.button===0&&(!t||t==="_self")&&!fv(e)}function Ul(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function pv(e,t){let n=Ul(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}var ya=null;function gv(){if(ya===null)try{new FormData(document.createElement("form"),0),ya=!1}catch{ya=!0}return ya}var xv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eo(e){return e!=null&&!xv.has(e)?(lt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ma}"`),null):e}function yv(e,t){let n,r,s,i,o;if(dv(e)){let l=e.getAttribute("action");r=l?Jt(l,t):null,n=e.getAttribute("method")||La,s=Eo(e.getAttribute("enctype"))||Ma,i=new FormData(e)}else if(uv(e)||hv(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?Jt(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||La,s=Eo(e.getAttribute("formenctype"))||Eo(l.getAttribute("enctype"))||Ma,i=new FormData(l,e),!gv()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,f)}}else{if(Hi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=La,r=null,s=Ma,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vv(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Jt(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function wv(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bv(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Nv(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await wv(i,n);return o.links?o.links():[]}return[]}));return kv(r.flat(1).filter(bv).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Od(e,t,n,r,s,i){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function jv(e,t,{includeHydrateFallback:n}={}){return Cv(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Cv(e){return[...new Set(e)]}function Sv(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function kv(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(Sv(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function lp(){let e=v.useContext(Mr);return Qc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ev(){let e=v.useContext(Bi);return Qc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Xc=v.createContext(void 0);Xc.displayName="FrameworkContext";function cp(){let e=v.useContext(Xc);return Qc(e,"You must render this element inside a <HydratedRouter> element"),e}function Iv(e,t){let n=v.useContext(Xc),[r,s]=v.useState(!1),[i,o]=v.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=v.useRef(null);v.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=m=>{m.forEach(x=>{o(x.isIntersecting)})},w=new IntersectionObserver(b,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),v.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let p=()=>{s(!0)},g=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,h,{}]:[i,h,{onFocus:Xr(l,p),onBlur:Xr(c,g),onMouseEnter:Xr(u,p),onMouseLeave:Xr(d,g),onTouchStart:Xr(f,p)}]:[!1,h,{}]}function Xr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function _v({page:e,...t}){let{router:n}=lp(),r=v.useMemo(()=>Zm(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(Rv,{page:e,matches:r,...t}):null}function Av(e){let{manifest:t,routeModules:n}=cp(),[r,s]=v.useState([]);return v.useEffect(()=>{let i=!1;return Nv(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function Rv({page:e,matches:t,...n}){let r=wt(),{manifest:s,routeModules:i}=cp(),{basename:o}=lp(),{loaderData:l,matches:c}=Ev(),u=v.useMemo(()=>Od(e,t,c,s,r,"data"),[e,t,c,s,r]),d=v.useMemo(()=>Od(e,t,c,s,r,"assets"),[e,t,c,s,r]),f=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let g=new Set,b=!1;if(t.forEach(m=>{var y;let x=s.routes[m.route.id];!x||!x.hasLoader||(!u.some(N=>N.route.id===m.route.id)&&m.route.id in l&&((y=i[m.route.id])!=null&&y.shouldRevalidate)||x.hasClientLoader?b=!0:g.add(m.route.id))}),g.size===0)return[];let w=vv(e,o,"data");return b&&g.size>0&&w.searchParams.set("_routes",t.filter(m=>g.has(m.route.id)).map(m=>m.route.id).join(",")),[w.pathname+w.search]},[o,l,r,s,u,t,e,i]),h=v.useMemo(()=>jv(d,s),[d,s]),p=Av(d);return v.createElement(v.Fragment,null,f.map(g=>v.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),h.map(g=>v.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:b})=>v.createElement("link",{key:g,nonce:n.nonce,...b})))}function Tv(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var up=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{up&&(window.__reactRouterVersion="7.9.4")}catch{}function Pv({basename:e,children:t,window:n}){let r=v.useRef();r.current==null&&(r.current=wy({window:n,v5Compat:!0}));let s=r.current,[i,o]=v.useState({action:s.action,location:s.location}),l=v.useCallback(c=>{v.startTransition(()=>o(c))},[o]);return v.useLayoutEffect(()=>s.listen(l),[s,l]),v.createElement(lv,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var dp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hp=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},p){let{basename:g}=v.useContext(yt),b=typeof u=="string"&&dp.test(u),w,m=!1;if(typeof u=="string"&&b&&(w=u,up))try{let L=new URL(window.location.href),j=u.startsWith("//")?new URL(L.protocol+u):new URL(u),P=Jt(j.pathname,g);j.origin===L.origin&&P!=null?u=P+j.search+j.hash:m=!0}catch{lt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=Jy(u,{relative:s}),[y,N,S]=Iv(r,h),A=Dv(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function k(L){t&&t(L),L.defaultPrevented||A(L)}let I=v.createElement("a",{...h,...S,href:w||x,onClick:m||i?t:k,ref:Tv(p,N),target:c,"data-discover":!b&&n==="render"?"true":void 0});return y&&!b?v.createElement(v.Fragment,null,I,v.createElement(_v,{page:x})):I});hp.displayName="Link";var Lv=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...u},d){let f=Hs(o,{relative:u.relative}),h=wt(),p=v.useContext(Bi),{navigator:g,basename:b}=v.useContext(yt),w=p!=null&&Hv(f)&&l===!0,m=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=h.pathname,y=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(x=x.toLowerCase(),y=y?y.toLowerCase():null,m=m.toLowerCase()),y&&b&&(y=Jt(y,b)||y);const N=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=x===m||!s&&x.startsWith(m)&&x.charAt(N)==="/",A=y!=null&&(y===m||!s&&y.startsWith(m)&&y.charAt(m.length)==="/"),k={isActive:S,isPending:A,isTransitioning:w},I=S?t:void 0,L;typeof r=="function"?L=r(k):L=[r,S?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let j=typeof i=="function"?i(k):i;return v.createElement(hp,{...u,"aria-current":I,className:L,ref:d,style:j,to:o,viewTransition:l},typeof c=="function"?c(k):c)});Lv.displayName="NavLink";var Mv=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=La,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},p)=>{let g=$v(),b=Bv(l,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",m=typeof l=="string"&&dp.test(l),x=y=>{if(c&&c(y),y.defaultPrevented)return;y.preventDefault();let N=y.nativeEvent.submitter,S=(N==null?void 0:N.getAttribute("formmethod"))||o;g(N||y.currentTarget,{fetcherKey:t,method:S,navigate:n,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return v.createElement("form",{ref:p,method:w,action:b,onSubmit:r?c:x,...h,"data-discover":!m&&e==="render"?"true":void 0})});Mv.displayName="Form";function Ov(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fp(e){let t=v.useContext(Mr);return ue(t,Ov(e)),t}function Dv(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=X(),c=wt(),u=Hs(e,{relative:i});return v.useCallback(d=>{if(mv(d,t)){d.preventDefault();let f=n!==void 0?n:Ts(c)===Ts(u);l(e,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,n,r,t,e,s,i,o])}function En(e){lt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(Ul(e)),n=v.useRef(!1),r=wt(),s=v.useMemo(()=>pv(r.search,n.current?null:t.current),[r.search]),i=X(),o=v.useCallback((l,c)=>{const u=Ul(typeof l=="function"?l(new URLSearchParams(s)):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}var Uv=0,Fv=()=>`__${String(++Uv)}__`;function $v(){let{router:e}=fp("useSubmit"),{basename:t}=v.useContext(yt),n=sv();return v.useCallback(async(r,s={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=yv(r,t);if(s.navigate===!1){let d=s.fetcherKey||Fv();await e.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function Bv(e,{relative:t}={}){let{basename:n}=v.useContext(yt),r=v.useContext(vt);ue(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Hs(e||".",{relative:t})},o=wt();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Bt([n,i.pathname])),Ts(i)}function Hv(e,{relative:t}={}){let n=v.useContext(rp);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fp("useViewTransitionState"),s=Hs(e,{relative:t});if(!n.isTransitioning)return!1;let i=Jt(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Jt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mi(s.pathname,o)!=null||mi(s.pathname,i)!=null}const zv=()=>{const{pathname:e}=wt();return v.useEffect(()=>{window.scrollTo(0,0)},[e]),null};var Dd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},Vv=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],l=e[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},pp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,l=o?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let h=(l&15)<<2|u>>6,p=u&63;c||(p=64,o||(h=64)),r.push(n[d],n[f],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(mp(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Vv(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const u=s<e.length?n[e.charAt(s)]:64;++s;const f=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new Wv;const h=i<<2|l>>4;if(r.push(h),u!==64){const p=l<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Wv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gv=function(e){const t=mp(e);return pp.encodeByteArray(t,!0)},gp=function(e){return Gv(e).replace(/\./g,"")},xp=function(e){try{return pp.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=()=>Jv().__FIREBASE_DEFAULTS__,Kv=()=>{if(typeof process>"u"||typeof Dd>"u")return;const e=Dd.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Yv=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&xp(e[1]);return t&&JSON.parse(t)},Zc=()=>{try{return qv()||Kv()||Yv()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Qv=e=>{var t,n;return(n=(t=Zc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},yp=()=>{var e;return(e=Zc())===null||e===void 0?void 0:e.config},vp=e=>{var t;return(t=Zc())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function ew(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tw(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function nw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rw(){const e=De();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function sw(){try{return typeof indexedDB=="object"}catch{return!1}}function aw(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="FirebaseError";class In extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=iw,Object.setPrototypeOf(this,In.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zs.prototype.create)}}class zs{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?ow(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new In(s,l,r)}}function ow(e,t){return e.replace(lw,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const lw=/\{\$([^}]+)}/g;function cw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function pi(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(Ud(i)&&Ud(o)){if(!pi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ud(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function uw(e,t){const n=new dw(e,t);return n.subscribe.bind(n)}class dw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hw(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Io),s.error===void 0&&(s.error=Io),s.complete===void 0&&(s.complete=Io);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hw(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Io(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(e){return e&&e._delegate?e._delegate:e}let gi=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Xv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pw(t))try{this.getOrInitializeService({instanceIdentifier:Tn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Tn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Tn){return this.instances.has(t)}getOptions(t=Tn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mw(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Tn){return this.component?this.component.multipleInstances?t:Tn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mw(e){return e===Tn?void 0:e}function pw(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new fw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(oe||(oe={}));const xw={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},yw=oe.INFO,vw={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},ww=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=vw[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let bw=class{constructor(t){this.name=t,this._logLevel=yw,this._logHandler=ww,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...t),this._logHandler(this,oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...t),this._logHandler(this,oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...t),this._logHandler(this,oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...t),this._logHandler(this,oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...t),this._logHandler(this,oe.ERROR,...t)}};const Nw=(e,t)=>t.some(n=>e instanceof n);let Fd,$d;function jw(){return Fd||(Fd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cw(){return $d||($d=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wp=new WeakMap,Fl=new WeakMap,bp=new WeakMap,_o=new WeakMap,eu=new WeakMap;function Sw(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(wn(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&wp.set(n,e)}).catch(()=>{}),eu.set(t,e),t}function kw(e){if(Fl.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Fl.set(e,t)}let $l={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Fl.get(e);if(t==="objectStoreNames")return e.objectStoreNames||bp.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ew(e){$l=e($l)}function Iw(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ao(this),t,...n);return bp.set(r,t.sort?t.sort():[t]),wn(r)}:Cw().includes(e)?function(...t){return e.apply(Ao(this),t),wn(wp.get(this))}:function(...t){return wn(e.apply(Ao(this),t))}}function _w(e){return typeof e=="function"?Iw(e):(e instanceof IDBTransaction&&kw(e),Nw(e,jw())?new Proxy(e,$l):e)}function wn(e){if(e instanceof IDBRequest)return Sw(e);if(_o.has(e))return _o.get(e);const t=_w(e);return t!==e&&(_o.set(e,t),eu.set(t,e)),t}const Ao=e=>eu.get(e);function Aw(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),l=wn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(wn(o.result),c.oldVersion,c.newVersion,wn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Rw=["get","getKey","getAll","getAllKeys","count"],Tw=["put","add","delete","clear"],Ro=new Map;function Bd(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ro.get(t))return Ro.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Tw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Rw.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Ro.set(t,i),i}Ew(e=>({...e,get:(t,n,r)=>Bd(t,n)||e.get(t,n,r),has:(t,n)=>!!Bd(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Lw(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Bl="@firebase/app",Hd="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt=new bw("@firebase/app"),Mw="@firebase/app-compat",Ow="@firebase/analytics-compat",Dw="@firebase/analytics",Uw="@firebase/app-check-compat",Fw="@firebase/app-check",$w="@firebase/auth",Bw="@firebase/auth-compat",Hw="@firebase/database",zw="@firebase/data-connect",Vw="@firebase/database-compat",Ww="@firebase/functions",Gw="@firebase/functions-compat",Jw="@firebase/installations",qw="@firebase/installations-compat",Kw="@firebase/messaging",Yw="@firebase/messaging-compat",Qw="@firebase/performance",Xw="@firebase/performance-compat",Zw="@firebase/remote-config",eb="@firebase/remote-config-compat",tb="@firebase/storage",nb="@firebase/storage-compat",rb="@firebase/firestore",sb="@firebase/vertexai-preview",ab="@firebase/firestore-compat",ib="firebase",ob="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="[DEFAULT]",lb={[Bl]:"fire-core",[Mw]:"fire-core-compat",[Dw]:"fire-analytics",[Ow]:"fire-analytics-compat",[Fw]:"fire-app-check",[Uw]:"fire-app-check-compat",[$w]:"fire-auth",[Bw]:"fire-auth-compat",[Hw]:"fire-rtdb",[zw]:"fire-data-connect",[Vw]:"fire-rtdb-compat",[Ww]:"fire-fn",[Gw]:"fire-fn-compat",[Jw]:"fire-iid",[qw]:"fire-iid-compat",[Kw]:"fire-fcm",[Yw]:"fire-fcm-compat",[Qw]:"fire-perf",[Xw]:"fire-perf-compat",[Zw]:"fire-rc",[eb]:"fire-rc-compat",[tb]:"fire-gcs",[nb]:"fire-gcs-compat",[rb]:"fire-fst",[ab]:"fire-fst-compat",[sb]:"fire-vertex","fire-js":"fire-js",[ib]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Map,cb=new Map,zl=new Map;function zd(e,t){try{e.container.addComponent(t)}catch(n){qt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ps(e){const t=e.name;if(zl.has(t))return qt.debug(`There were multiple attempts to register component ${t}.`),!1;zl.set(t,e);for(const n of xi.values())zd(n,e);for(const n of cb.values())zd(n,e);return!0}function Np(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ot(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bn=new zs("app","Firebase",ub);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=ob;function jp(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Hl,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw bn.create("bad-app-name",{appName:String(s)});if(n||(n=yp()),!n)throw bn.create("no-options");const i=xi.get(s);if(i){if(pi(n,i.options)&&pi(r,i.config))return i;throw bn.create("duplicate-app",{appName:s})}const o=new gw(s);for(const c of zl.values())o.addComponent(c);const l=new db(n,r,o);return xi.set(s,l),l}function hb(e=Hl){const t=xi.get(e);if(!t&&e===Hl&&yp())return jp();if(!t)throw bn.create("no-app",{appName:e});return t}function xr(e,t,n){var r;let s=(r=lb[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${t}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qt.warn(l.join(" "));return}Ps(new gi(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="firebase-heartbeat-database",mb=1,Ls="firebase-heartbeat-store";let To=null;function Cp(){return To||(To=Aw(fb,mb,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ls)}catch(n){console.warn(n)}}}}).catch(e=>{throw bn.create("idb-open",{originalErrorMessage:e.message})})),To}async function pb(e){try{const n=(await Cp()).transaction(Ls),r=await n.objectStore(Ls).get(Sp(e));return await n.done,r}catch(t){if(t instanceof In)qt.warn(t.message);else{const n=bn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qt.warn(n.message)}}}async function Vd(e,t){try{const r=(await Cp()).transaction(Ls,"readwrite");await r.objectStore(Ls).put(t,Sp(e)),await r.done}catch(n){if(n instanceof In)qt.warn(n.message);else{const r=bn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qt.warn(r.message)}}}function Sp(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=1024,xb=30*24*60*60*1e3;class yb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Wd();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=xb}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qt.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wd(),{heartbeatsToSend:r,unsentEntries:s}=vb(this._heartbeatsCache.heartbeats),i=gp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return qt.warn(n),""}}}function Wd(){return new Date().toISOString().substring(0,10)}function vb(e,t=gb){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Gd(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Gd(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sw()?aw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vd(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vd(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Gd(e){return gp(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(e){Ps(new gi("platform-logger",t=>new Pw(t),"PRIVATE")),Ps(new gi("heartbeat",t=>new yb(t),"PRIVATE")),xr(Bl,Hd,e),xr(Bl,Hd,"esm2017"),xr("fire-js","")}bb("");var Nb="firebase",jb="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(Nb,jb,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ne||(ne={}));const Cb={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},Sb=ne.INFO,kb={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},Eb=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=kb[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ib{constructor(t){this.name=t,this._logLevel=Sb,this._logHandler=Eb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Cb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}function tu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}class Jd{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}function kp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _b=kp,Ep=new zs("auth","Firebase",kp());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Ib("@firebase/auth");function Ab(e,...t){yi.logLevel<=ne.WARN&&yi.warn(`Auth (${Ws}): ${e}`,...t)}function Oa(e,...t){yi.logLevel<=ne.ERROR&&yi.error(`Auth (${Ws}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(e,...t){throw ru(e,...t)}function gt(e,...t){return ru(e,...t)}function nu(e,t,n){const r=Object.assign(Object.assign({},_b()),{[t]:n});return new zs("auth","Firebase",r).create(t,{appName:e.name})}function $n(e){return nu(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rb(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&_t(e,"argument-error"),nu(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ru(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Ep.create(e,...t)}function z(e,t,...n){if(!e)throw ru(t,...n)}function Dt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Oa(t),new Error(t)}function Kt(e,t){e||Dt(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Tb(){return qd()==="http:"||qd()==="https:"}function qd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tb()||tw()||"connection"in navigator)?navigator.onLine:!0}function Lb(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n){this.shortDelay=t,this.longDelay=n,Kt(n>t,"Short delay should be less than long delay!"),this.isMobile=Zv()||nw()}get(){return Pb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(e,t){Kt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Gs(3e4,6e4);function au(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Dr(e,t,n,r,s={}){return _p(e,s,async()=>{let i={},o={};r&&(t==="GET"?o=r:i={body:JSON.stringify(r)});const l=Vs(Object.assign({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:c},i);return ew()||(u.referrerPolicy="no-referrer"),Ip.fetch()(Ap(e,e.config.apiHost,n,l),u)})}async function _p(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mb),t);try{const s=new Ub(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw va(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw va(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw va(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw va(e,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nu(e,d,u);_t(e,d)}}catch(s){if(s instanceof In)throw s;_t(e,"network-request-failed",{message:String(s)})}}async function Db(e,t,n,r,s={}){const i=await Dr(e,t,n,r,s);return"mfaPendingCredential"in i&&_t(e,"multi-factor-auth-required",{_serverResponse:i}),i}function Ap(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?su(e.config,s):`${e.config.apiScheme}://${s}`}class Ub{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gt(this.auth,"network-request-failed")),Ob.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function va(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=gt(e,t,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(e,t){return Dr(e,"POST","/v1/accounts:delete",t)}async function Rp(e,t){return Dr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $b(e,t=!1){const n=Qt(e),r=await n.getIdToken(t),s=iu(r);z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ms(Po(s.auth_time)),issuedAtTime:ms(Po(s.iat)),expirationTime:ms(Po(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Po(e){return Number(e)*1e3}function iu(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Oa("JWT malformed, contained fewer than 3 sections"),null;try{const s=xp(n);return s?JSON.parse(s):(Oa("Failed to decode base64 JWT payload"),null)}catch(s){return Oa("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Kd(e){const t=iu(e);return z(t,"internal-error"),z(typeof t.exp<"u","internal-error"),z(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof In&&Bb(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Bb({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ms(this.lastLoginAt),this.creationTime=ms(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vi(e){var t;const n=e.auth,r=await e.getIdToken(),s=await Ms(e,Rp(n,{idToken:r}));z(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const o=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?Tp(i.providerUserInfo):[],l=Vb(e.providerData,o),c=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Wl(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,f)}async function zb(e){const t=Qt(e);await vi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Vb(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function Tp(e){return e.map(t=>{var{providerId:n}=t,r=tu(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(e,t){const n=await _p(e,{},async()=>{const r=Vs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,o=Ap(e,s,"/v1/token",`key=${i}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Ip.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Gb(e,t){return Dr(e,"POST","/v2/accounts:revokeToken",au(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){z(t.idToken,"internal-error"),z(typeof t.idToken<"u","internal-error"),z(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Kd(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){z(t.length!==0,"internal-error");const n=Kd(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Wb(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new yr;return r&&(z(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),s&&(z(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(z(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new yr,this.toJSON())}_performRefresh(){return Dt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(e,t){z(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ut{constructor(t){var{uid:n,auth:r,stsTokenManager:s}=t,i=tu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Wl(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Ms(this,this.stsTokenManager.getToken(this.auth,t));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return $b(this,t)}reload(){return zb(this)}_assign(t){this!==t&&(z(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ut(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await vi(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ot(this.auth.app))return Promise.reject($n(this.auth));const t=await this.getIdToken();return await Ms(this,Fb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,s,i,o,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(l=n.tenantId)!==null&&l!==void 0?l:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:N,isAnonymous:S,providerData:A,stsTokenManager:k}=n;z(y&&k,t,"internal-error");const I=yr.fromJSON(this.name,k);z(typeof y=="string",t,"internal-error"),tn(f,t.name),tn(h,t.name),z(typeof N=="boolean",t,"internal-error"),z(typeof S=="boolean",t,"internal-error"),tn(p,t.name),tn(g,t.name),tn(b,t.name),tn(w,t.name),tn(m,t.name),tn(x,t.name);const L=new Ut({uid:y,auth:t,email:h,emailVerified:N,displayName:f,isAnonymous:S,photoURL:g,phoneNumber:p,tenantId:b,stsTokenManager:I,createdAt:m,lastLoginAt:x});return A&&Array.isArray(A)&&(L.providerData=A.map(j=>Object.assign({},j))),w&&(L._redirectEventId=w),L}static async _fromIdTokenResponse(t,n,r=!1){const s=new yr;s.updateFromServerResponse(n);const i=new Ut({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await vi(i),i}static async _fromGetAccountInfoResponse(t,n,r){const s=n.users[0];z(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Tp(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new yr;l.updateFromIdToken(r);const c=new Ut({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Wl(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new Map;function Ft(e){Kt(e instanceof Function,"Expected a class definition");let t=Yd.get(e);return t?(Kt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Yd.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Pp.type="NONE";const Qd=Pp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(e,t,n){return`firebase:${e}:${t}:${n}`}class vr{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Da(this.userKey,s.apiKey,i),this.fullPersistenceKey=Da("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ut._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new vr(Ft(Qd),t,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ft(Qd);const o=Da(r,t.config.apiKey,t.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const f=Ut._fromJSON(t,d);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new vr(i,t,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new vr(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Dp(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Lp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Fp(t))return"Blackberry";if($p(t))return"Webos";if(Mp(t))return"Safari";if((t.includes("chrome/")||Op(t))&&!t.includes("edge/"))return"Chrome";if(Up(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Lp(e=De()){return/firefox\//i.test(e)}function Mp(e=De()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Op(e=De()){return/crios\//i.test(e)}function Dp(e=De()){return/iemobile/i.test(e)}function Up(e=De()){return/android/i.test(e)}function Fp(e=De()){return/blackberry/i.test(e)}function $p(e=De()){return/webos/i.test(e)}function ou(e=De()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Jb(e=De()){var t;return ou(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function qb(){return rw()&&document.documentMode===10}function Bp(e=De()){return ou(e)||Up(e)||$p(e)||Fp(e)||/windows phone/i.test(e)||Dp(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(e,t=[]){let n;switch(e){case"Browser":n=Xd(De());break;case"Worker":n=`${Xd(De())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ws}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=i=>new Promise((o,l)=>{try{const c=t(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(e,t={}){return Dr(e,"GET","/v2/passwordPolicy",au(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=6;class Xb{constructor(t){var n,r,s,i;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Qb,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=t.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<t.length;s++)r=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t,n,r,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zd(this),this.idTokenSubscription=new Zd(this),this.beforeStateQueue=new Kb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ep,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ft(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await vr.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Rp(this,{idToken:t}),r=await Ut._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Ot(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await vi(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Lb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ot(this.app))return Promise.reject($n(this));const n=t?Qt(t):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&z(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ot(this.app)?Promise.reject($n(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ot(this.app)?Promise.reject($n(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ft(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Yb(this),n=new Xb(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new zs("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Gb(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ft(t)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=await vr.create(this,[Ft(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=t.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=t.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Hp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Ab(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zi(e){return Qt(e)}class Zd{constructor(t){this.auth=t,this.observer=null,this.addObserver=uw(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eN(e){lu=e}function tN(e){return lu.loadJS(e)}function nN(){return lu.gapiScript}function rN(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(e,t){const n=Np(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(pi(i,t??{}))return s;_t(s,"already-initialized")}return n.initialize({options:t})}function aN(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ft);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function iN(e,t,n){const r=zi(e);z(r._canInitEmulator,r,"emulator-config-failed"),z(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!1,i=zp(t),{host:o,port:l}=oN(t),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),lN()}function zp(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function oN(e){const t=zp(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:eh(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:eh(o)}}}function eh(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function lN(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Dt("not implemented")}_getIdTokenResponse(t){return Dt("not implemented")}_linkToIdToken(t,n){return Dt("not implemented")}_getReauthenticationResolver(t){return Dt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wr(e,t){return Db(e,"POST","/v1/accounts:signInWithIdp",au(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="http://localhost";class qn extends Vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new qn(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):_t("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s}=n,i=tu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new qn(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return wr(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,wr(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,wr(t,n)}buildRequest(){const t={requestUri:cN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Vs(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends cu{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on extends Js{constructor(){super("facebook.com")}static credential(t){return qn._fromParams({providerId:on.PROVIDER_ID,signInMethod:on.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return on.credentialFromTaggedObject(t)}static credentialFromError(t){return on.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return on.credential(t.oauthAccessToken)}catch{return null}}}on.FACEBOOK_SIGN_IN_METHOD="facebook.com";on.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt extends Js{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return qn._fromParams({providerId:Pt.PROVIDER_ID,signInMethod:Pt.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Pt.credentialFromTaggedObject(t)}static credentialFromError(t){return Pt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Pt.credential(n,r)}catch{return null}}}Pt.GOOGLE_SIGN_IN_METHOD="google.com";Pt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln extends Js{constructor(){super("github.com")}static credential(t){return qn._fromParams({providerId:ln.PROVIDER_ID,signInMethod:ln.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ln.credentialFromTaggedObject(t)}static credentialFromError(t){return ln.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ln.credential(t.oauthAccessToken)}catch{return null}}}ln.GITHUB_SIGN_IN_METHOD="github.com";ln.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends Js{constructor(){super("twitter.com")}static credential(t,n){return qn._fromParams({providerId:cn.PROVIDER_ID,signInMethod:cn.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return cn.credentialFromTaggedObject(t)}static credentialFromError(t){return cn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return cn.credential(n,r)}catch{return null}}}cn.TWITTER_SIGN_IN_METHOD="twitter.com";cn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await Ut._fromIdTokenResponse(t,r,s),o=th(r);return new Ir({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=th(r);return new Ir({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function th(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends In{constructor(t,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,wi.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new wi(t,n,r,s)}}function Wp(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?wi._fromErrorAndOperation(e,i,t,r):i})}async function uN(e,t,n=!1){const r=await Ms(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ir._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(e,t,n=!1){const{auth:r}=e;if(Ot(r.app))return Promise.reject($n(r));const s="reauthenticate";try{const i=await Ms(e,Wp(r,s,t,e),n);z(i.idToken,r,"internal-error");const o=iu(i.idToken);z(o,r,"internal-error");const{sub:l}=o;return z(e.uid===l,r,"user-mismatch"),Ir._forOperation(e,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&_t(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(e,t,n=!1){if(Ot(e.app))return Promise.reject($n(e));const r="signIn",s=await Wp(e,r,t),i=await Ir._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(e,t){return Qt(e).setPersistence(t)}function mN(e,t,n,r){return Qt(e).onIdTokenChanged(t,n,r)}function pN(e,t,n){return Qt(e).beforeAuthStateChanged(t,n)}function gN(e,t,n,r){return Qt(e).onAuthStateChanged(t,n,r)}function xN(e){return Qt(e).signOut()}const bi="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bi,"1"),this.storage.removeItem(bi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=1e3,vN=10;class Jp extends Gp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bp(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);qb()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,vN):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},yN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Jp.type="LOCAL";const qp=Jp;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends Gp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Kp.type="SESSION";const Yp=Kp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new Vi(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await wN(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vi.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=uu("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(h.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return window}function NN(e){It().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(){return typeof It().WorkerGlobalScope<"u"&&typeof It().importScripts=="function"}async function jN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CN(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function SN(){return Qp()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="firebaseLocalStorageDb",kN=1,Ni="firebaseLocalStorage",Zp="fbase_key";class qs{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wi(e,t){return e.transaction([Ni],t?"readwrite":"readonly").objectStore(Ni)}function EN(){const e=indexedDB.deleteDatabase(Xp);return new qs(e).toPromise()}function Gl(){const e=indexedDB.open(Xp,kN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Ni,{keyPath:Zp})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Ni)?t(r):(r.close(),await EN(),t(await Gl()))})})}async function nh(e,t,n){const r=Wi(e,!0).put({[Zp]:t,value:n});return new qs(r).toPromise()}async function IN(e,t){const n=Wi(e,!1).get(t),r=await new qs(n).toPromise();return r===void 0?null:r.value}function rh(e,t){const n=Wi(e,!0).delete(t);return new qs(n).toPromise()}const _N=800,AN=3;class eg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gl(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>AN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vi._getInstance(SN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await jN(),!this.activeServiceWorker)return;this.sender=new bN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||CN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gl();return await nh(t,bi,"1"),await rh(t,bi),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nh(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>IN(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>rh(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Wi(s,!1).getAll();return new qs(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eg.type="LOCAL";const RN=eg;new Gs(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(e,t){return t?Ft(t):(z(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends Vp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return wr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return wr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function TN(e){return hN(e.auth,new du(e),e.bypassAuthState)}function PN(e){const{auth:t,user:n}=e;return z(n,t,"internal-error"),dN(n,new du(e),e.bypassAuthState)}async function LN(e){const{auth:t,user:n}=e;return z(n,t,"internal-error"),uN(n,new du(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TN;case"linkViaPopup":case"linkViaRedirect":return LN;case"reauthViaPopup":case"reauthViaRedirect":return PN;default:_t(this.auth,"internal-error")}}resolve(t){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new Gs(2e3,1e4);async function ON(e,t,n){if(Ot(e.app))return Promise.reject(gt(e,"operation-not-supported-in-this-environment"));const r=zi(e);Rb(e,t,cu);const s=tg(r,n);return new On(r,"signInViaPopup",t,s).executeNotNull()}class On extends ng{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,On.currentPopupAction&&On.currentPopupAction.cancel(),On.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return z(t,this.auth,"internal-error"),t}async onExecution(){Kt(this.filter.length===1,"Popup operations only handle one event");const t=uu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(gt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,On.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,MN.get())};t()}}On.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="pendingRedirect",Ua=new Map;class UN extends ng{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Ua.get(this.auth._key());if(!t){try{const r=await FN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Ua.set(this.auth._key(),t)}return this.bypassAuthState||Ua.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FN(e,t){const n=HN(t),r=BN(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function $N(e,t){Ua.set(e._key(),t)}function BN(e){return Ft(e._redirectPersistence)}function HN(e){return Da(DN,e.config.apiKey,e.name)}async function zN(e,t,n=!1){if(Ot(e.app))return Promise.reject($n(e));const r=zi(e),s=tg(r,t),o=await new UN(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=10*60*1e3;class WN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!GN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!rg(t)){const s=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gt(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=VN&&this.cachedEventUids.clear(),this.cachedEventUids.has(sh(t))}saveEventToCache(t){this.cachedEventUids.add(sh(t)),this.lastProcessedEventTime=Date.now()}}function sh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function rg({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function GN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rg(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(e,t={}){return Dr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KN=/^https?/;async function YN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await JN(e);for(const n of t)try{if(QN(n))return}catch{}_t(e,"unauthorized-domain")}function QN(e){const t=Vl(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KN.test(n))return!1;if(qN.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new Gs(3e4,6e4);function ah(){const e=It().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function ZN(e){return new Promise((t,n)=>{var r,s,i;function o(){ah(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ah(),n(gt(e,"network-request-failed"))},timeout:XN.get()})}if(!((s=(r=It().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((i=It().gapi)===null||i===void 0)&&i.load)o();else{const l=rN("iframefcb");return It()[l]=()=>{gapi.load?o():n(gt(e,"network-request-failed"))},tN(`${nN()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw Fa=null,t})}let Fa=null;function ej(e){return Fa=Fa||ZN(e),Fa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=new Gs(5e3,15e3),nj="__/auth/iframe",rj="emulator/auth/iframe",sj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ij(e){const t=e.config;z(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?su(t,rj):`https://${e.config.authDomain}/${nj}`,r={apiKey:t.apiKey,appName:e.name,v:Ws},s=aj.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Vs(r).slice(1)}`}async function oj(e){const t=await ej(e),n=It().gapi;return z(n,e,"internal-error"),t.open({where:document.body,url:ij(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=gt(e,"network-request-failed"),l=It().setTimeout(()=>{i(o)},tj.get());function c(){It().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cj=500,uj=600,dj="_blank",hj="http://localhost";class ih{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fj(e,t,n,r=cj,s=uj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},lj),{width:r.toString(),height:s.toString(),top:i,left:o}),u=De().toLowerCase();n&&(l=Op(u)?dj:n),Lp(u)&&(t=t||hj,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(Jb(u)&&l!=="_self")return mj(t||"",l),new ih(null);const f=window.open(t||"",l,d);z(f,e,"popup-blocked");try{f.focus()}catch{}return new ih(f)}function mj(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="__/auth/handler",gj="emulator/auth/handler",xj=encodeURIComponent("fac");async function oh(e,t,n,r,s,i){z(e.config.authDomain,e,"auth-domain-config-required"),z(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ws,eventId:s};if(t instanceof cu){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",cw(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(t instanceof Js){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await e._getAppCheckToken(),u=c?`#${xj}=${encodeURIComponent(c)}`:"";return`${yj(e)}?${Vs(l).slice(1)}${u}`}function yj({config:e}){return e.emulator?su(e,gj):`https://${e.authDomain}/${pj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="webStorageSupport";class vj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yp,this._completeRedirectFn=zN,this._overrideRedirectResult=$N}async _openPopup(t,n,r,s){var i;Kt((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await oh(t,n,r,Vl(),s);return fj(t,o,uu())}async _openRedirect(t,n,r,s){await this._originValidation(t);const i=await oh(t,n,r,Vl(),s);return NN(i),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Kt(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await oj(t),r=new WN(t);return n.register("authEvent",s=>(z(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Lo,{type:Lo},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Lo];o!==void 0&&n(!!o),_t(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Bp()||Mp()||ou()}}const wj=vj;var lh="@firebase/auth",ch="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jj(e){Ps(new Jd("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hp(e)},u=new Zb(r,s,i,c);return aN(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ps(new Jd("auth-internal",t=>{const n=zi(t.getProvider("auth").getImmediate());return(r=>new bj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(lh,ch,Nj(e)),xr(lh,ch,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=5*60,Sj=vp("authIdTokenMaxAge")||Cj;let uh=null;const kj=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Sj)return;const s=n==null?void 0:n.token;uh!==s&&(uh=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Gi(e=hb()){const t=Np(e,"auth");if(t.isInitialized())return t.getImmediate();const n=sN(e,{popupRedirectResolver:wj,persistence:[RN,qp,Yp]}),r=vp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=kj(i.toString());pN(n,o,()=>o(n.currentUser)),mN(n,l=>o(l))}}const s=Qv("auth");return s&&iN(n,`http://${s}`),n}function Ej(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}eN({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=gt("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Ej().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jj("Browser");const Ij={apiKey:"AIzaSyCjpoH763y2GH4VDc181IUBaZHqE_ryZ1c",authDomain:"gofast-a5f94.firebaseapp.com",projectId:"gofast-a5f94",storageBucket:"gofast-a5f94.firebasestorage.app",messagingSenderId:"500941094498",appId:"1:500941094498:web:4008d94b89a9e3a4889b3b",measurementId:"G-CQ0GJCJLXX"},_j=jp(Ij),ye=Gi(_j);fN(ye,qp).catch(e=>{console.error("Failed to set auth persistence:",e)});const Ji=new Pt;Ji.setCustomParameters({prompt:"select_account"});Ji.addScope("email");Ji.addScope("profile");async function hu(){try{console.log(" Firebase: Signing in user with Google...");const t=(await ON(ye,Ji)).user;return console.log(" Firebase: User signed in"),console.log(" Email:",t.email),console.log(" UID:",t.uid),{uid:t.uid,email:t.email,name:t.displayName,photoURL:t.photoURL}}catch(e){throw console.error(" Firebase: Sign-in error:",e),e}}const Aj=()=>{const e=X(),[t,n]=v.useState(!0),[r,s]=v.useState(!1);return v.useEffect(()=>{const i=ye.onAuthStateChanged(o=>{s(!!o),n(!1)});return()=>i()},[]),v.useEffect(()=>{if(!t){const i=setTimeout(()=>{e(r?"/athlete-welcome":"/athletesignup")},2e3);return()=>clearTimeout(i)}},[t,r,e]),t?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"w-16 h-16 bg-white rounded-full mx-auto mb-4"})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center",children:a.jsx("div",{className:"animate-fade-in",children:a.jsx("img",{src:"/logo.jpg",alt:"GoFast Logo",className:"w-48 h-48 rounded-full shadow-2xl mx-auto"})})})};function sg(e,t){return function(){return e.apply(t,arguments)}}const{toString:Rj}=Object.prototype,{getPrototypeOf:fu}=Object,{iterator:qi,toStringTag:ag}=Symbol,Ki=(e=>t=>{const n=Rj.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),bt=e=>(e=e.toLowerCase(),t=>Ki(t)===e),Yi=e=>t=>typeof t===e,{isArray:Ur}=Array,_r=Yi("undefined");function Ks(e){return e!==null&&!_r(e)&&e.constructor!==null&&!_r(e.constructor)&&We(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ig=bt("ArrayBuffer");function Tj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ig(e.buffer),t}const Pj=Yi("string"),We=Yi("function"),og=Yi("number"),Ys=e=>e!==null&&typeof e=="object",Lj=e=>e===!0||e===!1,$a=e=>{if(Ki(e)!=="object")return!1;const t=fu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ag in e)&&!(qi in e)},Mj=e=>{if(!Ys(e)||Ks(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Oj=bt("Date"),Dj=bt("File"),Uj=bt("Blob"),Fj=bt("FileList"),$j=e=>Ys(e)&&We(e.pipe),Bj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||We(e.append)&&((t=Ki(e))==="formdata"||t==="object"&&We(e.toString)&&e.toString()==="[object FormData]"))},Hj=bt("URLSearchParams"),[zj,Vj,Wj,Gj]=["ReadableStream","Request","Response","Headers"].map(bt),Jj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Ur(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Ks(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function lg(e,t){if(Ks(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Dn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cg=e=>!_r(e)&&e!==Dn;function Jl(){const{caseless:e,skipUndefined:t}=cg(this)&&this||{},n={},r=(s,i)=>{const o=e&&lg(n,i)||i;$a(n[o])&&$a(s)?n[o]=Jl(n[o],s):$a(s)?n[o]=Jl({},s):Ur(s)?n[o]=s.slice():(!t||!_r(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Qs(arguments[s],r);return n}const qj=(e,t,n,{allOwnKeys:r}={})=>(Qs(t,(s,i)=>{n&&We(s)?e[i]=sg(s,n):e[i]=s},{allOwnKeys:r}),e),Kj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Yj=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Qj=(e,t,n,r)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&fu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Xj=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Zj=e=>{if(!e)return null;if(Ur(e))return e;let t=e.length;if(!og(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},e1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&fu(Uint8Array)),t1=(e,t)=>{const r=(e&&e[qi]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},n1=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},r1=bt("HTMLFormElement"),s1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),dh=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),a1=bt("RegExp"),ug=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Qs(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},i1=e=>{ug(e,(t,n)=>{if(We(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(We(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},o1=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ur(e)?r(e):r(String(e).split(t)),n},l1=()=>{},c1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function u1(e){return!!(e&&We(e.append)&&e[ag]==="FormData"&&e[qi])}const d1=e=>{const t=new Array(10),n=(r,s)=>{if(Ys(r)){if(t.indexOf(r)>=0)return;if(Ks(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Ur(r)?[]:{};return Qs(r,(o,l)=>{const c=n(o,s+1);!_r(c)&&(i[l]=c)}),t[s]=void 0,i}}return r};return n(e,0)},h1=bt("AsyncFunction"),f1=e=>e&&(Ys(e)||We(e))&&We(e.then)&&We(e.catch),dg=((e,t)=>e?setImmediate:t?((n,r)=>(Dn.addEventListener("message",({source:s,data:i})=>{s===Dn&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Dn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",We(Dn.postMessage)),m1=typeof queueMicrotask<"u"?queueMicrotask.bind(Dn):typeof process<"u"&&process.nextTick||dg,p1=e=>e!=null&&We(e[qi]),E={isArray:Ur,isArrayBuffer:ig,isBuffer:Ks,isFormData:Bj,isArrayBufferView:Tj,isString:Pj,isNumber:og,isBoolean:Lj,isObject:Ys,isPlainObject:$a,isEmptyObject:Mj,isReadableStream:zj,isRequest:Vj,isResponse:Wj,isHeaders:Gj,isUndefined:_r,isDate:Oj,isFile:Dj,isBlob:Uj,isRegExp:a1,isFunction:We,isStream:$j,isURLSearchParams:Hj,isTypedArray:e1,isFileList:Fj,forEach:Qs,merge:Jl,extend:qj,trim:Jj,stripBOM:Kj,inherits:Yj,toFlatObject:Qj,kindOf:Ki,kindOfTest:bt,endsWith:Xj,toArray:Zj,forEachEntry:t1,matchAll:n1,isHTMLForm:r1,hasOwnProperty:dh,hasOwnProp:dh,reduceDescriptors:ug,freezeMethods:i1,toObjectSet:o1,toCamelCase:s1,noop:l1,toFiniteNumber:c1,findKey:lg,global:Dn,isContextDefined:cg,isSpecCompliantForm:u1,toJSONObject:d1,isAsyncFn:h1,isThenable:f1,setImmediate:dg,asap:m1,isIterable:p1};function G(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}E.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const hg=G.prototype,fg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{fg[e]={value:e}});Object.defineProperties(G,fg);Object.defineProperty(hg,"isAxiosError",{value:!0});G.from=(e,t,n,r,s,i)=>{const o=Object.create(hg);E.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return G.call(o,l,c,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const g1=null;function ql(e){return E.isPlainObject(e)||E.isArray(e)}function mg(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function hh(e,t,n){return e?e.concat(t).map(function(s,i){return s=mg(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function x1(e){return E.isArray(e)&&!e.some(ql)}const y1=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function Qi(e,t,n){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!E.isUndefined(w[b])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(E.isDate(g))return g.toISOString();if(E.isBoolean(g))return g.toString();if(!c&&E.isBlob(g))throw new G("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(g)||E.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,b,w){let m=g;if(g&&!w&&typeof g=="object"){if(E.endsWith(b,"{}"))b=r?b:b.slice(0,-2),g=JSON.stringify(g);else if(E.isArray(g)&&x1(g)||(E.isFileList(g)||E.endsWith(b,"[]"))&&(m=E.toArray(g)))return b=mg(b),m.forEach(function(y,N){!(E.isUndefined(y)||y===null)&&t.append(o===!0?hh([b],N,i):o===null?b:b+"[]",u(y))}),!1}return ql(g)?!0:(t.append(hh(w,b,i),u(g)),!1)}const f=[],h=Object.assign(y1,{defaultVisitor:d,convertValue:u,isVisitable:ql});function p(g,b){if(!E.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(g),E.forEach(g,function(m,x){(!(E.isUndefined(m)||m===null)&&s.call(t,m,E.isString(x)?x.trim():x,b,h))===!0&&p(m,b?b.concat(x):[x])}),f.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return p(e),t}function fh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function mu(e,t){this._pairs=[],e&&Qi(e,this,t)}const pg=mu.prototype;pg.append=function(t,n){this._pairs.push([t,n])};pg.toString=function(t){const n=t?function(r){return t.call(this,r,fh)}:fh;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function v1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function gg(e,t,n){if(!t)return e;const r=n&&n.encode||v1;E.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=E.isURLSearchParams(t)?t.toString():new mu(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class mh{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(r){r!==null&&t(r)})}}const xg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},w1=typeof URLSearchParams<"u"?URLSearchParams:mu,b1=typeof FormData<"u"?FormData:null,N1=typeof Blob<"u"?Blob:null,j1={isBrowser:!0,classes:{URLSearchParams:w1,FormData:b1,Blob:N1},protocols:["http","https","file","blob","url","data"]},pu=typeof window<"u"&&typeof document<"u",Kl=typeof navigator=="object"&&navigator||void 0,C1=pu&&(!Kl||["ReactNative","NativeScript","NS"].indexOf(Kl.product)<0),S1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",k1=pu&&window.location.href||"http://localhost",E1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pu,hasStandardBrowserEnv:C1,hasStandardBrowserWebWorkerEnv:S1,navigator:Kl,origin:k1},Symbol.toStringTag,{value:"Module"})),Te={...E1,...j1};function I1(e,t){return Qi(e,new Te.classes.URLSearchParams,{visitor:function(n,r,s,i){return Te.isNode&&E.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function _1(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function A1(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function yg(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&E.isArray(s)?s.length:o,c?(E.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!E.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&E.isArray(s[o])&&(s[o]=A1(s[o])),!l)}if(E.isFormData(e)&&E.isFunction(e.entries)){const n={};return E.forEachEntry(e,(r,s)=>{t(_1(r),s,n,0)}),n}return null}function R1(e,t,n){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Xs={transitional:xg,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=E.isObject(t);if(i&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return s?JSON.stringify(yg(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return I1(t,this.formSerializer).toString();if((l=E.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Qi(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),R1(t)):t}],transformResponse:[function(t){const n=this.transitional||Xs.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?G.from(l,G.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Te.classes.FormData,Blob:Te.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{Xs.headers[e]={}});const T1=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),P1=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&T1[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ph=Symbol("internals");function Zr(e){return e&&String(e).trim().toLowerCase()}function Ba(e){return e===!1||e==null?e:E.isArray(e)?e.map(Ba):String(e)}function L1(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const M1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Mo(e,t,n,r,s){if(E.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!E.isString(t)){if(E.isString(r))return t.indexOf(r)!==-1;if(E.isRegExp(r))return r.test(t)}}function O1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function D1(e,t){const n=E.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let Ge=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(l,c,u){const d=Zr(c);if(!d)throw new Error("header name must be a non-empty string");const f=E.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Ba(l))}const o=(l,c)=>E.forEach(l,(u,d)=>i(u,d,c));if(E.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(E.isString(t)&&(t=t.trim())&&!M1(t))o(P1(t),n);else if(E.isObject(t)&&E.isIterable(t)){let l={},c,u;for(const d of t){if(!E.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?E.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Zr(t),t){const r=E.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return L1(s);if(E.isFunction(n))return n.call(this,s,r);if(E.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Zr(t),t){const r=E.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Mo(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Zr(o),o){const l=E.findKey(r,o);l&&(!n||Mo(r,r[l],l,n))&&(delete r[l],s=!0)}}return E.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Mo(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return E.forEach(this,(s,i)=>{const o=E.findKey(r,i);if(o){n[o]=Ba(s),delete n[i];return}const l=t?O1(i):String(i).trim();l!==i&&delete n[i],n[l]=Ba(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return E.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&E.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[ph]=this[ph]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Zr(o);r[l]||(D1(s,o),r[l]=!0)}return E.isArray(t)?t.forEach(i):i(t),this}};Ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(Ge.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});E.freezeMethods(Ge);function Oo(e,t){const n=this||Xs,r=t||n,s=Ge.from(r.headers);let i=r.data;return E.forEach(e,function(l){i=l.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function vg(e){return!!(e&&e.__CANCEL__)}function Fr(e,t,n){G.call(this,e??"canceled",G.ERR_CANCELED,t,n),this.name="CanceledError"}E.inherits(Fr,G,{__CANCEL__:!0});function wg(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new G("Request failed with status code "+n.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function U1(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function F1(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[i];o||(o=u),n[s]=c,r[s]=u;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function $1(e,t){let n=0,r=1e3/t,s,i;const o=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const ji=(e,t,n=3)=>{let r=0;const s=F1(50,250);return $1(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,u=s(c),d=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},gh=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},xh=e=>(...t)=>E.asap(()=>e(...t)),B1=Te.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Te.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Te.origin),Te.navigator&&/(msie|trident)/i.test(Te.navigator.userAgent)):()=>!0,H1=Te.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];E.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),E.isString(r)&&l.push(`path=${r}`),E.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),E.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function z1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function V1(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bg(e,t,n){let r=!z1(t);return e&&(r||n==!1)?V1(e,t):t}const yh=e=>e instanceof Ge?{...e}:e;function Kn(e,t){t=t||{};const n={};function r(u,d,f,h){return E.isPlainObject(u)&&E.isPlainObject(d)?E.merge.call({caseless:h},u,d):E.isPlainObject(d)?E.merge({},d):E.isArray(d)?d.slice():d}function s(u,d,f,h){if(E.isUndefined(d)){if(!E.isUndefined(u))return r(void 0,u,f,h)}else return r(u,d,f,h)}function i(u,d){if(!E.isUndefined(d))return r(void 0,d)}function o(u,d){if(E.isUndefined(d)){if(!E.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>s(yh(u),yh(d),f,!0)};return E.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);E.isUndefined(h)&&f!==l||(n[d]=h)}),n}const Ng=e=>{const t=Kn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Ge.from(o),t.url=gg(bg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),E.isFormData(n)){if(Te.hasStandardBrowserEnv||Te.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(E.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(Te.hasStandardBrowserEnv&&(r&&E.isFunction(r)&&(r=r(t)),r||r!==!1&&B1(t.url))){const c=s&&i&&H1.read(i);c&&o.set(s,c)}return t},W1=typeof XMLHttpRequest<"u",G1=W1&&function(e){return new Promise(function(n,r){const s=Ng(e);let i=s.data;const o=Ge.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,p,g;function b(){p&&p(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function m(){if(!w)return;const y=Ge.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:y,config:e,request:w};wg(function(k){n(k),b()},function(k){r(k),b()},S),w=null}"onloadend"in w?w.onloadend=m:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(m)},w.onabort=function(){w&&(r(new G("Request aborted",G.ECONNABORTED,e,w)),w=null)},w.onerror=function(N){const S=N&&N.message?N.message:"Network Error",A=new G(S,G.ERR_NETWORK,e,w);A.event=N||null,r(A),w=null},w.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||xg;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),r(new G(N,S.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,e,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&E.forEach(o.toJSON(),function(N,S){w.setRequestHeader(S,N)}),E.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),l&&l!=="json"&&(w.responseType=s.responseType),u&&([h,g]=ji(u,!0),w.addEventListener("progress",h)),c&&w.upload&&([f,p]=ji(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=y=>{w&&(r(!y||y.type?new Fr(null,e,w):y),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const x=U1(s.url);if(x&&Te.protocols.indexOf(x)===-1){r(new G("Unsupported protocol "+x+":",G.ERR_BAD_REQUEST,e));return}w.send(i||null)})},J1=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof G?d:new Fr(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new G(`timeout ${t} of ms exceeded`,G.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>E.asap(l),c}},q1=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},K1=async function*(e,t){for await(const n of Y1(e))yield*q1(n,t)},Y1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},vh=(e,t,n,r)=>{const s=K1(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},wh=64*1024,{isFunction:wa}=E,Q1=(({Request:e,Response:t})=>({Request:e,Response:t}))(E.global),{ReadableStream:bh,TextEncoder:Nh}=E.global,jh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},X1=e=>{e=E.merge.call({skipUndefined:!0},Q1,e);const{fetch:t,Request:n,Response:r}=e,s=t?wa(t):typeof fetch=="function",i=wa(n),o=wa(r);if(!s)return!1;const l=s&&wa(bh),c=s&&(typeof Nh=="function"?(g=>b=>g.encode(b))(new Nh):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=i&&l&&jh(()=>{let g=!1;const b=new n(Te.origin,{body:new bh,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!b}),d=o&&l&&jh(()=>E.isReadableStream(new r("").body)),f={stream:d&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(b,w)=>{let m=b&&b[g];if(m)return m.call(b);throw new G(`Response type '${g}' is not supported`,G.ERR_NOT_SUPPORT,w)})});const h=async g=>{if(g==null)return 0;if(E.isBlob(g))return g.size;if(E.isSpecCompliantForm(g))return(await new n(Te.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(E.isArrayBufferView(g)||E.isArrayBuffer(g))return g.byteLength;if(E.isURLSearchParams(g)&&(g=g+""),E.isString(g))return(await c(g)).byteLength},p=async(g,b)=>{const w=E.toFiniteNumber(g.getContentLength());return w??h(b)};return async g=>{let{url:b,method:w,data:m,signal:x,cancelToken:y,timeout:N,onDownloadProgress:S,onUploadProgress:A,responseType:k,headers:I,withCredentials:L="same-origin",fetchOptions:j}=Ng(g),P=t||fetch;k=k?(k+"").toLowerCase():"text";let $=J1([x,y&&y.toAbortSignal()],N),U=null;const V=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let K;try{if(A&&u&&w!=="get"&&w!=="head"&&(K=await p(I,m))!==0){let D=new n(b,{method:"POST",body:m,duplex:"half"}),H;if(E.isFormData(m)&&(H=D.headers.get("content-type"))&&I.setContentType(H),D.body){const[be,Ne]=gh(K,ji(xh(A)));m=vh(D.body,wh,be,Ne)}}E.isString(L)||(L=L?"include":"omit");const J=i&&"credentials"in n.prototype,ee={...j,signal:$,method:w.toUpperCase(),headers:I.normalize().toJSON(),body:m,duplex:"half",credentials:J?L:void 0};U=i&&new n(b,ee);let C=await(i?P(U,j):P(b,ee));const R=d&&(k==="stream"||k==="response");if(d&&(S||R&&V)){const D={};["status","statusText","headers"].forEach(Le=>{D[Le]=C[Le]});const H=E.toFiniteNumber(C.headers.get("content-length")),[be,Ne]=S&&gh(H,ji(xh(S),!0))||[];C=new r(vh(C.body,wh,be,()=>{Ne&&Ne(),V&&V()}),D)}k=k||"text";let M=await f[E.findKey(f,k)||"text"](C,g);return!R&&V&&V(),await new Promise((D,H)=>{wg(D,H,{data:M,headers:Ge.from(C.headers),status:C.status,statusText:C.statusText,config:g,request:U})})}catch(J){throw V&&V(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new G("Network Error",G.ERR_NETWORK,g,U),{cause:J.cause||J}):G.from(J,J&&J.code,g,U)}}},Z1=new Map,jg=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,l=o,c,u,d=Z1;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:X1(t)),d=u;return u};jg();const gu={http:g1,xhr:G1,fetch:{get:jg}};E.forEach(gu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ch=e=>`- ${e}`,eC=e=>E.isFunction(e)||e===null||e===!1;function tC(e,t){e=E.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let l;if(s=r,!eC(r)&&(s=gu[(l=String(r)).toLowerCase()],s===void 0))throw new G(`Unknown adapter '${l}'`);if(s&&(E.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(Ch).join(`
`):" "+Ch(o[0]):"as no adapter specified";throw new G("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const Cg={getAdapter:tC,adapters:gu};function Do(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fr(null,e)}function Sh(e){return Do(e),e.headers=Ge.from(e.headers),e.data=Oo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Cg.getAdapter(e.adapter||Xs.adapter,e)(e).then(function(r){return Do(e),r.data=Oo.call(e,e.transformResponse,r),r.headers=Ge.from(r.headers),r},function(r){return vg(r)||(Do(e),r&&r.response&&(r.response.data=Oo.call(e,e.transformResponse,r.response),r.response.headers=Ge.from(r.response.headers))),Promise.reject(r)})}const Sg="1.13.0",Xi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xi[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const kh={};Xi.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Sg+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new G(s(o," has been removed"+(n?" in "+n:"")),G.ERR_DEPRECATED);return n&&!kh[o]&&(kh[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};Xi.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function nC(e,t,n){if(typeof e!="object")throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new G("option "+i+" must be "+c,G.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new G("Unknown option "+i,G.ERR_BAD_OPTION)}}const Ha={assertOptions:nC,validators:Xi},jt=Ha.validators;let Bn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new mh,response:new mh}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Kn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Ha.assertOptions(r,{silentJSONParsing:jt.transitional(jt.boolean),forcedJSONParsing:jt.transitional(jt.boolean),clarifyTimeoutError:jt.transitional(jt.boolean)},!1),s!=null&&(E.isFunction(s)?n.paramsSerializer={serialize:s}:Ha.assertOptions(s,{encode:jt.function,serialize:jt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ha.assertOptions(n,{baseUrl:jt.spelling("baseURL"),withXsrfToken:jt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&E.merge(i.common,i[n.method]);i&&E.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=Ge.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,f=0,h;if(!c){const g=[Sh.bind(this),void 0];for(g.unshift(...l),g.push(...u),h=g.length,d=Promise.resolve(n);f<h;)d=d.then(g[f++],g[f++]);return d}h=l.length;let p=n;for(;f<h;){const g=l[f++],b=l[f++];try{p=g(p)}catch(w){b.call(this,w);break}}try{d=Sh.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Kn(this.defaults,t);const n=bg(t.baseURL,t.url,t.allowAbsoluteUrls);return gg(n,t.params,t.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(t){Bn.prototype[t]=function(n,r){return this.request(Kn(r||{},{method:t,url:n,data:(r||{}).data}))}});E.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(Kn(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Bn.prototype[t]=n(),Bn.prototype[t+"Form"]=n(!0)});let rC=class kg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Fr(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new kg(function(s){t=s}),cancel:t}}};function sC(e){return function(n){return e.apply(null,n)}}function aC(e){return E.isObject(e)&&e.isAxiosError===!0}const Yl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Yl).forEach(([e,t])=>{Yl[t]=e});function Eg(e){const t=new Bn(e),n=sg(Bn.prototype.request,t);return E.extend(n,Bn.prototype,t,{allOwnKeys:!0}),E.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Eg(Kn(e,s))},n}const re=Eg(Xs);re.Axios=Bn;re.CanceledError=Fr;re.CancelToken=rC;re.isCancel=vg;re.VERSION=Sg;re.toFormData=Qi;re.AxiosError=G;re.Cancel=re.CanceledError;re.all=function(t){return Promise.all(t)};re.spread=sC;re.isAxiosError=aC;re.mergeConfig=Kn;re.AxiosHeaders=Ge;re.formToJSON=e=>yg(E.isHTMLForm(e)?new FormData(e):e);re.getAdapter=Cg.getAdapter;re.HttpStatusCode=Yl;re.default=re;const{Axios:_S,AxiosError:AS,CanceledError:RS,isCancel:TS,CancelToken:PS,VERSION:LS,all:MS,Cancel:OS,isAxiosError:DS,spread:US,toFormData:FS,AxiosHeaders:$S,HttpStatusCode:BS,formToJSON:HS,getAdapter:zS,mergeConfig:VS}=re,iC="https://gofastbackendv2-fall2025.onrender.com/api",xe=re.create({baseURL:iC,timeout:1e4,headers:{"Content-Type":"application/json"}});xe.interceptors.request.use(async e=>{const n=Gi().currentUser;if(n)try{const r=await n.getIdToken();e.headers.Authorization=`Bearer ${r}`}catch(r){console.error(" Failed to get Firebase token:",r)}return console.log(" API Request:",e.method.toUpperCase(),e.url,e.data),e},e=>(console.error(" API Request Error:",e),Promise.reject(e)));xe.interceptors.response.use(e=>(console.log(" API Response:",e.status,e.data),e),async e=>{var t,n,r,s;if(console.error(" API Error:",(t=e.response)==null?void 0:t.status,((n=e.response)==null?void 0:n.data)||e.message),((r=e.response)==null?void 0:r.status)===401){const i=(s=e.response)==null?void 0:s.data,l=Gi().currentUser;if(((i==null?void 0:i.code)==="TOKEN_EXPIRED"||i!=null&&i.shouldRefresh)&&(console.log(" Token expired, attempting refresh..."),l))try{const c=await l.getIdToken(!0);console.log(" Token refreshed, retrying request...");const u=e.config;return u.headers.Authorization=`Bearer ${c}`,xe.request(u)}catch(c){console.error(" Token refresh failed:",c)}console.warn(" 401 Unauthorized - Component should handle navigation")}return Promise.reject(e)});const Y={athleteProfile:"athleteProfile",athleteId:"athleteId",MyCrew:"MyCrew",MyCrewManagerId:"MyCrewManagerId",runCrewId:"runCrewId",runCrewManagerId:"runCrewManagerId",runCrewData:"runCrewData",runCrewMemberships:"runCrewMemberships",runCrewManagers:"runCrewManagers",weeklyActivities:"weeklyActivities",weeklyTotals:"weeklyTotals",hydrationVersion:"hydrationVersion"},B={setAthleteProfile:e=>{e?localStorage.setItem(Y.athleteProfile,JSON.stringify(e)):localStorage.removeItem(Y.athleteProfile)},getAthleteProfile:()=>{const e=localStorage.getItem(Y.athleteProfile);return e?JSON.parse(e):null},setAthleteId:e=>{e?localStorage.setItem(Y.athleteId,e):localStorage.removeItem(Y.athleteId)},getAthleteId:()=>localStorage.getItem(Y.athleteId),setRunCrewId:e=>{e?localStorage.setItem(Y.runCrewId,e):localStorage.removeItem(Y.runCrewId)},getRunCrewId:()=>localStorage.getItem(Y.runCrewId),setRunCrewManagerId:e=>{e?localStorage.setItem(Y.runCrewManagerId,e):localStorage.removeItem(Y.runCrewManagerId)},getRunCrewManagerId:()=>localStorage.getItem(Y.runCrewManagerId),setRunCrewData:e=>{e?localStorage.setItem(Y.runCrewData,JSON.stringify(e)):localStorage.removeItem(Y.runCrewData)},getRunCrewData:()=>{const e=localStorage.getItem(Y.runCrewData);return e?JSON.parse(e):null},setCrewHydration:(e,t)=>{if(!(!e||!t))try{const n=f=>{if(!f)return"";const h=f.firstName?f.firstName.trim():"",p=f.lastName?`${f.lastName.trim().charAt(0)}.`:"";return`${h} ${p}`.trim()},r=f=>Array.isArray(f)?f.map(h=>{var p,g,b,w;return{athleteId:h.athleteId||((p=h.athlete)==null?void 0:p.id)||null,firstName:h.firstName||((g=h.athlete)==null?void 0:g.firstName)||null,lastName:h.lastName||((b=h.athlete)==null?void 0:b.lastName)||null,photoURL:h.photoURL||((w=h.athlete)==null?void 0:w.photoURL)||null,totalDistanceMiles:Number(h.totalDistanceMiles??0),totalDuration:Number(h.totalDuration??0),totalCalories:Number(h.totalCalories??0),activityCount:Number(h.activityCount??0)}}).filter(h=>h.athleteId):[],s=f=>Array.isArray(f)?f.map(h=>{var p,g;return{athleteId:h.athleteId||((p=h.athlete)==null?void 0:p.id)||null,name:h.name||n(h.athlete),photoURL:h.photoURL||((g=h.athlete)==null?void 0:g.photoURL)||null,status:h.status||"going"}}).filter(h=>h.athleteId):[],i=Array.isArray(t.runs)?t.runs.slice(0,5).map(f=>({id:f.id,title:f.title,date:f.date,time:f.time||f.startTime,meetUpPoint:f.meetUpPoint,meetUpAddress:f.meetUpAddress,totalMiles:f.totalMiles,pace:f.pace,description:f.description,stravaMapUrl:f.stravaMapUrl,rsvps:s(f.rsvps)})):[],o=Array.isArray(t.messages)?t.messages.slice(0,10).map(f=>{var h,p;return{id:f.id,content:f.content,createdAt:f.createdAt,author:{athleteId:f.athleteId||((h=f.athlete)==null?void 0:h.id)||null,name:n(f.athlete),photoURL:((p=f.athlete)==null?void 0:p.photoURL)||null}}}).filter(f=>f.author.athleteId):[],c=(Array.isArray(t.memberships)?t.memberships:Array.isArray(t.members)?t.members:[]).map(f=>{const h=f.athlete||f;return{athleteId:f.athleteId||(h==null?void 0:h.id)||null,name:n(h),photoURL:(h==null?void 0:h.photoURL)||null}}).filter(f=>f.athleteId),u=Array.isArray(t.announcements)?t.announcements.map(f=>({id:f.id,title:f.title,content:f.content,createdAt:f.createdAt,author:f.author?{id:f.author.id,name:n(f.author),photoURL:f.author.photoURL||null}:null})):[],d={id:t.id,name:t.name,description:t.description,logo:t.logo,icon:t.icon,isAdmin:!!t.isAdmin,currentManagerId:t.currentManagerId||null,leaderboardDynamic:r(t.leaderboardDynamic),memberPreviews:c,runs:i,messages:o,announcements:u};localStorage.setItem(`crew_${e}_hydration`,JSON.stringify(d))}catch(n){console.error(" LocalStorageAPI: Failed to set crew hydration",n)}},getCrewHydration:e=>{if(!e)return null;try{const t=localStorage.getItem(`crew_${e}_hydration`);return t?JSON.parse(t):null}catch(t){return console.error(" LocalStorageAPI: Failed to parse crew hydration",t),null}},getContext:()=>({athleteId:B.getAthleteId(),runCrewId:B.getRunCrewId(),runCrewManagerId:B.getRunCrewManagerId()}),setFullHydrationModel:e=>{if(!e)return;const{athlete:t,weeklyActivities:n,weeklyTotals:r}=e;if(!t){console.warn(" LocalStorageAPI: No athlete in model");return}localStorage.setItem(Y.athleteProfile,JSON.stringify(t)),localStorage.setItem(Y.athleteId,t.id||t.athleteId),t.runCrewMemberships&&localStorage.setItem(Y.runCrewMemberships,JSON.stringify(t.runCrewMemberships)),t.runCrewManagers&&localStorage.setItem(Y.runCrewManagers,JSON.stringify(t.runCrewManagers)),t.adminRunCrews&&localStorage.setItem(Y.adminRunCrews,JSON.stringify(t.adminRunCrews));const s=t.MyCrew||"",i=t.MyCrewManagerId||"";if(localStorage.setItem(Y.MyCrew,s),localStorage.setItem(Y.MyCrewManagerId,i),localStorage.setItem(Y.runCrewId,s),localStorage.setItem(Y.runCrewManagerId,i),s&&t.runCrewMemberships){const o=t.runCrewMemberships.find(l=>{var c;return((c=l.runCrew)==null?void 0:c.id)===s});o!=null&&o.runCrew&&(B.setRunCrewData(o.runCrew),console.log(" LocalStorageAPI: Stored full crew data for:",o.runCrew.name))}console.log(" LocalStorageAPI: HYDRATION V2 - MyCrew:",s,"MyCrewManagerId:",i),n&&localStorage.setItem(Y.weeklyActivities,JSON.stringify(n)),r&&localStorage.setItem(Y.weeklyTotals,JSON.stringify(r)),localStorage.setItem(Y.hydrationVersion,"hydration-v2"),console.log(" LocalStorageAPI: HYDRATION V2 model stored")},getMyCrew:()=>localStorage.getItem(Y.MyCrew),getMyCrewManagerId:()=>localStorage.getItem(Y.MyCrewManagerId),getFullHydrationModel:()=>{try{const e=JSON.parse(localStorage.getItem(Y.athleteProfile)||"null"),t=JSON.parse(localStorage.getItem(Y.weeklyActivities)||"[]"),n=JSON.parse(localStorage.getItem(Y.weeklyTotals)||"null"),r=JSON.parse(localStorage.getItem(Y.runCrewMemberships)||"[]"),s=JSON.parse(localStorage.getItem(Y.runCrewManagers)||"[]"),i=JSON.parse(localStorage.getItem(Y.adminRunCrews)||"[]");return{athlete:e,weeklyActivities:t,weeklyTotals:n,runCrewMemberships:r,runCrewManagers:s,adminRunCrews:i}}catch(e){return console.error(" LocalStorageAPI: Failed to parse hydration model",e),{athlete:null,weeklyActivities:[],weeklyTotals:null,runCrewMemberships:[],runCrewManagers:[],adminRunCrews:[]}}},clearAll:()=>localStorage.clear()};function oC(){const e=X(),[t,n]=v.useState(!0),[r,s]=v.useState(!1),[i,o]=v.useState(null);v.useEffect(()=>{(async()=>{var u,d,f,h,p,g,b;try{console.log(" ATHLETE WELCOME: ===== STARTING HYDRATION ====="),n(!0),o(null);const m=Gi().currentUser;if(!m){console.log(" ATHLETE WELCOME: No Firebase user found  redirecting to signup"),e("/athletesignup");return}console.log(" ATHLETE WELCOME: Firebase user found"),console.log(" ATHLETE WELCOME: Firebase UID:",m.uid),console.log(" ATHLETE WELCOME: Firebase Email:",m.email),console.log(" ATHLETE WELCOME: Calling hydration endpoint...");const x=await xe.post("/athlete/hydrate");console.log(" ATHLETE WELCOME: Response received:",x.status);const{success:y,athlete:N,weeklyActivities:S,weeklyTotals:A}=x.data;if(!y||!N){console.error(" ATHLETE WELCOME: Hydration failed:",x.data.error||"Invalid response"),o(x.data.error||"Failed to load athlete data"),n(!1);return}console.log(" ATHLETE WELCOME: Athlete hydrated successfully"),console.log(" ATHLETE WELCOME: Athlete ID:",N.athleteId||N.id),console.log(" ATHLETE WELCOME: Email:",N.email),console.log(" ATHLETE WELCOME: Name:",N.firstName,N.lastName),console.log(" ATHLETE WELCOME: RunCrews count:",((u=N.runCrews)==null?void 0:u.length)||0),N.runCrews&&N.runCrews.length>0&&console.log(" ATHLETE WELCOME: RunCrews:",N.runCrews.map(k=>k.name).join(", ")),console.log(" ATHLETE WELCOME: Caching full hydration model to localStorage..."),B.setFullHydrationModel({athlete:N,weeklyActivities:S||[],weeklyTotals:A||null}),console.log(" ATHLETE WELCOME: Full hydration model cached"),console.log(" ATHLETE WELCOME: Hydration complete, ready for user action"),console.log(" ATHLETE WELCOME: ===== HYDRATION SUCCESS ====="),s(!0),n(!1)}catch(w){if(console.error(" ATHLETE WELCOME: ===== HYDRATION ERROR ====="),console.error(" ATHLETE WELCOME: Error message:",w.message),console.error(" ATHLETE WELCOME: Error status:",(d=w.response)==null?void 0:d.status),console.error(" ATHLETE WELCOME: Error data:",(f=w.response)==null?void 0:f.data),o(((p=(h=w.response)==null?void 0:h.data)==null?void 0:p.message)||w.message||"Failed to load athlete data"),n(!1),((g=w.response)==null?void 0:g.status)===401){console.log(" ATHLETE WELCOME: Unauthorized (401)  redirecting to signup"),e("/athletesignup");return}if(((b=w.response)==null?void 0:b.status)===404){console.log(" ATHLETE WELCOME: Athlete not found (404)  redirecting to signup"),e("/athletesignup");return}console.error(" ATHLETE WELCOME: ===== END ERROR =====")}})()},[e]);const l=()=>{console.log(` ATHLETE WELCOME: User clicked "Let's Train!"  navigating to athlete-home`),e("/athlete-home")};return i?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center",children:a.jsxs("div",{className:"text-center bg-white rounded-xl shadow-lg p-8 max-w-md mx-4",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Account"}),a.jsx("p",{className:"text-gray-600 mb-6",children:i}),a.jsx("button",{onClick:()=>e("/athletesignup"),className:"bg-orange-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-orange-600 transition",children:"Go to Signup"})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center",children:a.jsxs("div",{className:"text-center animate-fade-in",children:[a.jsxs("h1",{className:"text-6xl md:text-8xl font-bold text-white mb-8 animate-pulse",children:["Let's Go ",a.jsx("span",{className:"text-orange-400",children:"Crush"})," Goals!"]}),a.jsx("p",{className:"text-2xl md:text-3xl text-sky-100 font-medium mb-8",children:"Start your running journey"}),t&&a.jsxs("div",{className:"mt-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-sky-100",children:"Loading your account..."})]}),r&&!t&&a.jsx("div",{className:"mt-8",children:a.jsx("button",{onClick:l,className:"bg-gradient-to-r from-orange-600 to-orange-500 text-white px-12 py-4 rounded-xl font-bold text-2xl hover:from-orange-700 hover:to-orange-600 transition shadow-2xl transform hover:scale-105",children:"Let's Train! "})})]})})}function lC(){const e=X(),[t,n]=v.useState(!1),[r,s]=v.useState(!1),[i,o]=v.useState(""),l=async()=>{var u,d,f,h,p,g,b,w;if(!t){n(!0);try{console.log(" Starting sign-in with Google...");const m=await hu();console.log(" Google sign-in successful:",m.email);const x=await ye.currentUser.getIdToken();console.log(" Firebase token obtained: [REDACTED]"),localStorage.setItem("firebaseToken",x),console.log(" Calling backend API: /athlete/create");const y=await xe.post("/athlete/create");console.log(" Backend API response:",y.data);const N=y.data;if(!N||!N.success)throw new Error(`Backend API failed: ${(N==null?void 0:N.message)||"Invalid response"}`);localStorage.setItem("firebaseId",m.uid),localStorage.setItem("athleteId",N.athleteId),localStorage.setItem("email",((u=N.data)==null?void 0:u.email)||m.email),localStorage.setItem("firebaseUser",JSON.stringify({uid:m.uid,email:m.email,displayName:m.name,photoURL:m.photoURL})),(d=N.data)!=null&&d.gofastHandle?(console.log(" SUCCESS: Existing athlete with profile  Athlete Welcome Hydrator"),e("/athlete-welcome")):(console.log(" SUCCESS: New athlete or incomplete profile  Profile setup"),e("/athlete-create-profile"))}catch(m){if(console.error(" Sign-in failed:",m),m.code==="auth/user-cancelled"){console.log(" User cancelled sign-in - no action needed");return}else if(m.code==="auth/popup-closed-by-user"){console.log(" User closed popup - no action needed");return}else if(m.code==="auth/popup-blocked"){alert(" Popup was blocked by your browser. Please allow popups for this site and try again.");return}else if(m.code==="auth/network-request-failed"){alert(" Network error. Please check your internet connection and try again.");return}else if(m.message.includes("Cross-Origin-Opener-Policy")){alert(" Browser security policy blocked the sign-in. Please try again or contact support.");return}((f=m.response)==null?void 0:f.status)===404||m.message.includes("not found")?(s(!0),alert("New user detected! Enter approval code to continue.")):((h=m.response)==null?void 0:h.status)===500?alert("Server error occurred. Please try again later."):((p=m.response)==null?void 0:p.status)>=400&&((g=m.response)==null?void 0:g.status)<500?alert(`Authentication error: ${((w=(b=m.response)==null?void 0:b.data)==null?void 0:w.message)||"Please check your credentials."}`):navigator.onLine?alert("Sign-in failed. Please try again."):alert("No internet connection. Please check your connection and try again.")}finally{n(!1)}}},c=()=>{i==="LETMEIN"||i==="1234"?(alert("Approved! You can now sign in."),s(!1),o(""),l()):alert("Invalid approval code. Try: LETMEIN or 1234")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-500 via-red-500 to-pink-500 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md mx-auto text-center space-y-8 bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-2xl",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-600 to-red-600 rounded-2xl mx-auto flex items-center justify-center shadow-lg",children:a.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"Welcome to GoFast!"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Sign in to crush your running goals"})]}),a.jsx("button",{onClick:l,disabled:t,className:"w-full bg-white border-2 border-gray-300 text-gray-700 py-4 px-6 rounded-xl font-semibold hover:bg-gray-50 transition shadow-lg disabled:opacity-50 flex items-center justify-center gap-3",children:t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-700"}),"Signing in..."]}):a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})}),r&&a.jsxs("div",{className:"space-y-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Approval Required"}),a.jsx("p",{className:"text-sm text-yellow-700",children:"New user detected. Enter approval code to continue."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",value:i,onChange:u=>o(u.target.value),placeholder:"Enter approval code",className:"w-full px-3 py-2 border border-yellow-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500"}),a.jsx("button",{onClick:c,className:"w-full bg-yellow-600 text-white py-2 px-4 rounded-lg hover:bg-yellow-700 transition",children:"Approve & Continue"})]}),a.jsx("p",{className:"text-xs text-yellow-600",children:"Try: LETMEIN or 1234"})]}),a.jsxs("p",{className:"text-gray-600 text-sm",children:["Don't have an account?"," ",a.jsx("button",{onClick:()=>e("/athletesignup"),className:"text-orange-600 font-semibold hover:underline",children:"Sign Up"})]})]})})}const cC=()=>{const e=X(),[t]=En(),[n,r]=v.useState(!1),s=t.get("hasJoinContext")==="true",i=t.get("sessionId")||localStorage.getItem("joinSessionId"),o=async()=>{var u,d,f;if(!n){r(!0);try{console.log(" Starting signup with Google...");const h=await hu();console.log(" Google sign-in successful:",h.email);const p=await ye.currentUser.getIdToken();console.log(" Firebase token obtained: [REDACTED]"),localStorage.setItem("firebaseToken",p),console.log(" Calling backend API: /athlete/create");const g=s&&i?{sessionId:i}:{},b=await xe.post("/athlete/create",g);console.log(" Backend API response:",b.data);const w=b.data;if(!w||!w.success)throw new Error(`Backend API failed: ${(w==null?void 0:w.message)||"Invalid response"}`);if(localStorage.setItem("firebaseId",h.uid),localStorage.setItem("athleteId",w.athleteId),localStorage.setItem("email",((u=w.data)==null?void 0:u.email)||h.email),s&&w.runCrewId){console.log(" SUCCESS: Joined RunCrew via direct-invite  PreCrewPage"),localStorage.removeItem("joinSessionId"),e(`/precrewpage?crewId=${w.runCrewId}`);return}(d=w.data)!=null&&d.gofastHandle?(console.log(" SUCCESS: Existing athlete with profile  Athlete Home"),e("/athlete-home")):(console.log(" SUCCESS: New athlete or incomplete profile  Profile setup"),e("/athlete-create-profile"))}catch(h){console.error(" Signup failed:",h),alert(` MVP FAILED!

Error: ${h.message}

Status: ${((f=h.response)==null?void 0:f.status)||"Unknown"}

Backend API call failed!`)}finally{r(!1)}}},l=()=>{e("/")},c=()=>{e("/athletesignin")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 to-sky-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md mx-auto text-center space-y-8 bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-2xl",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-20 h-20 rounded-full mx-auto shadow-lg"}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-orange-500 bg-clip-text text-transparent",children:"Join GoFast!"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Start crushing your running goals"})]}),a.jsx("button",{onClick:o,disabled:n,className:"w-full bg-gradient-to-r from-orange-600 to-orange-500 text-white py-4 px-6 rounded-xl font-semibold hover:from-orange-700 hover:to-orange-600 transition shadow-lg disabled:opacity-50 flex items-center justify-center gap-3",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Signing up..."]}):a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]})}),a.jsxs("p",{className:"text-gray-600 text-sm",children:["Already on the platform?"," ",a.jsx("button",{onClick:c,className:"text-orange-600 font-semibold hover:underline",children:"Sign In"})]}),a.jsx("button",{onClick:l,className:"text-gray-500 hover:text-gray-700 text-sm",children:" Back to splash"})]})})},uC=()=>{const e=X(),t=v.useRef(null),[n,r]=v.useState({firstName:"Adam",lastName:"Cole",phoneNumber:"",birthday:"1990-01-15",gender:"male",city:"Arlington",state:"VA",primarySport:"running",gofastHandle:"adamgofast",bio:"Passionate runner. Building communities.",instagram:"",profilePhoto:null,profilePhotoPreview:null});v.useEffect(()=>{(()=>{const u=ye.currentUser;u!=null&&u.photoURL&&r(d=>({...d,profilePhotoPreview:u.photoURL}))})()},[]);const s=(c,u)=>{r(d=>({...d,[c]:u}))},i=c=>{const u=c.target.files[0];if(u){if(!u.type.startsWith("image/")){alert("Please select a valid image file");return}if(u.size>5*1024*1024){alert("Image size must be less than 5MB");return}const d=URL.createObjectURL(u);r(f=>({...f,profilePhoto:u,profilePhotoPreview:d}))}},o=()=>{var c;(c=t.current)==null||c.click()},l=async c=>{var u,d,f,h,p;if(c.preventDefault(),console.log(" SUBMIT: Starting profile creation..."),console.log(" Form data:",n),!n.firstName||!n.lastName||!n.gofastHandle||!n.birthday||!n.gender||!n.city||!n.state||!n.primarySport){alert("Please fill in all required fields");return}try{const g=ye.currentUser;if(!g){alert("No user logged in. Please sign in first."),e("/athletesignin");return}console.log(" Step 1: Finding/creating athlete via /api/athlete/create"),console.log(" Axios automatically adds Firebase token (no body needed)");const w=(await xe.post("/athlete/create")).data;console.log(" Step 1 - Athlete created/found:",w);const m=w.athleteId||((u=w.data)==null?void 0:u.id);if(!m)throw new Error("No athlete ID returned from server");console.log(" Step 2: Updating profile via /api/athlete/:id/profile");const x=g.photoURL||n.profilePhotoPreview,N=(await xe.put(`/athlete/${m}/profile`,{firstName:n.firstName,lastName:n.lastName,phoneNumber:n.phoneNumber,gofastHandle:n.gofastHandle,birthday:n.birthday,gender:n.gender,city:n.city,state:n.state,primarySport:n.primarySport,bio:n.bio,instagram:n.instagram,photoURL:x})).data;console.log(" Step 2 - Profile updated:",N),B.setAthleteId(m),B.setAthleteProfile(N.athlete),console.log(" Navigating to athlete home..."),e("/athlete-home")}catch(g){if(console.error(" Profile creation failed:",g),(f=(d=g.response)==null?void 0:d.data)!=null&&f.error){const b=g.response.data;b.field==="gofastHandle"?alert(` Handle taken!

"@${n.gofastHandle}" is already taken. Please choose a different handle.`):alert(` Profile update failed:

${b.message||b.error}`)}else((h=g.response)==null?void 0:h.status)===403?alert(` Forbidden!

You can only update your own profile. Please sign in with the correct account.`):((p=g.response)==null?void 0:p.status)===404?alert(` Profile not found!

Your athlete record was not found. Please try signing in again.`):alert(` Profile creation failed:

${g.message||"Unknown error occurred"}`)}};return a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-6",children:a.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-16 h-16 rounded-full mx-auto mb-4"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to GoFast!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"At GoFast, we believe in community. The more info you provide here, the more it fosters connections with other athletes looking to GoFast and PR."}),a.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-orange-800 text-sm font-medium",children:[" ",a.jsx("strong",{children:"Community Tip:"})," Complete profiles get 3x more crew invites and running partner matches!"]})})]}),a.jsxs("form",{onSubmit:l,className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full mx-auto mb-2 flex items-center justify-center cursor-pointer hover:bg-gray-300 transition-colors",onClick:o,children:n.profilePhotoPreview?a.jsx("img",{src:n.profilePhotoPreview,alt:"Profile preview",className:"w-24 h-24 rounded-full object-cover"}):a.jsx("span",{className:"text-4xl",children:""})}),a.jsxs("div",{className:"flex items-center justify-center text-orange-500 text-sm cursor-pointer hover:text-orange-600",onClick:o,children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),n.profilePhoto?"Change Photo":"Add Photo"]}),a.jsx("input",{ref:t,type:"file",accept:"image/*",onChange:i,className:"hidden"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["First Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:n.firstName,onChange:c=>s("firstName",c.target.value),placeholder:"Enter your first name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:n.lastName,onChange:c=>s("lastName",c.target.value),placeholder:"Enter your last name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),a.jsx("input",{type:"tel",value:n.phoneNumber,onChange:c=>s("phoneNumber",c.target.value),placeholder:"(555) 123-4567",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Bio"}),a.jsx("textarea",{value:n.bio,onChange:c=>s("bio",c.target.value),placeholder:"Tell us about your running goals, favorite routes, or what motivates you...",maxLength:"250",rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.bio.length,"/250 characters"]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["GoFast Handle ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"This is for quick lookup and tagging others. We recommend using your first name but you can make it however you like."}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("span",{className:"text-gray-500 text-sm",children:"@"})}),a.jsx("input",{type:"text",value:n.gofastHandle,onChange:c=>s("gofastHandle",c.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"your_handle",className:"w-full pl-8 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Birthday ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:n.birthday,onChange:c=>s("birthday",c.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gender ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"gender",value:"male",checked:n.gender==="male",onChange:c=>s("gender",c.target.value),className:"mr-2",required:!0}),"Male"]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"gender",value:"female",checked:n.gender==="female",onChange:c=>s("gender",c.target.value),className:"mr-2",required:!0}),"Female"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["City ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:n.city,onChange:c=>s("city",c.target.value),placeholder:"Charlotte",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["State ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:n.state,onChange:c=>s("state",c.target.value),placeholder:"NC",maxLength:"2",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Primary Sport ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:n.primarySport,onChange:c=>s("primarySport",c.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0,children:[a.jsx("option",{value:"",children:"Select your primary sport"}),a.jsx("option",{value:"running",children:" Running"}),a.jsx("option",{value:"cycling",children:" Cycling"}),a.jsx("option",{value:"swimming",children:" Swimming"}),a.jsx("option",{value:"triathlon",children:" Triathlon"}),a.jsx("option",{value:"ultra-racing",children:" Ultra Racing"}),a.jsx("option",{value:"hiking",children:" Hiking"}),a.jsx("option",{value:"trail-running",children:" Trail Running"}),a.jsx("option",{value:"track-field",children:" Track & Field"})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" This helps us match you with the right community!"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instagram Handle"}),a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"In case people want to discover the real you outside of your primary sport."}),a.jsx("input",{type:"text",value:n.instagram,onChange:c=>s("instagram",c.target.value),placeholder:"@your_handle",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-4 px-6 rounded-lg font-bold text-lg hover:bg-orange-600 transition-colors shadow-lg hover:shadow-xl transform hover:scale-105",children:" Join the GoFast Community"}),a.jsx("p",{className:"text-center text-sm text-gray-500 mt-3",children:"You can always update your profile later in settings"})]})]})]})})},dC=()=>{const e=X(),t=v.useRef(null),[n,r]=v.useState({firstName:"",lastName:"",phoneNumber:"",birthday:"",gender:"",city:"",state:"",primarySport:"",gofastHandle:"",bio:"",instagram:"",profilePhoto:null,profilePhotoPreview:null}),[s,i]=v.useState(null),[o,l]=v.useState(!0);v.useEffect(()=>{(()=>{var p;try{const g=B.getAthleteProfile(),b=B.getAthleteId();if(!g||!b){console.warn(" EDIT PROFILE: Missing profile or athleteId, routing to welcome hydrator"),e("/athlete-welcome",{replace:!0});return}const w=JSON.parse(g);i(b),r({firstName:w.firstName||"",lastName:w.lastName||"",phoneNumber:w.phoneNumber||"",birthday:w.birthday?new Date(w.birthday).toISOString().split("T")[0]:"",gender:w.gender||"",city:w.city||"",state:w.state||"",primarySport:w.primarySport||"",gofastHandle:w.gofastHandle||"",bio:w.bio||"",instagram:w.instagram||"",profilePhoto:null,profilePhotoPreview:w.photoURL||((p=ye.currentUser)==null?void 0:p.photoURL)||null}),l(!1)}catch(g){console.error("Error loading profile:",g),alert("Error loading profile. Please try again."),e("/athlete-profile")}})()},[e]);const c=(h,p)=>{r(g=>({...g,[h]:p}))},u=h=>{const p=h.target.files[0];if(p){if(!p.type.startsWith("image/")){alert("Please select a valid image file");return}if(p.size>5*1024*1024){alert("Image size must be less than 5MB");return}const g=URL.createObjectURL(p);r(b=>({...b,profilePhoto:p,profilePhotoPreview:g}))}},d=()=>{var h;(h=t.current)==null||h.click()},f=async h=>{var p,g,b,w;if(h.preventDefault(),console.log(" SUBMIT: Updating profile..."),console.log(" Form data:",n),!n.firstName||!n.lastName||!n.gofastHandle||!n.birthday||!n.gender||!n.city||!n.state||!n.primarySport){alert("Please fill in all required fields");return}if(!s){alert("Athlete ID not found. Please refresh and try again.");return}try{const m=ye.currentUser;if(!m){alert("No user logged in. Please sign in first."),e("/athletesignin");return}console.log(" Updating profile via /api/athlete/:id/profile");const x=n.profilePhotoPreview||m.photoURL||null,N=(await xe.put(`/athlete/${s}/profile`,{firstName:n.firstName,lastName:n.lastName,phoneNumber:n.phoneNumber,gofastHandle:n.gofastHandle,birthday:n.birthday,gender:n.gender,city:n.city,state:n.state,primarySport:n.primarySport,bio:n.bio,instagram:n.instagram,photoURL:x})).data;console.log(" Profile updated:",N),B.setAthleteProfile(N.athlete),console.log(" Navigating back to profile..."),e("/athlete-profile")}catch(m){if(console.error(" Profile update failed:",m),(g=(p=m.response)==null?void 0:p.data)!=null&&g.error){const x=m.response.data;x.field==="gofastHandle"?alert(` Handle taken!

"@${n.gofastHandle}" is already taken. Please choose a different handle.`):alert(` Profile update failed:

${x.message||x.error}`)}else((b=m.response)==null?void 0:b.status)===403?alert(` Forbidden!

You can only update your own profile. Please sign in with the correct account.`):((w=m.response)==null?void 0:w.status)===404?alert(` Profile not found!

Your athlete record was not found. Please try signing in again.`):alert(` Profile update failed:

${m.message||"Unknown error occurred"}`)}};return o?a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-6",children:a.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-16 h-16 rounded-full mx-auto mb-4"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Edit Your Profile"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Update your information to keep your profile current and help others find you."})]}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full mx-auto mb-2 flex items-center justify-center cursor-pointer hover:bg-gray-300 transition-colors overflow-hidden",onClick:d,children:n.profilePhotoPreview?a.jsx("img",{src:n.profilePhotoPreview,alt:"Profile preview",className:"w-24 h-24 rounded-full object-cover"}):a.jsx("span",{className:"text-4xl",children:""})}),a.jsxs("div",{className:"flex items-center justify-center text-orange-500 text-sm cursor-pointer hover:text-orange-600",onClick:d,children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),n.profilePhotoPreview?"Change Photo":"Add Photo"]}),a.jsx("input",{ref:t,type:"file",accept:"image/*",onChange:u,className:"hidden"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["First Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:n.firstName,onChange:h=>c("firstName",h.target.value),placeholder:"Enter your first name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:n.lastName,onChange:h=>c("lastName",h.target.value),placeholder:"Enter your last name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),a.jsx("input",{type:"tel",value:n.phoneNumber,onChange:h=>c("phoneNumber",h.target.value),placeholder:"(555) 123-4567",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Bio"}),a.jsx("textarea",{value:n.bio,onChange:h=>c("bio",h.target.value),placeholder:"Tell us about your running goals, favorite routes, or what motivates you...",maxLength:"250",rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.bio.length,"/250 characters"]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["GoFast Handle ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"This is for quick lookup and tagging others. We recommend using your first name but you can make it however you like."}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("span",{className:"text-gray-500 text-sm",children:"@"})}),a.jsx("input",{type:"text",value:n.gofastHandle,onChange:h=>c("gofastHandle",h.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"your_handle",className:"w-full pl-8 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Birthday ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:n.birthday,onChange:h=>c("birthday",h.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gender ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"gender",value:"male",checked:n.gender==="male",onChange:h=>c("gender",h.target.value),className:"mr-2",required:!0}),"Male"]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"gender",value:"female",checked:n.gender==="female",onChange:h=>c("gender",h.target.value),className:"mr-2",required:!0}),"Female"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["City ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:n.city,onChange:h=>c("city",h.target.value),placeholder:"Charlotte",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["State ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:n.state,onChange:h=>c("state",h.target.value),placeholder:"NC",maxLength:"2",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Primary Sport ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:n.primarySport,onChange:h=>c("primarySport",h.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0,children:[a.jsx("option",{value:"",children:"Select your primary sport"}),a.jsx("option",{value:"running",children:" Running"}),a.jsx("option",{value:"cycling",children:" Cycling"}),a.jsx("option",{value:"swimming",children:" Swimming"}),a.jsx("option",{value:"triathlon",children:" Triathlon"}),a.jsx("option",{value:"ultra-racing",children:" Ultra Racing"}),a.jsx("option",{value:"hiking",children:" Hiking"}),a.jsx("option",{value:"trail-running",children:" Trail Running"}),a.jsx("option",{value:"track-field",children:" Track & Field"})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" This helps us match you with the right community!"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instagram Handle"}),a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"In case people want to discover the real you outside of your primary sport."}),a.jsx("input",{type:"text",value:n.instagram,onChange:h=>c("instagram",h.target.value),placeholder:"@your_handle",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{className:"pt-4 flex gap-4",children:[a.jsx("button",{type:"button",onClick:()=>e("/athlete-profile"),className:"flex-1 bg-gray-200 text-gray-700 py-4 px-6 rounded-lg font-bold text-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 bg-orange-500 text-white py-4 px-6 rounded-lg font-bold text-lg hover:bg-orange-600 transition-colors shadow-lg hover:shadow-xl transform hover:scale-105",children:"Save Changes"})]})]})]})})};class Uo{static calculateOnboardingState(t){const n=new Date,r=new Date(t),s=Math.floor((n-r)/(1e3*60*60*24));return{isNewUser:s<=15,daysSinceCreation:s,onboardingPhase:s<=7?"early":s<=15?"mid":"complete"}}static getCardsForUser(t,n){var l;const{isNewUser:r,onboardingPhase:s}=n,i=[];if(r)return[...i,{title:"Join RunCrew",description:"Find accountability partners and running groups",icon:"",path:"/runcrew/join",color:"bg-green-500",priority:"high",showIf:!t.runCrewId},{title:"Track Your Runs",description:"Start logging runs and see your progress",icon:"",path:"/training/track",color:"bg-orange-500",priority:"high"},{title:"Connect Garmin",description:"Sync your Garmin Connect account to track activities automatically",icon:"garmin",path:"/settings",color:"bg-blue-500",priority:"high",showIf:!((l=t.garmin)!=null&&l.connected)}];const o=Array.isArray(t.runCrews)&&t.runCrews.length>0?t.runCrews[0]:null;return[...i,{title:o?o.name:"RunCrew Dashboard",description:o?`Go back to ${o.name}`:"Want more accountability? Start a run crew",icon:"",path:o?"/crew/crewadmin":"/runcrew/start",color:"bg-green-500",priority:"high",crewId:(o==null?void 0:o.id)||null},{title:"Training Analytics",description:"Analyze your pace and heart rate zones",icon:"",path:"/training/analytics",color:"bg-orange-500",priority:"high"}]}static getOnboardingMessage(t,n){const{isNewUser:r,onboardingPhase:s}=t;if(!r)return`Welcome back, ${n.firstName||"Athlete"}!`;switch(s){case"early":return`Welcome to GoFast, ${n.firstName||"Athlete"}! Let's get you started with the basics.`;case"mid":return`You're doing great, ${n.firstName||"Athlete"}! Ready to explore more features?`;default:return`Welcome, ${n.firstName||"Athlete"}!`}}static shouldShowProfilePrompt(t){return!t.gofastHandle}static getProfileCompletionStatus(t){const n=["firstName","lastName","gofastHandle"],r=n.filter(s=>t[s]);return{isComplete:r.length===n.length,completed:r.length,total:n.length,missing:n.filter(s=>!t[s])}}}function xu(){const e=B.getAthleteProfile(),t=B.getAthleteId(),n=B.getRunCrewId(),r=B.getRunCrewManagerId(),s=B.getRunCrewData();return{athlete:e,athleteId:t,runCrewId:n,runCrewManagerId:r,runCrew:s}}/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fC=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Eh=e=>{const t=fC(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ig=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),mC=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...pC,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Ig("lucide",s),...!i&&!mC(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(gC,{ref:i,iconNode:t,className:Ig(`lucide-${hC(Eh(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Eh(e),n};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Fo=Se("activity",xC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_g=Se("arrow-left",yC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hn=Se("calendar",vC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ar=Se("circle-alert",wC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ag=Se("circle-check-big",bC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ci=Se("circle-check",NC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],CC=Se("crown",jC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kC=Se("download",SC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],IC=Se("external-link",EC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],AC=Se("mail",_C);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],TC=Se("map-pin",RC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],LC=Se("plus",PC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yu=Se("refresh-cw",MC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],DC=Se("save",OC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FC=Se("settings",UC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Rg=Se("trash-2",$C);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ht=Se("users",BC);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ih=Se("x",HC),_h="https://gofastbackendv2-fall2025.onrender.com/api",zC=()=>{const e=X(),t=wt(),{athlete:n,athleteId:r,runCrewId:s,runCrew:i}=xu(),[o,l]=v.useState(null),[c,u]=v.useState([]),[d,f]=v.useState([]),[h,p]=v.useState(null),[g,b]=v.useState(!1),[w,m]=v.useState("activity"),[x,y]=v.useState(!1),[N,S]=v.useState(!0);v.useEffect(()=>{(async()=>{if(!r){S(!1);return}try{const P=await fetch(`${_h}/garmin/status?athleteId=${r}`);if(P.ok){const $=await P.json();y($.connected||!1)}}catch(P){console.error("Error checking Garmin connection:",P)}finally{S(!1)}})()},[r]),v.useEffect(()=>{const j=t.pathname;j.includes("/my-activities")||j.includes("/activity/")?m("activity"):j.includes("/crew/")||j.includes("/runcrew/")?m("crew"):j.includes("/settings/events")&&m("events")},[t.pathname]),v.useEffect(()=>{if(!n){console.log(" ATHLETE HOME: No athlete data, redirecting to welcome"),e("/athlete-welcome",{replace:!0});return}try{const j=B.getFullHydrationModel(),{weeklyActivities:P,weeklyTotals:$}=j||{};f(Array.isArray(P)?P:[]),p($||null);const U=localStorage.getItem("onboardingState");let V;U?V=JSON.parse(U):(V=Uo.calculateOnboardingState(n.createdAt),localStorage.setItem("onboardingState",JSON.stringify(V))),l(V),u(Uo.getCardsForUser(n,V))}catch(j){console.error(" ATHLETE HOME: Error loading athlete data:",j)}},[n,e]);const A=async()=>{try{await xN(ye),B.clearAll(),e("/")}catch(j){console.error("Error signing out:",j)}},k=async()=>{if(!s){console.warn(" ATHLETE HOME: No crew context - join or create a crew first"),e("/runcrew/join-or-start");return}if(i){console.log(" ATHLETE HOME: Using crew data from hook, navigating to central"),e("/runcrew/central");return}if(!r){console.warn(" ATHLETE HOME: Missing athleteId, routing to welcome"),e("/athlete-welcome");return}const j=ye.currentUser;if(!j){console.warn(" ATHLETE HOME: No Firebase user"),e("/athletesignin");return}try{const P=await j.getIdToken();b(!0);const{data:$}=await re.post(`${_h}/runcrew/hydrate`,{runCrewId:s,athleteId:r},{headers:{Authorization:`Bearer ${P}`}});if($!=null&&$.success&&$.runCrew)B.setRunCrewData($.runCrew),e("/runcrew/central");else throw new Error(($==null?void 0:$.error)||($==null?void 0:$.message)||"Failed to hydrate crew")}catch(P){console.error(" ATHLETE HOME: Unable to load crew",P),e("/runcrew/central")}finally{b(!1)}};if(!n)return a.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading your profile..."})]})});const I=n==null?void 0:n.gofastHandle;o?Uo.getOnboardingMessage(o,n):`${(n==null?void 0:n.firstName)||"Athlete"}`;const L=[{id:"activity",label:"Activity",icon:Fo,path:"/my-activities"},{id:"crew",label:"Crew",icon:Ht,path:s?"/runcrew/central":"/runcrew/join-or-start",onClick:s?k:void 0},{id:"events",label:"Events",icon:Hn,path:"/settings/events"}];return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[a.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-8 h-8 rounded-full"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"GoFast"})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-2",children:L.map(j=>{const P=j.icon,$=w===j.id;return a.jsxs("button",{onClick:()=>{m(j.id),j.onClick?j.onClick():j.path&&e(j.path)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition ${$?"bg-orange-50 text-orange-600 border border-orange-200":"text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(P,{className:"h-5 w-5"}),a.jsx("span",{children:j.label})]},j.id)})}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsxs("button",{onClick:()=>e("/athlete-profile"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-50 transition",children:[n!=null&&n.photoURL?a.jsx("img",{src:n.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full object-cover"}):a.jsx("span",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:n!=null&&n.firstName?n.firstName[0].toUpperCase():"A"}),a.jsx("span",{className:"font-medium text-gray-700",children:(n==null?void 0:n.firstName)||"Profile"})]})})]}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[w==="activity"&&"Activity",w==="crew"&&"Crew",w==="events"&&"Events"]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[w==="activity"&&"View and manage your activity tracking",w==="crew"&&"Manage your crew and coordinate runs",w==="events"&&"Create and manage events, view volunteers"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>e("/settings"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 rounded-lg font-medium hover:bg-gray-100 transition",children:[a.jsx(FC,{className:"h-5 w-5"}),a.jsx("span",{children:"Settings"})]}),a.jsx("button",{onClick:A,className:"px-4 py-2 text-gray-600 hover:text-gray-800 rounded-lg hover:bg-gray-100 transition",children:"Sign Out"})]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[w==="activity"&&a.jsxs("div",{className:"space-y-6",children:[!I&&a.jsx("div",{className:"bg-orange-500 border-2 border-orange-600 rounded-lg p-6 shadow-lg",children:a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsx("p",{className:"text-white font-semibold text-lg",children:"Complete your profile to unlock all features!"}),a.jsx("button",{onClick:()=>e("/athlete-create-profile"),className:"bg-white text-orange-600 px-6 py-3 rounded-lg font-bold hover:bg-orange-50 transition-colors shadow-md",children:"Complete Profile "})]})}),!N&&!x&&a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 border-2 border-orange-200",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Fo,{className:"h-16 w-16 text-orange-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Connect Garmin to Start Tracking"}),a.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Connect your Garmin device to automatically sync activities and track your runs."}),a.jsx("button",{onClick:()=>e("/settings"),className:"px-6 py-3 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition shadow-md",children:"Connect Device "})]})}),!N&&x&&(h||d&&d.length>0)&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"This Week's Activities"}),a.jsx("button",{onClick:()=>e("/my-activities"),className:"text-orange-600 hover:text-orange-700 font-semibold hover:underline",children:"View All "})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:(h==null?void 0:h.totalDistanceMiles)??"0"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Miles"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:(h==null?void 0:h.activityCount)??d.length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Activities"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:(h==null?void 0:h.totalCalories)??"0"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Calories"})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:a.jsx("p",{className:"text-sm text-gray-500 text-center",children:' Activities sync automatically from Garmin Connect. Click "View All" to see detailed activity history.'})})]}),!N&&x&&!h&&(!d||d.length===0)&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[a.jsx(Fo,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Activities Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your activities will appear here once you sync with Garmin Connect."}),a.jsx("button",{onClick:()=>e("/my-activities"),className:"px-6 py-3 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition",children:"View Activity History"})]})]}),w==="crew"&&a.jsx("div",{className:"space-y-6",children:s?a.jsxs("div",{onClick:k,className:"bg-gradient-to-r from-sky-500 to-sky-600 rounded-3xl shadow-2xl p-8 hover:shadow-3xl transition-all cursor-pointer transform hover:scale-[1.02] text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"My Run Crew"}),a.jsx("p",{className:"text-lg text-sky-50/90 mb-6 max-w-2xl mx-auto",children:"Manage your crew, coordinate runs, and keep everyone accountable."}),a.jsx("button",{onClick:k,className:"bg-orange-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-orange-600",disabled:g,children:g?"Loading Crew":"Go to RunCrew "})]}):a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[a.jsx(Ht,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Join or Create a Run Crew"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Connect with other runners and coordinate group runs"}),a.jsx("button",{onClick:()=>e("/runcrew/join-or-start"),className:"px-6 py-3 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition",children:"Get Started"})]})}),w==="events"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx(Hn,{className:"h-16 w-16 text-orange-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Event Management"}),a.jsx("p",{className:"text-gray-600",children:"Create and manage events, set up volunteer roles, and configure event details"})]}),a.jsx("button",{onClick:()=>e("/settings/events"),className:"w-full px-6 py-3 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition",children:"Manage Events"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx(Ht,{className:"h-16 w-16 text-blue-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Volunteer Management"}),a.jsx("p",{className:"text-gray-600",children:"View volunteers, manage signups, export rosters, and remove volunteers"})]}),a.jsx("button",{onClick:()=>e("/volunteer-management"),className:"w-full px-6 py-3 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition",children:"Manage Volunteers"})]})]})})]})})]})]})},VC=()=>{const[e,t]=v.useState(null),n=X();return v.useEffect(()=>{const r=localStorage.getItem("athleteProfile");r&&t(JSON.parse(r))},[]),a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-8 h-8 rounded-full"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Profile"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>n("/settings"),className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg font-medium hover:bg-gray-100 transition",children:"Settings"}),a.jsx("button",{onClick:()=>n("/athlete-home"),className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg font-medium hover:bg-gray-100 transition",children:" Back to Home"})]})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"relative inline-block mb-6",children:a.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full mx-auto flex items-center justify-center overflow-hidden shadow-lg ring-4 ring-white",children:e!=null&&e.photoURL?a.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx("span",{className:"text-5xl text-white font-bold",children:e!=null&&e.firstName?e.firstName[0].toUpperCase():""})})}),a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName} ${e.lastName}`:"Your Name"}),a.jsxs("p",{className:"text-xl text-gray-600 mb-6",children:["@",(e==null?void 0:e.gofastHandle)||"your_handle"]}),a.jsx("button",{onClick:()=>n("/athlete-edit-profile"),className:"bg-orange-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-orange-600 transition-colors shadow-md hover:shadow-lg",children:"Edit Profile"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(e==null?void 0:e.bio)&&a.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-orange-600 text-xl",children:""})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Bio"})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed pl-13",children:e.bio})]}),((e==null?void 0:e.city)||(e==null?void 0:e.state))&&a.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-orange-600 text-xl",children:""})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Location"})]}),a.jsxs("p",{className:"text-gray-700 text-lg pl-13",children:[(e==null?void 0:e.city)||"",e!=null&&e.city&&(e!=null&&e.state)?", ":"",(e==null?void 0:e.state)||""]})]}),(e==null?void 0:e.primarySport)&&a.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-orange-600 text-xl",children:""})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Primary Sport"})]}),a.jsx("p",{className:"text-gray-700 text-lg capitalize pl-13",children:e.primarySport})]}),(e==null?void 0:e.birthday)&&a.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-orange-600 text-xl",children:""})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Birthday"})]}),a.jsx("p",{className:"text-gray-700 text-lg pl-13",children:new Date(e.birthday).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(e==null?void 0:e.gender)&&a.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-orange-600 text-xl",children:""})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gender"})]}),a.jsx("p",{className:"text-gray-700 text-lg capitalize pl-13",children:e.gender})]}),(e==null?void 0:e.instagram)&&a.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-orange-600 text-xl",children:""})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Instagram"})]}),a.jsx("a",{href:`https://instagram.com/${e.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 text-lg pl-13 hover:underline",children:e.instagram})]}),(e==null?void 0:e.phoneNumber)&&a.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-orange-600 text-xl",children:""})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Phone"})]}),a.jsx("p",{className:"text-gray-700 text-lg pl-13",children:e.phoneNumber})]})]})]})]})},WC=()=>{const e=X(),[t,n]=v.useState({garmin:!1,strava:!1}),[r,s]=v.useState(!0);v.useEffect(()=>{i()},[]);const i=async()=>{try{const c=localStorage.getItem("athleteId");if(!c){console.log("No athleteId found in localStorage"),s(!1);return}console.log(" Checking connection status for athleteId:",c);const u=await fetch(`https://gofastbackendv2-fall2025.onrender.com/api/garmin/status?athleteId=${c}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(u.ok){const d=await u.json();console.log(" Connection status received:",d),n(f=>({...f,garmin:d.connected||!1,strava:!1}))}else console.log(" Failed to get connection status:",u.status)}catch(c){console.error(" Error checking connection status:",c)}finally{s(!1)}},o=async()=>{if(window.confirm(`Disconnect Garmin from GoFast?

This will:
 Deregister your account from Garmin
 Stop all activity data syncing
 Clear your Garmin connection from GoFast
 Allow you to connect a different Garmin account later`))try{const c=localStorage.getItem("athleteId");if(!c)throw new Error("AthleteId not found in localStorage");const u=await fetch("https://gofastbackendv2-fall2025.onrender.com/api/garmin/disconnect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({athleteId:c})});if(u.ok){const d=await u.json();console.log(" Garmin disconnected and deregistered"),await i(),alert(d.message||"Garmin disconnected and deregistered successfully.")}else{const d=await u.json();throw new Error(d.error||"Failed to disconnect Garmin")}}catch(c){console.error(" Garmin disconnect error:",c),alert("Failed to disconnect Garmin: "+c.message)}},l=async()=>{try{const c=localStorage.getItem("athleteId");if(!c)throw new Error("AthleteId not found in localStorage");console.log(` Starting Garmin OAuth for athleteId: ${c}`);const u=await fetch(`https://gofastbackendv2-fall2025.onrender.com/api/garmin/auth-url?athleteId=${c}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!u.ok){const p=await u.json();throw new Error(p.error||"Failed to get auth URL")}const d=await u.json();console.log(" Auth URL received, opening popup...");const f=window.open(d.authUrl,"garmin-oauth","width=600,height=700,scrollbars=yes,resizable=yes");window.addEventListener("message",p=>{p.data.type==="GARMIN_CONNECTED"?(console.log(" Garmin connected successfully!"),i()):p.data.type==="GARMIN_CONNECTION_ERROR"&&(console.error(" Garmin connection error:",p.data.message),alert("Garmin connection failed: "+p.data.message))});const h=setInterval(()=>{f.closed&&(clearInterval(h),console.log(" Popup closed, checking connection status..."),i())},1e3)}catch(c){console.error(" Garmin OAuth error:",c),alert("Failed to start Garmin connection: "+c.message)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your account and device connections"})]}),a.jsx("button",{onClick:()=>e("/athlete-home"),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition",children:"Back to Home"})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Device Connections"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-5 border border-gray-200 hover:border-gray-300 transition",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:"/Garmin_Connect_app_1024x1024-02.png",alt:"Garmin Connect",className:"h-10 w-10 rounded"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Garmin Connect"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Sync activities"})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:r?a.jsx("span",{className:"text-sm text-gray-400",children:"Checking..."}):t.garmin?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Connected"}),a.jsx("button",{onClick:o,className:"px-4 py-1.5 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition",children:"Disconnect"})]}):a.jsx("button",{onClick:l,className:"px-4 py-1.5 text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 rounded-lg transition",children:"Connect"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-5 border border-gray-200 hover:border-gray-300 transition",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded bg-orange-100 flex items-center justify-center text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Strava"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Import activities"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`text-sm font-medium ${t.strava?"text-green-600":"text-gray-500"}`,children:t.strava?"Connected":"Not Connected"}),!t.strava&&a.jsx("button",{onClick:()=>e("/settings/devices"),className:"px-4 py-1.5 text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 rounded-lg transition",children:"Connect"})]})]})})]})]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Connect your devices to automatically sync activities and track your runs.",a.jsx("span",{className:"text-xs text-gray-500 block mt-2",children:"Garmin Connect is a trademark of Garmin Ltd. GoFast is not affiliated with Garmin Ltd."})]})})]})]})},GC={"Starter + Finisher Crew":"marshal","Valleywood + John Marshall Crew":"marshal","Vermont + 35th Street North Crew":"marshal","Massachusetts + Nottingham / 35th Crew":"marshal","Massachusetts / Rhode Island + Rockingham Crew":"marshal","Virginia Avenue Entry Crew":"marshal","Virginia / Nottingham Crew":"marshal","Pacers  Fast":"pacer","Pacers  Medium":"pacer","Pacers  Finish Crew":"pacer","Water Stop #1  Massachusetts  Rhode Island":"water","Water Stop #2  Nottingham  35th":"water","Finish Line Holders 1":"finish","Finish Line Holders 2":"finish"},JC={marshal:"Course Marshal",pacer:"Pacer",water:"Water Station",finish:"Finish Line"},Tg=["Starter + Finisher Crew","Valleywood + John Marshall Crew","Vermont + 35th Street North Crew","Massachusetts + Nottingham / 35th Crew","Massachusetts / Rhode Island + Rockingham Crew","Virginia Avenue Entry Crew","Virginia / Nottingham Crew","Pacers  Fast","Pacers  Medium","Pacers  Finish Crew","Water Stop #1  Massachusetts  Rhode Island","Water Stop #2  Nottingham  35th","Finish Line Holders 1","Finish Line Holders 2"],za=e=>GC[e]||"other",Pg=e=>JC[e]||e,Lg=(e=[],t=Tg)=>{const n=new Set(e.map(o=>o.role)),r=n.size,s=t.length-r,i=t.filter(o=>!n.has(o));return{totalFilled:r,totalVacant:s,totalExpected:t.length,vacantRoles:i,filledRoles:Array.from(n)}},Ah="https://gofastbackendv2-fall2025.onrender.com/api",qC=["Course Marshals (5)","Pacers  Fast","Pacers  Medium","Pacers  Finish Crew","Finish Line Holders (2)","Water Station Crew","Setup & Teardown"],KC=["5:00 AM","5:30 AM","6:00 AM","6:30 AM","7:00 AM","7:30 AM","7:55 AM","8:00 AM","8:30 AM","9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM","6:00 PM","6:30 PM","7:00 PM","7:30 PM","8:00 PM"],YC=()=>{const e=X(),[t,n]=v.useState([]),[r,s]=v.useState({}),[i,o]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState(null),[p,g]=v.useState({title:"",description:"",date:"",startTime:"",location:"",address:"",stravaRouteUrl:"",distance:"",eventType:"race"}),b=()=>{const P=new Date("2025-11-12T00:00:00").toISOString().split("T")[0];g({title:"Boys on Run 5K",description:"Final week of our Boys Gotta Run season. We're keeping it low-key, warm, and all about the kids.",date:P,startTime:"7:55 AM",location:"Discovery Elementary School",address:"5275 N 36th St, Arlington, VA 22207",stravaRouteUrl:"https://www.strava.com/routes/3420808564668746102",distance:"5K",eventType:"race"}),setTimeout(()=>{const $=document.querySelector("form");$&&$.scrollIntoView({behavior:"smooth",block:"start"})},100)},[w,m]=v.useState({name:"",email:"",role:"",notes:""});v.useEffect(()=>{x()},[]);const x=async()=>{var j,P;o(!0);try{const $=B.getAthleteId();if(!$){alert("Athlete ID not found. Please sign in again."),e("/signin");return}const U=await xe.get("/event",{params:{isActive:"true",athleteId:$}});U.data.success?(n(U.data.data||[]),(j=U.data.data)==null||j.forEach(V=>{y(V.id)})):console.error(" Error fetching events:",U.data.error)}catch($){console.error(" Error fetching events:",$),((P=$.response)==null?void 0:P.status)===401&&(alert("Authentication required. Please sign in again."),e("/signin"))}finally{o(!1)}},y=async j=>{try{if(!j)return;const $=await(await fetch(`${Ah}/event-volunteer/admin-hydrate?eventId=${j}`)).json();$.success&&s(U=>({...U,[j]:$.data||[]}))}catch(P){console.error(" Error fetching volunteers:",P)}},N=j=>{if(!j)return"00:00";const[P,$]=j.split(" "),[U,V]=P.split(":");let K=parseInt(U,10);return $==="PM"&&K!==12&&(K+=12),$==="AM"&&K===12&&(K=0),`${K.toString().padStart(2,"0")}:${V||"00"}`},S=async j=>{var P,$,U,V,K,J,ee,C,R,M,D;if(j.preventDefault(),!((P=p.title)!=null&&P.trim())||!p.date){alert("Please fill in title and date");return}try{const H=p.date&&p.startTime?`${p.date}T${N(p.startTime)}:00`:p.date?`${p.date}T00:00:00`:null,be=B.getAthleteId();if(!be){alert("Athlete ID not found. Please sign in again."),e("/signin");return}const Le=(await xe.post("/event",{title:p.title.trim(),description:(($=p.description)==null?void 0:$.trim())||null,date:H?new Date(H).toISOString():new Date().toISOString(),startTime:((U=p.startTime)==null?void 0:U.trim())||null,location:((V=p.location)==null?void 0:V.trim())||null,address:((K=p.address)==null?void 0:K.trim())||null,stravaRouteUrl:((J=p.stravaRouteUrl)==null?void 0:J.trim())||null,distance:((ee=p.distance)==null?void 0:ee.trim())||null,eventType:((C=p.eventType)==null?void 0:C.trim())||null,athleteId:be})).data;Le.success?(c(!1),g({title:"",description:"",date:"",startTime:"",location:"",address:"",stravaRouteUrl:"",distance:"",eventType:"race"}),x(),alert(Le.wasUpdated?"Event updated successfully!":"Event created successfully!")):alert("Failed to create event: "+(Le.error||"Unknown error"))}catch(H){console.error(" Error creating event:",H),((R=H.response)==null?void 0:R.status)===401?(alert("Authentication required. Please sign in again."),e("/signin")):alert("Failed to create event: "+(((D=(M=H.response)==null?void 0:M.data)==null?void 0:D.error)||H.message))}},A=j=>{var P;d(j),m({name:j.name,email:j.email,role:j.role,notes:j.notes||""}),h(j.eventId||((P=j.event)==null?void 0:P.id))},k=async j=>{var P,$,U;if(confirm(`Are you sure you want to delete ${j.name} from ${j.role}?`))try{if((await xe.delete(`/event-volunteer/${j.id}`)).data.success){alert(" Volunteer deleted successfully");const K=j.eventId||((P=j.event)==null?void 0:P.id);K&&y(K)}}catch(V){console.error("Error deleting volunteer:",V),alert(" Failed to delete volunteer: "+(((U=($=V.response)==null?void 0:$.data)==null?void 0:U.error)||V.message))}},I=async()=>{if(!(!u||!f))try{if(!f){alert("Event not found");return}const P=await(await fetch(`${Ah}/event-volunteer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:f,name:w.name,email:w.email,role:w.role,notes:w.notes||void 0})})).json();P.success?(d(null),m({name:"",email:"",role:"",notes:""}),y(f),alert("Volunteer updated successfully!")):alert("Failed to update volunteer: "+(P.error||"Unknown error"))}catch(j){console.error(" Error updating volunteer:",j),alert("Failed to update volunteer: "+j.message)}},L=j=>j?new Date(j).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"N/A";return i?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Event Management"}),a.jsx("p",{className:"text-gray-600",children:"Create and manage events, view volunteers"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>c(!0),className:"px-6 py-3 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition flex items-center gap-2",children:[a.jsx(LC,{className:"h-5 w-5"}),"Create Event"]}),a.jsx("button",{onClick:()=>e("/settings"),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition",children:"Back to Settings"})]})]})})}),a.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:t.length===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[a.jsx(Hn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Events Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first event to get started"}),a.jsx("button",{onClick:()=>c(!0),className:"px-6 py-3 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition",children:"Create Event"})]}):a.jsx("div",{className:"space-y-6",children:t.map(j=>{var P,$;return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:j.title}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hn,{className:"h-4 w-4"}),a.jsx("span",{children:L(j.date)}),j.startTime&&a.jsxs("span",{children:[" ",j.startTime]})]}),j.location&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(TC,{className:"h-4 w-4"}),a.jsx("span",{children:j.location})]}),j.stravaRouteUrl&&a.jsxs("a",{href:j.stravaRouteUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-orange-600 hover:text-orange-700",children:[a.jsx(IC,{className:"h-4 w-4"}),a.jsx("span",{children:"View Route"})]})]}),j.description&&a.jsx("p",{className:"mt-3 text-gray-700",children:j.description})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm font-semibold",children:[((P=r[j.id])==null?void 0:P.length)||0," Volunteers"]})})]}),a.jsxs("div",{className:"mt-6 border-t pt-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Ht,{className:"h-5 w-5"}),"Volunteers"]}),(()=>{const U=Lg(r[j.id]||[]);return a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[a.jsx(Ci,{className:"h-4 w-4"}),a.jsx("span",{className:"font-semibold",children:U.totalFilled})," Filled"]}),a.jsxs("span",{className:"flex items-center gap-1 text-orange-600",children:[a.jsx(Ar,{className:"h-4 w-4"}),a.jsx("span",{className:"font-semibold",children:U.totalVacant})," Vacant"]}),U.totalVacant>0&&a.jsx("button",{onClick:()=>e(`/volunteer-management/vacant?eventId=${j.id}`),className:"text-orange-600 hover:text-orange-700 font-medium underline",children:"View Vacant Roles"})]})})()]}),a.jsx("button",{onClick:()=>y(j.id),className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"Refresh"})]}),(($=r[j.id])==null?void 0:$.length)>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Notes"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r[j.id].sort((U,V)=>{const K=za(U.role),J=za(V.role);if(K!==J){const ee=["marshal","pacer","water","finish","other"];return ee.indexOf(K)-ee.indexOf(J)}return U.role.localeCompare(V.role)}).map(U=>{const V=za(U.role),K=Pg(V);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:K})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:U.role}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:U.name}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:U.email}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:U.notes||""}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>A(U),className:"text-orange-600 hover:text-orange-700 font-medium",children:"Edit"}),a.jsx("button",{onClick:()=>k(U),className:"text-red-600 hover:text-red-700 font-medium",children:"Delete"})]})})]},U.id)})})]})}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Ht,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{children:"No volunteers yet for this event"})]})]})]},j.id)})})}),l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Event"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{type:"button",onClick:b,className:"px-5 py-2.5 text-sm font-bold text-white bg-orange-500 rounded-lg hover:bg-orange-600 transition shadow-md hover:shadow-lg",title:"Click to fill ALL fields automatically - no typing required!",children:" Pre-fill: Boys on Run 5K"}),a.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Ih,{className:"h-6 w-6"})})]})]}),a.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[!p.title&&a.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:a.jsx("p",{className:"text-sm text-orange-700 font-medium",children:' Click the " Pre-fill: Boys on Run 5K" button above to automatically fill ALL fields - no typing required!'})}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Event Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:p.title,onChange:j=>g({...p,title:j.target.value}),placeholder:"Boys Gotta Run  Discovery 5K (Final Run)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:p.description,onChange:j=>g({...p,description:j.target.value}),placeholder:"Event description...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:p.date,onChange:j=>g({...p,date:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Time"}),a.jsxs("select",{value:p.startTime,onChange:j=>g({...p,startTime:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select time..."}),KC.map(j=>a.jsx("option",{value:j,children:j},j))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),a.jsx("input",{type:"text",value:p.location,onChange:j=>g({...p,location:j.target.value}),placeholder:"Discovery Elementary",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address"}),a.jsx("input",{type:"text",value:p.address,onChange:j=>g({...p,address:j.target.value}),placeholder:"5275 N 36th St, Arlington, VA 22207",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Distance"}),a.jsx("input",{type:"text",value:p.distance,onChange:j=>g({...p,distance:j.target.value}),placeholder:"5K, 10K, 3.1 miles, etc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Strava Route URL"}),a.jsx("input",{type:"url",value:p.stravaRouteUrl,onChange:j=>g({...p,stravaRouteUrl:j.target.value}),placeholder:"https://www.strava.com/routes/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Just paste the Strava route URL - no need to extract the ID"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-6 py-2 border border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600",children:"Create Event"})]})]})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full",children:[a.jsxs("div",{className:"border-b px-6 py-4 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Volunteer"}),a.jsx("button",{onClick:()=>{d(null),m({name:"",email:"",role:"",notes:""})},className:"text-gray-400 hover:text-gray-600",children:a.jsx(Ih,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:w.name,onChange:j=>m({...w,name:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",value:w.email,onChange:j=>m({...w,email:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Role ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:w.role,onChange:j=>m({...w,role:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0,children:[a.jsx("option",{value:"",children:"Select a role"}),qC.map(j=>a.jsx("option",{value:j,children:j},j))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{value:w.notes,onChange:j=>m({...w,notes:j.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{d(null),m({name:"",email:"",role:"",notes:""})},className:"px-6 py-2 border border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsxs("button",{onClick:I,className:"px-6 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 flex items-center gap-2",children:[a.jsx(DC,{className:"h-4 w-4"}),"Save Changes"]})]})]})]})})]})},Rh="https://gofastbackendv2-fall2025.onrender.com/api",QC=()=>{const e=X(),[t,n]=v.useState([]),[r,s]=v.useState({}),[i,o]=v.useState(!0),[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(null),[p,g]=v.useState(null);v.useEffect(()=>{b()},[]),v.useEffect(()=>{l&&w(l)},[l]);const b=async()=>{var k;o(!0),h(null);try{const I=B.getAthleteId();if(!I){h("Athlete ID not found. Please sign in again."),e("/athlete-welcome");return}const L=await xe.get(`/event?athleteId=${I}`);if((k=L.data)!=null&&k.success&&L.data.data){const j=Array.isArray(L.data.data)?L.data.data:[];n(j),j.length>0&&!l&&c(j[0].id)}}catch(I){console.error("Failed to fetch events:",I),h("Failed to load events. Please try again.")}finally{o(!1)}},w=async k=>{if(k)try{const I=await fetch(`${Rh}/event-volunteer/admin-hydrate?eventId=${k}`);if(I.ok){const L=await I.json();L.success&&L.data&&s(j=>({...j,[k]:Array.isArray(L.data)?L.data:[]}))}}catch(I){console.error("Failed to fetch volunteers:",I),h("Failed to load volunteers. Please try again.")}},m=async(k,I)=>{if(window.confirm("Are you sure you want to remove this volunteer?")){d(k),h(null),g(null);try{const L=await fetch(`${Rh}/event-volunteer/${k}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(L.ok)g("Volunteer removed successfully."),await w(I),setTimeout(()=>g(null),3e3);else{const j=await L.json();throw new Error(j.error||"Failed to remove volunteer")}}catch(L){console.error("Failed to delete volunteer:",L),h(L.message||"Failed to remove volunteer. The DELETE endpoint may not be implemented yet."),setTimeout(()=>h(null),5e3)}finally{d(null)}}},x=k=>{var K;const I=t.find(J=>J.id===k),L=r[k]||[];if(L.length===0){alert("No volunteers to export.");return}const j=L.reduce((J,ee)=>{const C=ee.role||"Unassigned";return J[C]||(J[C]=[]),J[C].push(ee),J},{});let P=`Event: ${(I==null?void 0:I.title)||"Unknown Event"}
`;P+=`Date: ${I!=null&&I.date?new Date(I.date).toLocaleDateString():"N/A"}
`,P+=`Location: ${(I==null?void 0:I.location)||"N/A"}
`,P+=`
`,P+=`Total Volunteers: ${L.length}
`,P+=`
`,Object.entries(j).forEach(([J,ee])=>{P+=`
${J} (${ee.length})
`,P+=`Name,Email,Notes,Signup Date
`,ee.forEach(C=>{const R=C.name||"",M=C.email||"",D=C.notes||"",H=C.createdAt?new Date(C.createdAt).toLocaleDateString():"";P+=`"${R}","${M}","${D}","${H}"
`})});const $=new Blob([P],{type:"text/csv;charset=utf-8;"}),U=document.createElement("a"),V=URL.createObjectURL($);U.setAttribute("href",V),U.setAttribute("download",`volunteers-${(K=I==null?void 0:I.title)==null?void 0:K.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${Date.now()}.csv`),U.style.visibility="hidden",document.body.appendChild(U),U.click(),document.body.removeChild(U)},y=k=>(r[k]||[]).reduce((j,P)=>{const $=P.role||"Unassigned";return j[$]||(j[$]=[]),j[$].push(P),j},{}),N=t.find(k=>k.id===l),S=l?r[l]||[]:[],A=l?y(l):{};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:()=>e("/athlete-home"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition",children:[a.jsx(_g,{className:"h-5 w-5"}),a.jsx("span",{children:"Back to Home"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Volunteer Management"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage volunteers for your events"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>e("/settings/events"),className:"px-4 py-2 text-gray-600 hover:text-gray-900 rounded-lg font-medium hover:bg-gray-100 transition",children:"Manage Events"}),a.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 rounded-lg font-medium hover:bg-gray-100 transition",children:[a.jsx(yu,{className:"h-4 w-4"}),a.jsx("span",{children:"Refresh"})]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[f&&a.jsxs("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 p-4 flex items-center gap-3",children:[a.jsx(Ar,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-red-800",children:f})]}),p&&a.jsxs("div",{className:"mb-6 rounded-lg border border-green-200 bg-green-50 p-4 flex items-center gap-3",children:[a.jsx(Ci,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-green-800",children:p})]}),i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})}):t.length===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[a.jsx(Hn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Events Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Create an event to start managing volunteers."}),a.jsx("button",{onClick:()=>e("/settings/events"),className:"px-6 py-3 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition",children:"Create Event"})]}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Events"}),a.jsx("div",{className:"space-y-2",children:t.map(k=>{var j;const I=((j=r[k.id])==null?void 0:j.length)||0,L=l===k.id;return a.jsxs("button",{onClick:()=>c(k.id),className:`w-full text-left p-3 rounded-lg transition ${L?"bg-orange-50 border-2 border-orange-200":"bg-gray-50 hover:bg-gray-100 border-2 border-transparent"}`,children:[a.jsx("div",{className:"font-medium text-gray-900",children:k.title}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:k.date?new Date(k.date).toLocaleDateString():"No date"}),a.jsxs("div",{className:"text-xs text-orange-600 mt-1 font-medium",children:[I," volunteer",I!==1?"s":""]})]},k.id)})})]})}),a.jsx("div",{className:"lg:col-span-3",children:N?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:N.title}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-4 text-sm text-gray-600",children:[N.date&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hn,{className:"h-4 w-4"}),a.jsx("span",{children:new Date(N.date).toLocaleDateString()})]}),N.location&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(AC,{className:"h-4 w-4"}),a.jsx("span",{children:N.location})]})]})]}),a.jsxs("button",{onClick:()=>x(l),className:"flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition",children:[a.jsx(kC,{className:"h-4 w-4"}),a.jsx("span",{children:"Export CSV"})]})]}),a.jsx("div",{className:"flex items-center gap-4 text-sm",children:a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Ht,{className:"h-4 w-4"}),a.jsxs("span",{className:"font-medium",children:[S.length," total volunteer",S.length!==1?"s":""]})]})})]}),Object.keys(A).length>0?a.jsx("div",{className:"space-y-4",children:Object.entries(A).map(([k,I])=>a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[k," ",a.jsxs("span",{className:"text-gray-500 text-sm",children:["(",I.length,")"]})]})}),a.jsx("div",{className:"space-y-3",children:I.map(L=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:L.name}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:L.email}),L.notes&&a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:L.notes}),a.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Signed up: ",L.createdAt?new Date(L.createdAt).toLocaleDateString():"Unknown"]})]}),a.jsx("button",{onClick:()=>m(L.id,l),disabled:u===L.id,className:"ml-4 p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove volunteer",children:u===L.id?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-red-600"}):a.jsx(Rg,{className:"h-5 w-5"})})]},L.id))})]},k))}):a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[a.jsx(Ht,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Volunteers Yet"}),a.jsx("p",{className:"text-gray-600",children:"Volunteers will appear here once they sign up for this event."})]})]}):a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[a.jsx(Hn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select an Event"}),a.jsx("p",{className:"text-gray-600",children:"Choose an event from the list to view volunteers."})]})})]})]})]})},Th="https://gofastbackendv2-fall2025.onrender.com/api",XC=()=>{const e=X(),[t]=En(),n=t.get("eventId"),[r,s]=v.useState([]),[i,o]=v.useState(null),[l,c]=v.useState(!0);v.useEffect(()=>{n&&u()},[n]);const u=async()=>{c(!0);try{const g=await(await fetch(`${Th}/event/${n}`)).json();g.success&&o(g.data);const w=await(await fetch(`${Th}/event-volunteer/admin-hydrate?eventId=${n}`)).json();w.success&&s(w.data||[])}catch(p){console.error("Error fetching data:",p)}finally{c(!1)}};if(l)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading vacant roles..."})]})});const d=Lg(r,Tg),f={};d.vacantRoles.forEach(p=>{const g=za(p);f[g]||(f[g]=[]),f[g].push(p)});const h=["marshal","pacer","water","finish"];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("button",{onClick:()=>e("/settings/events"),className:"text-gray-600 hover:text-gray-900",children:a.jsx(_g,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Vacant Volunteer Roles"})]}),i&&a.jsx("p",{className:"text-gray-600 ml-8",children:i.title})]})})})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 mb-2",children:[a.jsx(Ci,{className:"h-5 w-5"}),a.jsx("span",{className:"text-2xl font-bold",children:d.totalFilled})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Filled Roles"})]}),a.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-600 mb-2",children:[a.jsx(Ar,{className:"h-5 w-5"}),a.jsx("span",{className:"text-2xl font-bold",children:d.totalVacant})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Vacant Roles"})]}),a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-600 mb-2",children:[a.jsx(Ht,{className:"h-5 w-5"}),a.jsx("span",{className:"text-2xl font-bold",children:d.totalExpected})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Expected"})]})]})}),d.totalVacant===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[a.jsx(Ci,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"All Roles Filled!"}),a.jsx("p",{className:"text-gray-600",children:"All volunteer positions have been filled. Great job!"})]}):a.jsx("div",{className:"space-y-6",children:h.map(p=>!f[p]||f[p].length===0?null:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:Pg(p)}),a.jsxs("span",{className:"text-gray-500 text-sm",children:["(",f[p].length," vacant)"]})]}),a.jsx("div",{className:"space-y-2",children:f[p].map(g=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:g}),a.jsx("span",{className:"text-xs text-orange-600 font-medium",children:"Vacant"})]},g))})]},p))})]})]})},ZC=()=>{const e=X(),[t]=En(),[n,r]=v.useState("loading"),[s,i]=v.useState("");return v.useEffect(()=>{(async()=>{try{console.log(" GarminOAuthCallback: Processing OAuth callback");const l=t.get("code"),c=t.get("state"),u=t.get("error");if(console.log(" OAuth callback params:",{code:l?"present":"missing",state:c,error:u}),u)throw new Error(`OAuth error: ${u}`);if(!l)throw new Error("No authorization code received");console.log(" Authorization code received:",l);const d=localStorage.getItem("athleteId");if(!d)throw new Error("AthleteId not found in localStorage");console.log(" Calling backend exchange endpoint with:",{code:l,athleteId:d});const f=await fetch(`https://gofastbackendv2-fall2025.onrender.com/api/garmin/exchange?code=${l}&athleteId=${d}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(console.log(" Backend response status:",f.status),!f.ok){const p=await f.json();throw new Error(p.error||"Failed to exchange code for tokens")}const h=await f.json();console.log(" Tokens exchanged successfully:",h),r("success"),i("Garmin connected successfully!"),setTimeout(()=>e(`/garmin/success?athleteId=${d}`),1e3)}catch(l){console.error(" OAuth callback error:",l),r("error"),i(l.message||"Failed to connect to Garmin"),setTimeout(()=>e("/settings"),3e3)}})()},[e,t]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:a.jsx("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full",children:[n==="loading"&&a.jsx(yu,{className:"h-8 w-8 text-orange-600 animate-spin"}),n==="success"&&a.jsx(Ag,{className:"h-8 w-8 text-green-600"}),n==="error"&&a.jsx(Ar,{className:"h-8 w-8 text-red-600"})]}),n!=="loading"&&a.jsx("div",{className:"mb-4 flex justify-center",children:a.jsx("img",{src:"/Garmin_Connect_app_1024x1024-02.png",alt:"Garmin Connect",className:"h-10 w-auto"})}),a.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[n==="loading"&&"Processing Garmin Connect Connection...",n==="success"&&"Garmin Connect Connected Successfully!",n==="error"&&"Connection Failed"]}),a.jsxs("p",{className:"text-gray-600 mb-6",children:[n==="loading"&&"Please wait while we complete your Garmin Connect connection...",n==="success"&&"Redirecting to your dashboard...",n==="error"&&s]})]})})})},eS=()=>{const e=X(),[t,n]=v.useState("loading"),[r,s]=v.useState(""),[i,o]=v.useState({connected:!1,userId:null,connectedAt:null}),[l,c]=v.useState(!1);v.useEffect(()=>{const h=new URLSearchParams(window.location.search),p=h.get("status"),g=h.get("athleteId"),b=h.get("message");console.log(" URL params:",{urlStatus:p,athleteId:g,message:b});const w=window.opener!==null;p==="error"?(n("error"),s(b||"Unknown error occurred"),o(m=>({...m,connected:!1})),w&&window.opener.postMessage({type:"GARMIN_CONNECTION_ERROR",message:b||"Unknown error occurred"},"*")):p==="success"||g?(n("success"),o(m=>({...m,connected:!0,connectedAt:new Date().toISOString()})),w&&window.opener.postMessage({type:"GARMIN_CONNECTED",success:!0,athleteId:g},"*")):(n("unknown"),w&&window.opener.postMessage({type:"GARMIN_CONNECTION_UNKNOWN",message:"Unable to determine connection status"},"*"))},[]);const u=()=>{window.opener?(window.opener.postMessage({type:"GARMIN_CONNECTED",success:!0,action:"start_tracking"},"*"),setTimeout(()=>window.close(),100)):e("/athlete-home")},d=()=>{window.opener?window.close():e("/settings")},f=()=>t==="loading"?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full",children:a.jsx(yu,{className:"h-8 w-8 text-blue-600 animate-spin"})}),a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Processing..."}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Checking your Garmin Connect connection status."})]}):t==="error"?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full",children:a.jsx(Ar,{className:"h-8 w-8 text-red-600"})}),a.jsx("h1",{className:"text-2xl font-bold mb-2 text-red-600",children:"Connection Failed"}),a.jsx("p",{className:"text-gray-600 mb-6",children:r||"There was an error connecting your Garmin Connect account."})]}):t==="success"?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:a.jsx(Ag,{className:"h-10 w-10 text-green-600"})}),a.jsx("div",{className:"mb-4 flex justify-center",children:a.jsx("img",{src:"/Garmin_Connect_app_1024x1024-02.png",alt:"Garmin Connect",className:"h-12 w-auto"})}),a.jsx("h1",{className:"text-2xl font-bold mb-3 text-gray-900",children:"Garmin Connect Connected! "}),a.jsx("p",{className:"text-gray-700 mb-2 text-lg font-medium",children:"You're all set! Your runs will now sync automatically."}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Track your progress, hit your goals, and let's go fast together! "})]}):a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full",children:a.jsx(Ar,{className:"h-8 w-8 text-yellow-600"})}),a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Unknown Status"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Unable to determine connection status."})]});return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:a.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:[f(),a.jsxs("div",{className:"space-y-4",children:[t==="success"&&a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Connection Details:"}),a.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Status:"})," Connected"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Connected:"})," ",i.connectedAt?new Date(i.connectedAt).toLocaleString():"Just now"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[t==="error"&&a.jsx("button",{onClick:d,className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors font-semibold",children:"Close"}),t==="success"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:u,className:"w-full bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors font-semibold mb-2",children:"Start Tracking "}),a.jsx("button",{onClick:d,className:"w-full bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Close"})]}),t==="unknown"&&a.jsx("button",{onClick:d,className:"w-full bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors font-semibold",children:"Close"})]}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:a.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Garmin Connect is a trademark of Garmin Ltd. or its subsidiaries. GoFast is not affiliated with Garmin Ltd. or its subsidiaries."})})]})]})})},tS=()=>{const e=X(),[t]=En();v.useEffect(()=>{const i=t.get("code");i&&e(`/run-crew-join?code=${encodeURIComponent(i)}`)},[t,e]);const n=()=>{e("/run-crew-join")},r=()=>{e("/form-run-crew")},s=()=>{e(-1)};return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-6 h-6 rounded-full"}),a.jsx("span",{className:"font-bold text-gray-900",children:"GoFast"})]}),a.jsx("div",{})]})})}),a.jsxs("div",{className:"max-w-md mx-auto px-6 py-12",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Where do you want to start?"}),a.jsx("p",{className:"text-gray-600",children:"Join an existing crew or start your own"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:n,className:"w-full bg-orange-500 text-white py-6 rounded-xl font-bold text-xl hover:bg-orange-600 transition-colors shadow-lg flex items-center justify-center space-x-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{children:"Enter Invite Code"})]}),a.jsxs("button",{onClick:r,className:"w-full bg-white border-2 border-orange-200 text-gray-900 py-6 rounded-xl font-bold text-xl hover:border-orange-400 transition-colors shadow-lg flex items-center justify-center space-x-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{children:"Start Your Crew"})]})]}),a.jsxs("div",{className:"mt-12 bg-gray-50 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 text-center",children:"How Run Crews Work"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-orange-600 font-bold text-xs",children:"1"})}),a.jsx("p",{className:"text-sm text-gray-600",children:"Join an existing crew with an invite code or create your own"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-orange-600 font-bold text-xs",children:"2"})}),a.jsx("p",{className:"text-sm text-gray-600",children:"Share your join code with friends to build your crew"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-orange-600 font-bold text-xs",children:"3"})}),a.jsx("p",{className:"text-sm text-gray-600",children:"Coordinate runs, track progress, and stay accountable together"})]})]})]})]})]})},Ph="https://gofastbackendv2-fall2025.onrender.com/api";function nS(){const e=X(),[t]=En(),[n,r]=v.useState(""),[s,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null),[h,p]=v.useState(!1);v.useEffect(()=>{const N=t.get("code");N&&r(N.toUpperCase().trim())},[t]);const g=N=>{const S=N.toUpperCase().trim();return!S||S.length<3?{valid:!1,message:"Join code must be at least 3 characters"}:S.length>20?{valid:!1,message:"Join code must be 20 characters or less"}:/^[A-Z0-9-_]+$/.test(S)?{valid:!0,normalized:S}:{valid:!1,message:"Join code can only contain letters, numbers, hyphens, and underscores"}},b=async N=>{const S=g(N);if(!S.valid){l(S.message),f(null),p(!1);return}try{u(!0),l(null);const A=await fetch(`${Ph}/runcrew/preview/${S.normalized}`);if(!A.ok){const I=await A.json();throw new Error(I.message||"RunCrew not found")}const k=await A.json();if(k.success&&k.runCrew)f(k.runCrew),p(!0);else throw new Error("Invalid join code")}catch(A){console.error("Error previewing crew:",A),l(A.message||"RunCrew not found. Please check the code and try again."),f(null),p(!1)}finally{u(!1)}},w=async()=>{var A,k;l(null);const N=g(n);if(!N.valid){l(N.message);return}const S=B.getAthleteId();if(!S){l("Please sign in again"),e("/athlete-home");return}i(!0);try{const I=ye.currentUser;if(!I){l("Please sign in again"),e("/athlete-home");return}const L=await I.getIdToken(),j=await fetch(`${Ph}/runcrew/join`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({joinCode:N.normalized,athleteId:S})}),P=await j.json();if(!j.ok)throw new Error(P.message||P.error||"Failed to join crew");if(P.success){if(P.runCrew){const U=Array.isArray((A=P.runCrew)==null?void 0:A.managers)?P.runCrew.managers.find(C=>C.athleteId===S&&C.role==="admin"):null,V=!!U,K=B.getAthleteProfile()||{},J=Array.isArray(K.runCrews)?K.runCrews:[],ee=[{...P.runCrew,isAdmin:V},...J.filter(C=>C.id!==P.runCrew.id)];B.setAthleteProfile({...K,runCrews:ee}),B.setRunCrewData({...P.runCrew,isAdmin:V}),B.setRunCrewId(P.runCrew.id),B.setRunCrewManagerId((U==null?void 0:U.id)||null)}const $=Array.isArray((k=P.runCrew)==null?void 0:k.managers)?P.runCrew.managers.find(U=>U.athleteId===S&&U.role==="admin"):null;e($?"/crew/crewadmin":`/runcrew/${P.runCrew.id}`)}else throw new Error(P.message||"Failed to join crew")}catch(I){console.error("Error joining crew:",I),l(I.message||"Failed to join crew. Please check the code and try again.")}finally{i(!1)}},m=N=>{const S=N.target.value;r(S),l(null),f(null),p(!1)},x=()=>{n.trim()&&b(n)},y=()=>{w()};return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:a.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>e("/runcrew/join"),className:"text-gray-600 hover:text-gray-800",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-6 h-6 rounded-full"}),a.jsx("span",{className:"font-bold text-gray-900",children:"GoFast"})]}),a.jsx("div",{})]})})}),a.jsxs("div",{className:"max-w-md mx-auto px-6 py-12",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Enter Your Invite Code"}),a.jsx("p",{className:"text-gray-600",children:"Get the code from your RunCrew admin"})]}),o&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:a.jsx("p",{className:"text-red-800 text-sm",children:o})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Join Code"}),a.jsx("input",{type:"text",value:n,onChange:m,onKeyPress:N=>{N.key==="Enter"&&n.trim()&&!h&&x()},className:"w-full p-4 border-2 border-gray-300 rounded-lg text-lg font-mono uppercase focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"e.g. FAST123",disabled:s||c,maxLength:20}),c&&a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Checking code..."}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Enter the join code provided by your RunCrew admin"})]}),h&&d&&a.jsxs("div",{className:"bg-white border-2 border-orange-200 rounded-lg p-6 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Preview RunCrew"}),a.jsx("button",{onClick:()=>{p(!1),f(null)},className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:d.name}),d.description&&a.jsx("p",{className:"text-gray-600 mt-1",children:d.description})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsxs("span",{children:[d.memberCount," members"]})]}),d.admin&&a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("span",{children:["Admin: ",d.admin.firstName," ",d.admin.lastName]})})]})]})]}),h?a.jsx("button",{onClick:y,disabled:s||c,className:"w-full bg-green-600 text-white py-4 rounded-lg font-bold text-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:s?"Joining...":"Yes, Join This Crew"}):a.jsx("button",{onClick:x,disabled:s||!n.trim()||c,className:"w-full bg-orange-500 text-white py-4 rounded-lg font-bold text-lg hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:c?"Checking...":"Preview Crew"}),a.jsx("button",{onClick:()=>e("/runcrew/join"),className:"w-full text-gray-600 py-2 hover:text-gray-800",children:" Back"})]})]})]})}const Lh="https://gofastbackendv2-fall2025.onrender.com/api";function $o(){const e=X(),{code:t}=qc(),[n]=En(),r=n.get("code"),[s,i]=v.useState(""),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null),h=!!(t||r),p=async x=>{var y,N;if(!(!x||!x.trim())){u(!0),f(null);try{const S=await re.post(`${Lh}/runcrew/lookup`,{joinCode:x.trim().toUpperCase()});S.data.success?l(S.data):(f(S.data.message||"Invalid or expired join code"),l(null))}catch(S){console.error("Lookup error:",S),f(((N=(y=S.response)==null?void 0:y.data)==null?void 0:N.message)||"Invalid or expired join code"),l(null)}finally{u(!1)}}};v.useEffect(()=>{const x=t||r;if(x){const y=x.toUpperCase().trim();i(y),y&&p(y)}},[t,r]);const g=async()=>{if(!s.trim()){f("Please enter a join code");return}await p(s)},b=async()=>{var x,y;if(!o){f("Please find a crew first");return}u(!0),f(null);try{let N=ye.currentUser;if(!N&&(console.log(" No user signed in, performing Google sign-in..."),await hu(),N=ye.currentUser,!N))throw new Error("Sign-in failed. Please try again.");const S=await N.getIdToken(),A=await re.post(`${Lh}/runcrew/join`,{joinCode:s.trim().toUpperCase()},{headers:{Authorization:`Bearer ${S}`}});if(A.data.success){const{athleteId:k,runCrew:I}=A.data;B.setRunCrewData(I),B.setRunCrewId(I.id),B.setAthleteId(k),localStorage.setItem("firebaseToken",S),localStorage.setItem("firebaseId",N.uid),localStorage.setItem("email",N.email||""),e("/runcrew/central")}else throw new Error(A.data.message||"Failed to join crew")}catch(N){console.error("Join error:",N),f(((y=(x=N.response)==null?void 0:x.data)==null?void 0:y.message)||N.message||"Failed to join crew. Please try again.")}finally{u(!1)}},w=x=>{const y=x.target.value.toUpperCase();i(y),f(null),l(null)},m=x=>{x.key==="Enter"&&s.trim()&&!o&&g()};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-6 py-12",children:a.jsxs("div",{className:"max-w-md w-full bg-white border border-gray-200 rounded-xl shadow-sm p-8 space-y-6",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:o?`Welcome to ${o.name}!`:c?"Loading...":"Welcome to RunCrew!"}),a.jsx("p",{className:"text-gray-600 text-sm",children:o?"Ready to join this crew? Click below to get started.":"Someone shared a crew code with you  awesome."})]}),d&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),c&&!o&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),a.jsx("p",{className:"text-gray-600 mt-4",children:"Finding your crew..."})]}),o?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[o.description&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),a.jsx("p",{className:"text-base text-gray-700",children:o.description})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Members"}),a.jsxs("p",{className:"text-base text-gray-700",children:[o.memberCount," member",o.memberCount!==1?"s":""]})]})]})}),a.jsx("button",{onClick:b,disabled:c,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition disabled:opacity-60 disabled:cursor-not-allowed",children:c?"Joining...":"Join Crew"})]}):h?null:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter your join code"}),a.jsx("input",{type:"text",value:s,onChange:w,onKeyPress:m,placeholder:"Enter your join code",className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-lg font-mono uppercase focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",disabled:c,maxLength:20})]}),a.jsx("button",{onClick:g,disabled:c||!s.trim(),className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 rounded-lg transition disabled:opacity-60 disabled:cursor-not-allowed",children:c?"Finding...":"Find My Crew"})]}),a.jsx("button",{onClick:()=>e("/athlete-home"),className:"w-full text-gray-600 hover:text-gray-800 text-sm py-2",children:" Back to Home"})]})})}const rS=async()=>new Promise(e=>{const t=gN(ye,n=>{if(t(),n){console.log(" AuthDetection: User authenticated:",n.email),e(!0);return}const r=B.getAthleteId(),s=localStorage.getItem("firebaseToken");if(r&&s){console.log(" AuthDetection: Found athleteId and token in localStorage"),e(!0);return}console.log(" AuthDetection: User not authenticated"),e(!1)})}),Mh=e=>{if(!e)throw new Error("Join code is required");const t=e.toUpperCase().trim();return`${window.location.origin||"https://athlete.gofastcrushgoals.com"}/joinruncrewwelcome?code=${encodeURIComponent(t)}`},Oh="https://gofastbackendv2-fall2025.onrender.com/api";function sS(){const e=X(),[t]=En(),[n,r]=v.useState(""),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState(null),[h,p]=v.useState(null),[g,b]=v.useState(!1);v.useEffect(()=>{const S=t.get("code");if(S){const A=S.toUpperCase().trim();r(A),(async()=>{try{const I=await rS();if(b(!0),I){console.log(" JoinRunCrewWelcome: User authenticated  Redirecting to authenticated join flow"),e(`/runcrew/join?code=${encodeURIComponent(A)}`,{replace:!0});return}console.log(" JoinRunCrewWelcome: User not authenticated  Continuing with Join Code-First flow"),await w(A)}catch(I){console.error("Error checking auth state:",I),b(!0),await w(A)}})()}else b(!0)},[t,e]);const w=async(S=null)=>{const A=S||n.trim();if(!A){f("Please enter a join code");return}u(!0),f(null),i(null);try{console.log(" JoinRunCrewWelcome: Validating code with backend...");const k=await fetch(`${Oh}/join/validate?code=${encodeURIComponent(A.toUpperCase().trim())}`);if(!k.ok){const L=await k.json().catch(()=>({}));throw new Error(L.message||"Invalid or expired join code")}const I=await k.json();if(I.success)console.log(" JoinRunCrewWelcome: Code validated, crew found:",I.crewName),i(I),r(A.toUpperCase().trim());else throw new Error(I.message||"Invalid join code")}catch(k){console.error(" JoinRunCrewWelcome: Validation error:",k),f(k.message||"Failed to validate join code. Please check the code and try again."),i(null)}finally{u(!1)}},m=async()=>{if(!s||!n.trim()){f("Please validate a join code first");return}l(!0),f(null);try{console.log(" JoinRunCrewWelcome: Storing join context...");const S=await fetch(`${Oh}/join/temp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({joinCode:n.trim().toUpperCase()})});if(!S.ok){const k=await S.json().catch(()=>({}));throw new Error(k.message||"Failed to store join context")}const A=await S.json();if(A.success)console.log(" JoinRunCrewWelcome: Join context stored, redirecting to signup"),p(A.sessionId),localStorage.setItem("joinSessionId",A.sessionId),e(`/athletesignup?hasJoinContext=true&sessionId=${A.sessionId}`,{replace:!0});else throw new Error(A.message||"Failed to store join context")}catch(S){console.error(" JoinRunCrewWelcome: Join error:",S),f(S.message||"Failed to proceed. Please try again.")}finally{l(!1)}},x=S=>{const A=S.target.value.toUpperCase();r(A),f(null),i(null)},y=S=>{S.key==="Enter"&&n.trim()&&!s&&w()},N=()=>{f(null),i(null),r("")};return g?c&&!s?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center px-6 py-12",children:a.jsx("div",{className:"max-w-md w-full bg-white border border-gray-200 rounded-xl shadow-lg p-8 space-y-6",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Loading your RunCrew... standby..."}),a.jsxs("p",{className:"text-gray-500 text-xs",children:["Validating code: ",n]})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center px-6 py-12",children:a.jsxs("div",{className:"max-w-md w-full bg-white border border-gray-200 rounded-xl shadow-lg p-8 space-y-6",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"You've Been Invited!"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Join a RunCrew and start crushing your goals together"})]}),d&&!s&&a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6 space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Code Not Found"}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:d})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Hey, all good! Check with your bro or still wanna join?"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:N,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white font-semibold py-2 px-4 rounded-lg transition text-sm",children:"Try Another Code"}),a.jsx("button",{onClick:()=>e("/runcrew/join-or-start"),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg transition text-sm",children:"Browse Crews"})]})]})]}),s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Here's Your Crew!"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-100",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Crew Name"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:s.crewName})]}),s.managerName&&a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-100",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Led by"}),a.jsx("p",{className:"text-base font-semibold text-gray-700",children:s.managerName})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-100",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Members"}),a.jsxs("p",{className:"text-base text-gray-700",children:[s.memberCount," member",s.memberCount!==1?"s":""]})]}),s.description&&a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-100",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"About"}),a.jsx("p",{className:"text-base text-gray-700",children:s.description})]})]})]}),a.jsx("button",{onClick:m,disabled:o,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Processing..."})]}):a.jsx("span",{children:"Join This Crew"})})]}),!s&&!d&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter your join code"}),a.jsx("input",{type:"text",value:n,onChange:x,onKeyPress:y,placeholder:"Enter your join code",className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-lg font-mono uppercase focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",disabled:o||c,maxLength:20})]}),a.jsx("button",{onClick:()=>w(),disabled:o||c||!n.trim(),className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 rounded-lg transition disabled:opacity-60 disabled:cursor-not-allowed",children:c?"Validating...":"Validate Code"})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-800 text-sm",children:" Back to Home"})})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center px-6 py-12",children:a.jsx("div",{className:"max-w-md w-full bg-white border border-gray-200 rounded-xl shadow-lg p-8 space-y-6",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Loading your RunCrew... standby..."})]})})})}const aS="https://gofastbackendv2-fall2025.onrender.com/api";function iS(){const e=X(),[t]=En(),[n,r]=v.useState(!0),[s,i]=v.useState(null);return v.useEffect(()=>{(async()=>{var l,c;try{r(!0);const u=t.get("crewId")||B.getRunCrewId();if(!u)throw new Error("No crew ID found. Please join a crew first.");const[d,f]=await Promise.all([xe.get("/athlete/create").catch(()=>{const y=B.getAthleteId();if(y)return xe.get(`/athlete/${y}`);throw new Error("Failed to fetch athlete data")}),fetch(`${aS}/runcrew/${u}`,{headers:{Authorization:`Bearer ${localStorage.getItem("firebaseToken")}`}}).then(y=>{if(!y.ok)throw new Error("Failed to fetch crew");return y.json()})]),h=((l=d.data)==null?void 0:l.data)||d.data,p=(h==null?void 0:h.id)||((c=d.data)==null?void 0:c.athleteId);if(!p)throw new Error("Failed to get athlete ID");const g=f.data||f;if(!g||!g.success)throw new Error("Failed to fetch crew data");const b=g.data||g.runCrew||g;B.setAthleteId(p),B.setRunCrewId(b.id),B.setRunCrewData(b);const w=B.getAthleteProfile()||{},m=Array.isArray(w.runCrews)?w.runCrews:[],x=[{...b,isAdmin:!1},...m.filter(y=>y.id!==b.id)];B.setAthleteProfile({...w,runCrews:x}),console.log(" PreCrewPage: Hydration complete, redirecting to RunCrew Central"),e(`/runcrew/${b.id}`)}catch(u){console.error(" PreCrewPage: Hydration error:",u),i(u.message||"Failed to load crew data. Please try again."),r(!1),setTimeout(()=>{e("/athlete-home")},3e3)}})()},[e,t]),s?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-6",children:a.jsxs("div",{className:"max-w-md w-full bg-white border border-red-200 rounded-xl shadow-lg p-8 text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error Loading Crew"}),a.jsx("p",{className:"text-gray-600 mb-4",children:s}),a.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to home..."})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center px-6",children:a.jsxs("div",{className:"max-w-md w-full bg-white border border-gray-200 rounded-xl shadow-lg p-8 text-center",children:[a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-500 mx-auto"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Syncing Your Profile"}),a.jsx("p",{className:"text-gray-600",children:"Setting up your RunCrew experience..."})]})})}function oS(){const[e,t]=v.useState("Morning Warriors"),[n,r]=v.useState("FAST123"),[s,i]=v.useState(!1),o=X(),l=async()=>{if(!(e!=null&&e.trim())||!(n!=null&&n.trim()))return alert("All fields required.");if(localStorage.getItem("demoMode")==="true"||!localStorage.getItem("athleteId")){console.log(" DEMO MODE: Skipping API call, navigating to success page"),localStorage.setItem("currentCrew",JSON.stringify({name:e,joinCode:n,crewCode:n})),o("/run-crew-success");return}const u=localStorage.getItem("athleteId");if(!u){alert("Please sign in again"),o("/athlete-home");return}i(!0);try{const d=ye.currentUser;if(!d){alert("Please sign in again"),o("/athlete-home");return}const f=await d.getIdToken(),h=await fetch("https://gofastbackendv2-fall2025.onrender.com/api/runcrew/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({name:e,joinCode:n,athleteId:u})}),p=await h.json();h.ok&&p.success?(console.log(" RunCrew created:",p.runCrew),localStorage.setItem("currentCrew",JSON.stringify({id:p.runCrew.id,name:p.runCrew.name,joinCode:p.runCrew.joinCode,description:p.runCrew.description})),o("/run-crew-success")):alert(p.message||p.error||"Failed to create crew")}catch(d){console.error("Error creating crew",d),alert("Something went wrong.")}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen bg-white",children:a.jsxs("div",{className:"max-w-md mx-auto px-6 py-12 text-center",children:[a.jsx("p",{className:"text-gray-700 mb-6",children:"Thanks for starting up a crew. Think of this as your Life360 circle. Create a name, a unique join code, and start running together."}),a.jsx("input",{className:"w-full p-3 border rounded-lg mb-3",value:e,onChange:c=>t(c.target.value),placeholder:"Crew Name"}),a.jsx("input",{className:"w-full p-3 border rounded-lg mb-4",value:n,onChange:c=>r(c.target.value),placeholder:"Crew Join Code"}),a.jsx("button",{className:"w-full bg-black text-white py-3 rounded-lg font-bold",onClick:l,disabled:s,children:s?"Creating...":"Let's Go"})]})})}function ba(){var J,ee;const e=X(),{athlete:t,athleteId:n,runCrewId:r}=xu(),[s,i]=v.useState(()=>B.getRunCrewData()),[o,l]=v.useState(""),[c,u]=v.useState(!1),[d,f]=v.useState("idle"),[h,p]=v.useState(!1),g=v.useMemo(()=>Array.isArray(s==null?void 0:s.runs)?s.runs:[],[s]),b=v.useMemo(()=>Array.isArray(s==null?void 0:s.announcements)?s.announcements:[],[s]),w=v.useMemo(()=>Array.isArray(s==null?void 0:s.messages)?s.messages:[],[s]),m=v.useMemo(()=>Array.isArray(s==null?void 0:s.memberships)?s.memberships:Array.isArray(s==null?void 0:s.members)?s.members:[],[s]),x=v.useMemo(()=>(s==null?void 0:s.leaderboardDynamic)||[],[s]),y=(s==null?void 0:s.joinCode)||(s==null?void 0:s.inviteCode)||null,[N,S]=v.useState("miles"),A=v.useMemo(()=>new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),[]),k=v.useMemo(()=>g.length===0?null:[...g].filter(C=>C.date||C.scheduledAt).sort((C,R)=>new Date(C.date||C.scheduledAt)-new Date(R.date||R.scheduledAt))[0],[g]),I=v.useMemo(()=>{if(!Array.isArray(x))return[];const C=N==="runs"?R=>`${R.activityCount??0} runs`:N==="calories"?R=>`${Math.round(R.totalCalories??0)} cal`:R=>`${(R.totalDistanceMiles??0).toFixed(1)} mi`;return x.map(R=>({...R,display:C(R)})).slice(0,5)},[x,N]),L=v.useCallback(C=>{i(R=>{const M=typeof C=="function"?C(R):C;return M&&B.setRunCrewData(M),M??R})},[]),j=v.useCallback(async()=>{if(!(!r||!n))try{const{data:C}=await xe.post("/runcrew/hydrate",{runCrewId:r,athleteId:n});C!=null&&C.success&&C.runCrew&&(B.setRunCrewData(C.runCrew),i(C.runCrew))}catch(C){console.error("Failed to refresh crew",C)}},[r,n]);v.useEffect(()=>{!s&&r&&n&&(console.log(" RUNCREW CENTRAL: No crew data, hydrating..."),j())},[s,r,n,j]);const P=async C=>{if(C.preventDefault(),!s||!r||!n)return;const R=o.trim();if(!R)return;const M={id:`local-msg-${Date.now()}`,content:R,createdAt:new Date().toISOString(),athlete:t?{id:n,firstName:t.firstName,lastName:t.lastName,photoURL:t.photoURL}:null};L(D=>{if(!D)return D;const H=Array.isArray(D.messages)?D.messages:[];return{...D,messages:[...H,M]}}),l(""),u(!0);try{await xe.post("/runcrew/messages",{runCrewId:r,message:R}),await j()}catch(D){console.error("Failed to send message",D)}finally{u(!1)}},$=async()=>{var R;if(!y)return;const C=`Join ${(s==null?void 0:s.name)||"our crew"} on GoFast:
https://athlete.gofastcrushgoals.com/runcrew/join
Code: ${y}`;try{if((R=navigator==null?void 0:navigator.clipboard)!=null&&R.writeText)await navigator.clipboard.writeText(C);else{const M=document.createElement("textarea");M.value=C,document.body.appendChild(M),M.select(),document.execCommand("copy"),document.body.removeChild(M)}f("copied")}catch(M){console.error("Clipboard copy failed",M),f("error")}finally{setTimeout(()=>f("idle"),2e3)}},U=k==null?void 0:k.id,V=v.useMemo(()=>!k||!n?!1:(k.rsvps||[]).some(C=>C.athleteId===n&&C.status==="going"),[k,n]),K=async()=>{if(!k||!U||!r||!n)return;const C=V?"not-going":"going",R=()=>{const M=Array.isArray(k.rsvps)?k.rsvps:[];if(V)return M.filter(H=>H.athleteId!==n);const D={id:`local-rsvp-${Date.now()}`,athleteId:n,status:"going",athlete:t?{id:n,firstName:t.firstName,lastName:t.lastName,photoURL:t.photoURL}:null};return[...M.filter(H=>H.athleteId!==n),D]};L(M=>{if(!M)return M;const D=(Array.isArray(M.runs)?M.runs:[]).map(H=>H.id===U?{...H,rsvps:R()}:H);return{...M,runs:D}}),p(!0);try{await xe.post(`/runcrew/runs/${U}/rsvp`,{status:C}),await j()}catch(M){console.error("Failed to update RSVP",M),await j()}finally{p(!1)}};return!s&&r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading your crew..."})]})}):!s&&!r?(e("/runcrew/join-or-start",{replace:!0}),null):s?a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-6xl mx-auto px-6 py-5 flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-gray-600 hover:text-gray-900",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.name||"RunCrew"}),a.jsx("p",{className:"text-sm text-gray-500",children:A})]})]})})}),a.jsx("main",{className:"max-w-6xl mx-auto px-6 py-10",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 space-y-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-orange-600 text-xl",children:""}),a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Announcements"})]}),b.length>3&&a.jsx("button",{className:"text-xs text-orange-600 font-semibold hover:underline",children:"View all"})]}),a.jsxs("div",{className:"space-y-3",children:[b.length===0&&a.jsx("p",{className:"text-sm text-gray-600",children:"No announcements yet. Ask your captain to post the next meetup."}),b.slice(0,3).map(C=>a.jsxs("div",{className:"border border-orange-200 rounded-lg px-4 py-3 bg-orange-50/60",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:C.title||"Crew Update"}),a.jsx("span",{className:"text-xs text-gray-500",children:C.createdAt?new Date(C.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"just now"})]}),a.jsx("p",{className:"text-sm text-gray-700 mt-2 whitespace-pre-line",children:C.content||C.text})]},C.id||C.createdAt))]})]}),a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"border-b border-gray-200 px-6 py-4",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Crew Feed"}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsx("button",{className:"px-3 py-1 text-xs font-semibold bg-gray-100 text-gray-700 rounded-full",children:"# General"}),a.jsx("button",{className:"px-3 py-1 text-xs font-semibold text-gray-600 hover:bg-gray-100 rounded-full",children:"# Runs & Training"}),a.jsx("button",{className:"px-3 py-1 text-xs font-semibold text-gray-600 hover:bg-gray-100 rounded-full",children:"# Motivation"}),a.jsx("button",{className:"px-3 py-1 text-xs font-semibold text-orange-600 hover:bg-orange-50 rounded-full",children:"+ New Topic"})]})]}),a.jsxs("div",{className:"px-6 py-4 space-y-4 max-h-[600px] overflow-y-auto",children:[w.length===0&&a.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No messages yet. Start the conversation!"}),w.map(C=>{var R,M,D,H,be,Ne,Le,et,At,Zs,tt,ea;return a.jsxs("div",{className:"flex gap-3",children:[(R=C.athlete)!=null&&R.photoURL||(M=C.author)!=null&&M.photoURL?a.jsx("img",{src:((D=C.athlete)==null?void 0:D.photoURL)||((H=C.author)==null?void 0:H.photoURL),alt:((be=C.athlete)==null?void 0:be.firstName)||((Ne=C.author)==null?void 0:Ne.name)||"Crew member",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-pink-500 flex items-center justify-center text-white font-semibold text-sm flex-shrink-0",children:((et=(Le=C.athlete)==null?void 0:Le.firstName)==null?void 0:et[0])||((Zs=(At=C.author)==null?void 0:At.name)==null?void 0:Zs[0])||"A"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:((tt=C.athlete)==null?void 0:tt.firstName)||((ea=C.author)==null?void 0:ea.name)||"Crew Member"}),a.jsx("span",{className:"text-xs text-gray-500",children:C.createdAt?new Date(C.createdAt).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"now"})]}),a.jsx("p",{className:"text-sm text-gray-800 mt-1 whitespace-pre-line",children:C.content||C.text}),C.reactions&&a.jsx("div",{className:"flex gap-2 mt-2",children:a.jsx("span",{className:"text-xs text-gray-400",children:"Reactions coming soon"})})]})]},C.id||C.createdAt)})]}),a.jsx("form",{onSubmit:P,className:"border-t border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{type:"text",value:o,onChange:C=>l(C.target.value),placeholder:"Drop a note for the crew",className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),a.jsx("button",{type:"submit",disabled:!o.trim()||c,className:"bg-orange-500 hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg text-sm font-semibold transition",children:c?"Sending":"Send"})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Next Run"}),k?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("span",{className:"font-semibold",children:k.date?new Date(k.date).toLocaleDateString("en-US",{weekday:"long"}):"Scheduled"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:k.time||k.startTime||"Time TBD"}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),a.jsx("span",{className:"text-sm",children:k.meetUpPoint||"Meetup TBD"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[((J=k.rsvps)==null?void 0:J.filter(C=>C.status==="going").length)||0," Going"]}),a.jsx("div",{className:"flex -space-x-2",children:(ee=k.rsvps)==null?void 0:ee.slice(0,5).map((C,R)=>{var M,D;return a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-orange-400 to-pink-500 border-2 border-white flex items-center justify-center text-white text-xs font-semibold",children:((D=(M=C.athlete)==null?void 0:M.firstName)==null?void 0:D[0])||"A"},R)})})]}),a.jsx("button",{onClick:K,disabled:h,className:`w-full py-3 rounded-lg font-semibold mt-4 transition ${V?"bg-emerald-500 hover:bg-emerald-600 text-white":"bg-orange-500 hover:bg-orange-600 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:h?"Updating":V?"I'm Going":"Count Me In"})]}):a.jsx("div",{className:"border border-dashed border-gray-300 rounded-xl p-4 text-sm text-gray-500 text-center",children:"No upcoming runs  ping your captain to schedule the next meetup."})]}),a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Who's Here"}),a.jsx("div",{className:"space-y-3",children:m.slice(0,6).map(C=>{var M;const R=C.athlete||C;return a.jsxs("div",{className:"flex items-center gap-3",children:[R.photoURL?a.jsx("img",{src:R.photoURL,alt:R.firstName||"Crew member",className:"w-10 h-10 rounded-full object-cover"}):a.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-400 to-blue-500 flex items-center justify-center text-white font-semibold text-sm relative",children:[((M=R.firstName)==null?void 0:M[0])||"A",a.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[R.firstName||"Athlete"," ",R.lastName||""]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Active"})]})]},C.id||R.id)})}),m.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No members yet  share your join code to build the crew."}),m.length>6&&a.jsxs("button",{className:"w-full mt-4 text-sm text-orange-600 hover:text-orange-700 font-semibold",children:["View all ",m.length," members"]}),m.length<=1&&y&&a.jsxs("div",{className:"mt-4 border border-dashed border-orange-300 rounded-xl px-4 py-3 bg-orange-50/60 text-sm text-gray-700",children:[a.jsx("p",{className:"font-semibold text-orange-600 mb-1",children:"Invite teammates:"}),a.jsxs("code",{className:"text-xs text-gray-600",children:["Join link: athlete.gofastcrushgoals.com/runcrew/join",a.jsx("br",{}),"Code: ",y]}),a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsx("button",{onClick:$,className:"text-xs bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded-lg font-semibold",children:"Copy Invite"}),a.jsxs("span",{className:"text-xs text-gray-500",children:[d==="copied"&&"Copied!",d==="error"&&"Copy failed",d==="idle"&&"Share with your crew"]})]})]})]}),a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[a.jsx("div",{className:"flex gap-2 mb-4",children:["miles","runs","calories"].map(C=>a.jsx("button",{onClick:()=>S(C),className:`px-3 py-1 text-xs font-semibold rounded-full ${N===C?"bg-orange-100 text-orange-700":"text-gray-600 hover:bg-gray-100"}`,children:C==="miles"?"Miles":C==="runs"?"Runs":"Cals"},C))}),a.jsxs("div",{className:"space-y-3",children:[I.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"Leaderboard data syncs once your crew records activities."}),I.map((C,R)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center text-white font-bold text-xs",children:R+1}),a.jsx("p",{className:"flex-1 text-sm font-semibold text-gray-900",children:C.firstName||"Athlete"}),a.jsx("p",{className:"text-sm font-bold text-orange-600",children:C.display})]},C.athleteId||R))]})]})]})]})})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"No crew data found"}),a.jsx("button",{onClick:()=>e("/athlete-home"),className:"bg-sky-600 text-white px-6 py-2 rounded-lg hover:bg-sky-700",children:"Back to Home"})]})})}function lS({value:e,onChange:t,onPlaceSelected:n,placeholder:r="Enter address...",className:s=""}){const i=v.useRef(null);return v.useRef(null),v.useEffect(()=>{{console.warn("Google Maps API key missing");return}},[n]),a.jsx("input",{ref:i,type:"text",value:e,onChange:t,placeholder:r,className:s})}var cS={exports:{}};(function(e){var t={};function n(i){return Math.floor(Math.abs(i)+.5)*(i>=0?1:-1)}function r(i,o,l){i=n(i*l),o=n(o*l);var c=(i-o)*2;c<0&&(c=-c-1);for(var u="";c>=32;)u+=String.fromCharCode((32|c&31)+63),c/=32;return u+=String.fromCharCode((c|0)+63),u}t.decode=function(i,o){for(var l=0,c=0,u=0,d=[],f=0,h=0,p=null,g,b,w=Math.pow(10,Number.isInteger(o)?o:5);l<i.length;){p=null,f=1,h=0;do p=i.charCodeAt(l++)-63,h+=(p&31)*f,f*=32;while(p>=32);g=h&1?(-h-1)/2:h/2,f=1,h=0;do p=i.charCodeAt(l++)-63,h+=(p&31)*f,f*=32;while(p>=32);b=h&1?(-h-1)/2:h/2,c+=g,u+=b,d.push([c/w,u/w])}return d},t.encode=function(i,o){if(!i.length)return"";for(var l=Math.pow(10,Number.isInteger(o)?o:5),c=r(i[0][0],0,l)+r(i[0][1],0,l),u=1;u<i.length;u++){var d=i[u],f=i[u-1];c+=r(d[0],f[0],l),c+=r(d[1],f[1],l)}return c};function s(i){for(var o=[],l=0;l<i.length;l++){var c=i[l].slice();o.push([c[1],c[0]])}return o}t.fromGeoJSON=function(i,o){if(i&&i.type==="Feature"&&(i=i.geometry),!i||i.type!=="LineString")throw new Error("Input must be a GeoJSON LineString");return t.encode(s(i.coordinates),o)},t.toGeoJSON=function(i,o){var l=t.decode(i,o);return{type:"LineString",coordinates:s(l)}},e.exports&&(e.exports=t)})(cS);function uS({polylineString:e,stravaUrl:t}){const n=v.useRef(null);v.useRef(null);const r=v.useRef(null),[s,i]=v.useState(null);return v.useEffect(()=>{if(!e){i(null),r.current&&(r.current.setMap(null),r.current=null);return}{i("Google Maps key missing. Set VITE_GOOGLE_MAPS_API_KEY to preview routes.");return}},[e]),e?a.jsxs("div",{className:"mt-3 border border-gray-300 rounded-lg overflow-hidden bg-white",children:[a.jsx("div",{ref:n,className:"w-full h-72"}),s&&a.jsx("div",{className:"px-3 py-2 text-xs text-red-600 bg-red-50 border-t border-red-200",children:s}),t&&a.jsxs("div",{className:"px-3 py-2 text-xs flex justify-between items-center border-t border-gray-200 bg-gray-50",children:[a.jsx("span",{className:"text-gray-600",children:"Based on Strava route preview"}),a.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 font-semibold",children:"View in Strava "})]})]}):null}const Mg=window.location.origin||"https://athlete.gofastcrushgoals.com",Dh=e=>{if(!e)throw new Error("Join code is required");const t=e.toUpperCase().trim();return`${Mg}/joinruncrewwelcome?code=${encodeURIComponent(t)}`},Uh=e=>{if(!e)throw new Error("Join code is required");const t=e.toUpperCase().trim();return`${Mg}/runcrew/join?code=${encodeURIComponent(t)}`},Bo=async e=>{try{return await navigator.clipboard.writeText(e),!0}catch(t){console.error("Failed to copy invite link:",t);const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.opacity="0",document.body.appendChild(n),n.select();try{return document.execCommand("copy"),document.body.removeChild(n),!0}catch{return document.body.removeChild(n),!1}}},Ho="https://gofastbackendv2-fall2025.onrender.com/api",es={title:"",date:"",time:"",meetUpPoint:"",meetUpAddress:"",totalMiles:"",pace:"",description:"",stravaMapUrl:""},dS=["6:00-6:30","6:30-7:00","7:00-7:30","7:30-8:00","8:00-8:30","8:30-9:00","9:00-9:30","9:30-10:00","10:00-10:30","10:30-11:00","11:00+"],hS=["5:00 AM","5:30 AM","6:00 AM","6:30 AM","7:00 AM","7:30 AM","8:00 AM","8:30 AM","9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM","6:00 PM","6:30 PM","7:00 PM","7:30 PM","8:00 PM"],fS={miles:e=>`${(e.totalDistanceMiles??0).toFixed(1)} mi`,runs:e=>`${e.activityCount??0} runs`,calories:e=>`${Math.round(e.totalCalories??0)} cal`};function mS(){const e=X(),{athlete:t,athleteId:n,runCrewId:r,runCrewManagerId:s}=xu(),[i,o]=v.useState(()=>B.getRunCrewData()),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState(null),[p,g]=v.useState(""),[b,w]=v.useState(""),[m,x]=v.useState(es),[y,N]=v.useState(null),[S,A]=v.useState(null),[k,I]=v.useState(null),[L,j]=v.useState(!1),[P,$]=v.useState("miles"),U=v.useMemo(()=>!i||!n?!1:s?!0:Array.isArray(i.managers)?i.managers.some(_=>_.athleteId===n&&_.role==="admin"):!1,[i,n,s]),V=v.useMemo(()=>new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),[]),K=(i==null?void 0:i.runs)||[],J=(i==null?void 0:i.announcements)||[],ee=(i==null?void 0:i.messages)||[],C=(i==null?void 0:i.memberships)||(i==null?void 0:i.members)||[],R=(i==null?void 0:i.joinCode)||(i==null?void 0:i.inviteCode)||null,M=(i==null?void 0:i.leaderboardDynamic)||[],D=_=>{h(_),_&&setTimeout(()=>{h(null)},2400)},H=_=>{if(!_)return;const O={..._,isAdmin:U||_.isAdmin},se=O.id||r||null,te=Array.isArray(O.managers)?O.managers.find(Xt=>Xt.athleteId===n&&Xt.role==="admin"):null,ct=(te==null?void 0:te.id)||O.currentManagerId||s||null;se&&B.setRunCrewId(se),B.setRunCrewManagerId(ct),B.setRunCrewData(O),o(O)},be=async()=>{var _;if(!r){d("Missing crew context. Please return to Athlete Home.");return}try{c(!0),d(null);const{data:O}=await re.post(`${Ho}/runcrew/hydrate`,{runCrewId:r,athleteId:n});if(!(O!=null&&O.success)||!O.runCrew)throw new Error((O==null?void 0:O.error)||(O==null?void 0:O.message)||"Unable to hydrate crew");const se=Array.isArray((_=O.runCrew)==null?void 0:_.managers)?O.runCrew.managers.find(te=>te.athleteId===n&&te.role==="admin"):null;B.setRunCrewData({...O.runCrew,isAdmin:se?!0:O.runCrew.isAdmin}),B.setRunCrewId(O.runCrew.id),B.setRunCrewManagerId((se==null?void 0:se.id)||O.runCrew.currentManagerId||null),o({...O.runCrew,isAdmin:se?!0:O.runCrew.isAdmin}),D("Crew re-synced from server")}catch(O){d(O.message||"Unable to sync crew. Try again.")}finally{c(!1)}},Ne=_=>{if(_.preventDefault(),!i){D("Sync your crew before posting");return}const O=p.trim();if(!O){D("Please write an announcement first");return}const se={id:`local-ann-${Date.now()}`,content:O,createdAt:new Date().toISOString(),isLocalOnly:!0,author:t?{id:n,firstName:t.firstName,lastName:t.lastName}:null},te={...i,announcements:[se,...J]};g(""),H(te),D("Announcement added (syncing...)")},Le=async _=>{if(_.preventDefault(),!i){D("Sync your crew before posting");return}const O=b.trim();if(!O)return;const se={id:`local-msg-${Date.now()}`,content:O,createdAt:new Date().toISOString(),athlete:t?{id:n,firstName:t.firstName,lastName:t.lastName,photoURL:t.photoURL}:null};H({...i,messages:[...ee,se]}),w("");try{const te=ye.currentUser,ct=await(te==null?void 0:te.getIdToken());if(!ct)return;await re.post(`${Ho}/runcrew/messages`,{runCrewId:i.id||r,message:O},{headers:{Authorization:`Bearer ${ct}`}}),D("Message sent"),be()}catch(te){console.error("Failed to send message:",te),D("Message saved locally (sync later)")}},et=async _=>{if(_.preventDefault(),!i){D("Sync your crew before creating runs");return}const O=m.title.trim(),se=m.date,te=m.time,ct=m.meetUpPoint.trim(),Xt=m.meetUpAddress.trim(),_n=m.totalMiles,Je=m.pace.trim(),$r=m.stravaMapUrl.trim(),Br=m.description.trim();if(!O||!se||!te||!ct){D("Please fill in all required fields (Title, Date, Time, Meet-Up Point)");return}const Hr=se?`${se}T${te||"00:00"}`:null;if(y){try{const zr=ye.currentUser;if(!zr){D("Please sign in to edit runs");return}const zg=await zr.getIdToken(),{data:Zt}=await re.patch(`${Ho}/runcrew/runs/${y}`,{title:O,date:Hr,startTime:te,meetUpPoint:ct,meetUpAddress:Xt||null,totalMiles:_n?parseFloat(_n):null,pace:Je||null,stravaMapUrl:$r||null,description:Br||null},{headers:{Authorization:`Bearer ${zg}`}});if(Zt!=null&&Zt.success&&Zt.data){const Vg=K.map(bu=>bu.id===y?Zt.data:bu),Wg={...i,runs:Vg};H(Wg),D("Run updated successfully"),N(null),x(es),I(null),j(!1)}else throw new Error((Zt==null?void 0:Zt.error)||"Failed to update run")}catch(zr){console.error("Error updating run:",zr),D(zr.message||"Failed to update run")}return}const Hg=[{id:`local-run-${Date.now()}`,title:O,date:Hr,startTime:te,meetUpPoint:ct,meetUpAddress:Xt||null,totalMiles:_n?parseFloat(_n):null,pace:Je||null,stravaMapUrl:$r||null,description:Br||null,createdAt:new Date().toISOString(),createdBy:t?{id:n,firstName:t.firstName,lastName:t.lastName}:null,rsvps:[]},...K];H({...i,runs:Hg}),x(es),I(null),j(!1),D("Run created (sync later)")},At=()=>{N(null),x(es),I(null),j(!0)},Zs=_=>{const O=_.date||_.scheduledAt||null;if(!O)return"Date TBD";try{return new Date(O).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch{return O}},tt=_=>O=>{const se=O.target.value;x(te=>({...te,[_]:se}))},ea=_=>{I({placeId:_.placeId,lat:_.lat,lng:_.lng}),x(O=>({...O,meetUpAddress:_.address}))},Og=_=>{g(_.target.value)},Dg=_=>{let O="";if(_.date)try{O=new Date(_.date).toISOString().split("T")[0]}catch(se){console.error("Error parsing run date:",se)}N(_.id),x({title:_.title||"",date:O,time:_.time||_.startTime||"",meetUpPoint:_.meetUpPoint||"",meetUpAddress:_.meetUpAddress||"",totalMiles:_.totalMiles||"",pace:_.pace||"",description:_.description||"",stravaMapUrl:_.stravaMapUrl||""}),j(!0)},vu=()=>{N(null),x(es),I(null),j(!1)},wu=_=>!Array.isArray(_)||_.length===0?[]:_.map(O=>({...O,display:fS[P](O)})).slice(0,5),Ug=_=>{A(S===_?null:_)},Fg=()=>{e("/runcrew/central")},$g=()=>{e("/runcrew-settings")},Bg=()=>a.jsx("main",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-6 py-12",children:a.jsxs("div",{className:"max-w-xl w-full bg-white border border-gray-200 rounded-xl shadow-sm p-8 text-center space-y-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sync your RunCrew"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"We couldnt find cached crew data. Tap the button below to load the latest snapshot from the backend."}),u&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded text-sm",children:u}),a.jsx("button",{onClick:be,disabled:l,className:"w-full bg-sky-600 hover:bg-sky-700 text-white font-semibold py-3 rounded-lg transition disabled:opacity-60",children:l?"Syncing":"Sync Crew Data"}),a.jsx("button",{onClick:()=>e("/athlete-home"),className:"w-full border border-gray-300 text-gray-700 font-semibold py-3 rounded-lg hover:bg-gray-50 transition",children:"Back to Athlete Home"})]})});return i?a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[f&&a.jsx("div",{className:"fixed top-6 right-6 bg-emerald-500 text-white text-sm font-medium px-4 py-2 rounded-lg shadow-lg z-30",children:f}),a.jsx("header",{className:"bg-white shadow-sm",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 lg:px-6 py-6 flex flex-wrap items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-gray-600 hover:text-gray-900",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:i.name||"RunCrew Admin"}),a.jsx("p",{className:"text-sm text-gray-500",children:V}),a.jsxs("p",{className:"mt-2 text-base text-gray-700",children:["Welcome back",t!=null&&t.firstName?`, ${t.firstName}`:"","! Youre managing everything for this crew."]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-3 text-xs text-sky-900",children:[a.jsxs("span",{className:"bg-sky-100 border border-sky-200 rounded px-3 py-1",children:["athleteId: ",n||""]}),a.jsxs("span",{className:"bg-sky-100 border border-sky-200 rounded px-3 py-1",children:["runCrewId: ",r||i.id||""]}),a.jsxs("span",{className:"bg-sky-100 border border-sky-200 rounded px-3 py-1",children:["managerId: ",s||""]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:Fg,className:"text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg px-4 py-2",children:"View Member Experience"}),a.jsx("button",{onClick:$g,className:"text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg px-4 py-2",children:"Settings"}),a.jsx("button",{onClick:be,disabled:l,className:"bg-sky-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-sky-700 transition disabled:opacity-60",children:l?"Syncing":"Re-sync Crew Data"})]})]})}),a.jsxs("main",{className:"max-w-6xl mx-auto px-4 lg:px-6 py-10 space-y-8",children:[u&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:u}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 space-y-6 lg:col-span-2",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Announcements"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Share updates with your crew. Posts stay local until we wire the backend."})]})}),a.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[a.jsx("textarea",{value:p,onChange:Og,placeholder:"Whats happening next?",className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 min-h-[100px]"}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",className:"bg-orange-500 hover:bg-orange-600 text-white px-5 py-2 rounded-lg text-sm font-semibold transition",children:"Post Announcement"})})]}),a.jsxs("div",{className:"space-y-4",children:[J.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No announcements yet. Be the first to post one."}),J.map(_=>{var O;return a.jsxs("div",{className:"border border-gray-200 rounded-xl px-4 py-3 bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[a.jsx("span",{children:(O=_.author)!=null&&O.firstName?`${_.author.firstName}${_.author.lastName?` ${_.author.lastName}`:""}`:"Admin"}),a.jsx("span",{children:_.createdAt?new Date(_.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"Just now"})]}),a.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line",children:_.content||_.text})]},_.id)})]})]}),a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Crew Actions"}),a.jsx("button",{onClick:At,className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition",children:"Schedule Run"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 bg-gray-50 space-y-2",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Crew Health"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[K.length," upcoming runs"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Keep the calendar full to keep members engaged."})]}),a.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 bg-gray-50 space-y-2",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Messages"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ee.length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Announcements & chat keep the crew energized."})]}),a.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 bg-gray-50 space-y-2",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Members"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:C.length}),R&&a.jsxs("div",{className:"mt-2 space-y-2",children:[a.jsx("p",{className:"text-xs text-gray-500 font-semibold",children:"Invite teammates:"}),a.jsxs("div",{className:"bg-white border-2 border-green-200 rounded-lg p-3 space-y-2",children:[a.jsx("p",{className:"text-xs font-semibold text-green-600",children:" Universal Invite Link (Recommended)"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Works for both new and existing users - auto-detects auth state"}),a.jsx("code",{className:"block text-xs text-gray-700 break-all bg-gray-50 px-2 py-1 rounded",children:Mh(R)}),a.jsx("button",{onClick:async()=>{const _=await Bo(Mh(R));D(_?"Universal invite link copied!":"Failed to copy")},className:"text-xs bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded font-semibold",children:"Copy Universal Link"})]}),a.jsxs("div",{className:"bg-white border border-orange-200 rounded-lg p-3 space-y-2",children:[a.jsx("p",{className:"text-xs font-semibold text-orange-600",children:"Direct Invite Link (New Users Only)"}),a.jsx("code",{className:"block text-xs text-gray-700 break-all bg-gray-50 px-2 py-1 rounded",children:Dh(R)}),a.jsx("button",{onClick:async()=>{const _=await Bo(Dh(R));D(_?"Direct invite link copied!":"Failed to copy")},className:"text-xs bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded font-semibold",children:"Copy Direct Link"})]}),a.jsxs("div",{className:"bg-white border border-blue-200 rounded-lg p-3 space-y-2",children:[a.jsx("p",{className:"text-xs font-semibold text-blue-600",children:"Authenticated Link (Existing Users Only)"}),a.jsx("code",{className:"block text-xs text-gray-700 break-all bg-gray-50 px-2 py-1 rounded",children:Uh(R)}),a.jsx("button",{onClick:async()=>{const _=await Bo(Uh(R));D(_?"Authenticated link copied!":"Failed to copy")},className:"text-xs bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded font-semibold",children:"Copy Auth Link"})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded px-3 py-2",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Join Code:"}),a.jsx("code",{className:"text-sm font-bold text-orange-600",children:R})]})]})]})]})]})]}),a.jsx("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Runs"}),K.length===0&&a.jsx("div",{className:"border border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-500",children:"No runs yet  click Schedule Run to add one."}),a.jsx("div",{className:"space-y-3",children:K.map(_=>{var ct,Xt,_n;const O=((ct=_.rsvps)==null?void 0:ct.length)||((Xt=_._count)==null?void 0:Xt.rsvps)||0,se=((_n=_.rsvps)==null?void 0:_n.filter(Je=>Je.status==="going").length)||O,te=S===_.id;return a.jsxs("div",{className:"border border-gray-200 rounded-xl bg-gray-50 overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-gray-900",children:_.title||"Untitled Run"}),a.jsx("p",{className:"text-xs text-gray-500",children:Zs(_)}),_.meetUpPoint&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",_.meetUpPoint]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:[se," going"]}),a.jsx("button",{onClick:()=>Ug(_.id),className:"text-xs text-orange-600 hover:text-orange-800 font-semibold border border-orange-300 rounded px-3 py-1 hover:bg-orange-50 transition",children:te?"Hide":"Details"}),a.jsx("button",{onClick:()=>Dg(_),className:"text-xs text-sky-600 hover:text-sky-800 font-semibold border border-sky-300 rounded px-3 py-1 hover:bg-sky-50 transition",children:"Edit"})]})]})}),te&&a.jsxs("div",{className:"border-t border-gray-200 bg-white px-4 py-4 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[_.totalMiles&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Distance"}),a.jsxs("p",{className:"font-semibold text-gray-900",children:[_.totalMiles," miles"]})]}),_.pace&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Pace"}),a.jsx("p",{className:"font-semibold text-gray-900",children:_.pace})]}),_.meetUpAddress&&a.jsxs("div",{className:"col-span-2",children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Address"}),a.jsx("p",{className:"text-sm text-gray-900",children:_.meetUpAddress})]})]}),_.description&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:_.description})]}),_.stravaMapUrl&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2",children:"Route Map"}),a.jsxs("a",{href:_.stravaMapUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-orange-600 hover:text-orange-800 font-semibold",children:["View on Strava",a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),_.meetUpLat&&_.meetUpLng&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2",children:"Location"}),a.jsx("div",{className:"bg-gray-100 rounded-lg h-48 flex items-center justify-center border border-gray-200",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("p",{className:"text-sm font-medium",children:"Map View"}),a.jsxs("p",{className:"text-xs mt-1",children:["Lat: ",_.meetUpLat,", Lng: ",_.meetUpLng]})]})})]}),_.rsvps&&_.rsvps.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2",children:"Who's Going"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:_.rsvps.filter(Je=>Je.status==="going").map(Je=>{var $r,Br,Hr;return a.jsxs("div",{className:"flex items-center gap-2 bg-green-50 border border-green-200 rounded-full px-3 py-1",children:[(($r=Je.athlete)==null?void 0:$r.photoURL)&&a.jsx("img",{src:Je.athlete.photoURL,alt:Je.athlete.firstName,className:"w-5 h-5 rounded-full object-cover"}),a.jsxs("span",{className:"text-xs font-medium text-green-900",children:[(Br=Je.athlete)==null?void 0:Br.firstName," ",(Hr=Je.athlete)==null?void 0:Hr.lastName]})]},Je.id)})})]})]})]},_.id)})})]})}),a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Messages"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Crew chatter and updates."})]})}),ee.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No messages yet. Conversations appear here."}),a.jsx("div",{className:"space-y-3",children:ee.map(_=>{var O;return a.jsxs("div",{className:"border border-gray-200 rounded-xl px-4 py-3 bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[a.jsx("span",{children:(O=_.athlete)!=null&&O.firstName?`${_.athlete.firstName}${_.athlete.lastName?` ${_.athlete.lastName}`:""}`:"Member"}),a.jsx("span",{children:_.createdAt?new Date(_.createdAt).toLocaleString("en-US",{hour:"numeric",minute:"2-digit",month:"short",day:"numeric"}):"Just now"})]}),a.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line",children:_.content||_.body||_.text})]},_.id||_.createdAt)})}),a.jsx("form",{onSubmit:Le,className:"pt-4 border-t border-gray-200",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{type:"text",value:b,onChange:_=>w(_.target.value),placeholder:"Drop a note for the crew",className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),a.jsx("button",{type:"submit",disabled:!b.trim(),className:"bg-orange-500 hover:bg-orange-600 disabled:opacity-50 text-white px-4 py-2 rounded-lg text-sm font-semibold transition",children:"Send"})]})})]}),a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Members"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Your crew roster. Admins are highlighted."})]})}),C.length===0&&a.jsx("div",{className:"border border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-500",children:"No members yet. Share your join code to build the crew."}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2 space-y-3",children:C.map(_=>{const O=_.athlete||_,se=Array.isArray(i.managers)?i.managers.find(te=>te.athleteId===(O==null?void 0:O.id)&&te.role==="admin"):null;return a.jsxs("div",{className:"border border-gray-200 rounded-xl px-4 py-3 bg-gray-50 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[(O==null?void 0:O.firstName)||"Athlete"," ",(O==null?void 0:O.lastName)||"",se&&a.jsx("span",{className:"text-orange-600 text-xs font-bold ml-2",children:"Admin"})]}),(O==null?void 0:O.email)&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:O.email})]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Joined ",_.joinedAt?new Date(_.joinedAt).toLocaleDateString():"recently"]})]},(O==null?void 0:O.id)||_.id)})}),a.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 bg-gray-50 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Leaderboard"}),a.jsx("div",{className:"flex gap-1",children:["miles","runs","calories"].map(_=>a.jsx("button",{type:"button",onClick:()=>$(_),className:`px-2 py-1 text-xs rounded-full font-semibold ${P===_?"bg-orange-100 text-orange-700":"text-gray-600 hover:bg-gray-100"}`,children:_==="miles"?"Miles":_==="runs"?"Runs":"Cals"},_))})]}),a.jsxs("div",{className:"space-y-2",children:[wu(M).length===0&&a.jsx("p",{className:"text-xs text-gray-500",children:"Stats will appear once your crew syncs activities."}),wu(M).map((_,O)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center text-white font-bold text-xs",children:O+1}),a.jsx("p",{className:"flex-1 text-sm font-semibold text-gray-900",children:_.firstName||"Athlete"}),a.jsx("p",{className:"text-sm font-bold text-orange-600",children:_.display})]},_.athleteId||O))]})]})]})]})]}),L&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:y?"Edit Run":"Create Run"}),a.jsx("button",{onClick:vu,className:"text-gray-400 hover:text-gray-600 transition",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:et,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Title *"}),a.jsx("input",{type:"text",value:m.title,onChange:tt("title"),placeholder:"Saturday Sunrise Run",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Date *"}),a.jsx("input",{type:"date",value:m.date,onChange:tt("date"),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Start Time *"}),a.jsxs("select",{value:m.time,onChange:tt("time"),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",required:!0,children:[a.jsx("option",{value:"",children:"Select time..."}),hS.map(_=>a.jsx("option",{value:_,children:_},_))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Meet-Up Point *"}),a.jsx("input",{type:"text",value:m.meetUpPoint,onChange:tt("meetUpPoint"),placeholder:"Central Park  Bethesda Terrace",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Meetup Address"}),a.jsx(lS,{value:m.meetUpAddress,onChange:tt("meetUpAddress"),onPlaceSelected:ea,placeholder:"Start typing address...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Total Miles"}),a.jsx("input",{type:"number",step:"0.1",value:m.totalMiles,onChange:tt("totalMiles"),placeholder:"5.0",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Pace (min/mile)"}),a.jsxs("select",{value:m.pace,onChange:tt("pace"),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[a.jsx("option",{value:"",children:"Select pace..."}),dS.map(_=>a.jsx("option",{value:_,children:_},_))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Strava Route URL (Optional)"}),a.jsx("input",{type:"url",value:m.stravaMapUrl,onChange:tt("stravaMapUrl"),placeholder:"https://www.strava.com/routes/...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"}),m.stravaMapUrl&&m.stravaMapUrl.includes("strava.com")&&a.jsx("div",{className:"mt-3",children:a.jsx(uS,{polylineString:"ypweFnzbjVhAWnAc@bAa@dAe@fAi@hAm@jAq@lAs@nAw@pAy@rA{@tA}@vA_AvAaAxAcAzAeA|AgA~AiA`BiAaBkAdBmAfBoBhBoBlBqBnBsBpBuBrBwBtByB",stravaUrl:m.stravaMapUrl})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Description"}),a.jsx("textarea",{value:m.description,onChange:tt("description"),placeholder:"Tell your crew what to expect...",rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:vu,className:"border border-gray-300 text-gray-700 px-5 py-2 rounded-lg text-sm font-semibold hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-orange-500 text-white px-5 py-2 rounded-lg text-sm font-semibold hover:bg-orange-600 transition",children:y?"Save Changes":"Create Run"})]})]})]})})]}):Bg()}const Fh="https://gofastbackendv2-fall2025.onrender.com/api";function pS(){var m,x;const e=X(),[t,n]=v.useState("general"),[r,s]=v.useState(null),[i,o]=v.useState(!0),[l,c]=v.useState(null),[u,d]=v.useState(!1),[f,h]=v.useState(!1),[p,g]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const N=B.getRunCrewId();if(!N){c("No crew selected");return}const S=B.getRunCrewData();S&&(s(S),o(!1));const A=ye.currentUser;if(A){const k=await A.getIdToken(),I=await xe.post(`${Fh}/runcrew/hydrate`,{runCrewId:N,athleteId:B.getAthleteId()},{headers:{Authorization:`Bearer ${k}`}});I.data.success&&(s(I.data.runCrew),B.setRunCrewData(I.data.runCrew))}}catch(N){console.error("Error loading crew:",N),c("Failed to load crew data")}finally{o(!1)}})()},[]);const b=async()=>{var y,N;if(r)try{const S=ye.currentUser;if(!S){c("You must be signed in to delete a crew");return}const A=await S.getIdToken();(await xe.delete(`${Fh}/runcrew/${r.id}`,{headers:{Authorization:`Bearer ${A}`}})).data.success&&(B.clearRunCrewData(),e("/athlete-home"))}catch(S){console.error("Error deleting crew:",S),c(((N=(y=S.response)==null?void 0:y.data)==null?void 0:N.message)||"Failed to delete crew")}};if(i)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading crew settings..."})]})});if(l&&!r)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-red-600 mb-4",children:l}),a.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-orange-600 hover:text-orange-800",children:" Back to Home"})]})});const w=r||{name:"Loading...",joinCode:"",description:""};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Run Crew Settings"}),a.jsx("button",{onClick:()=>e("/runcrew/central"),className:"text-gray-600 hover:text-gray-800",children:" Back to Central"})]}),a.jsx("p",{className:"text-gray-600",children:"Manage your crew configuration and permissions"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200 hover:shadow-xl transition",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-blue-100 p-3 rounded-lg mr-3",children:a.jsx(CC,{className:"h-6 w-6 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Transfer Ownership"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Transfer admin rights to another member"}),a.jsx("button",{onClick:()=>h(!0),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 rounded-lg transition",children:"Transfer"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200 hover:shadow-xl transition",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-green-100 p-3 rounded-lg mr-3",children:a.jsx(Ht,{className:"h-6 w-6 text-green-600"})}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Add a Manager"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Grant manager permissions to a member"}),a.jsx("button",{onClick:()=>g(!0),className:"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 rounded-lg transition",children:"Add Manager"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-red-200 hover:shadow-xl transition",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-red-100 p-3 rounded-lg mr-3",children:a.jsx(Rg,{className:"h-6 w-6 text-red-600"})}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete RunCrew"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Permanently delete this crew (cannot be undone)"}),a.jsx("button",{onClick:()=>d(!0),className:"w-full bg-red-500 hover:bg-red-600 text-white font-semibold py-2 rounded-lg transition",children:"Delete"})]})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Delete RunCrew?"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete ",a.jsx("strong",{children:w.name}),"? This action cannot be undone and will remove all crew data, members, and history."]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>d(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 rounded-lg transition",children:"Cancel"}),a.jsx("button",{onClick:b,className:"flex-1 bg-red-500 hover:bg-red-600 text-white font-semibold py-2 rounded-lg transition",children:"Delete Forever"})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("div",{className:"flex space-x-1 px-6",children:[a.jsx("button",{onClick:()=>n("general"),className:`px-4 py-3 font-medium ${t==="general"?"border-b-2 border-orange-500 text-orange-600":"text-gray-600 hover:text-gray-900"}`,children:"General"}),a.jsxs("button",{onClick:()=>n("admins"),className:`px-4 py-3 font-medium ${t==="admins"?"border-b-2 border-orange-500 text-orange-600":"text-gray-600 hover:text-gray-900"}`,children:["Admins (",mockAdmins.length,")"]}),a.jsxs("button",{onClick:()=>n("members"),className:`px-4 py-3 font-medium ${t==="members"?"border-b-2 border-orange-500 text-orange-600":"text-gray-600 hover:text-gray-900"}`,children:["Members (",mockMembers.length,")"]})]})}),a.jsxs("div",{className:"p-6",children:[t==="general"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Crew Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Crew Name"}),a.jsx("input",{type:"text",defaultValue:w.name,className:"w-full p-3 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{defaultValue:w.description||"",rows:3,className:"w-full p-3 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Join Code"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",value:w.joinCode||"",readOnly:!0,className:"flex-1 p-3 border border-gray-300 rounded-lg bg-gray-50"}),a.jsx("button",{className:"px-4 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"Regenerate"})]})]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Broadcast Messages"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("textarea",{placeholder:"Send a message to all crew members...",rows:3,className:"w-full p-3 border border-gray-300 rounded-lg"}),a.jsx("button",{className:"bg-orange-500 text-white px-6 py-3 rounded-lg hover:bg-orange-600",children:"Broadcast to Crew"})]})]})]}),t==="admins"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Crew Admins"}),a.jsx("button",{onClick:()=>g(!0),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Add Admin"})]}),((m=r==null?void 0:r.managers)==null?void 0:m.filter(y=>y.role==="admin").map(y=>{var N,S,A;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold",children:[(N=y.athlete)==null?void 0:N.firstName," ",(S=y.athlete)==null?void 0:S.lastName]}),a.jsx("p",{className:"text-sm text-gray-600",children:(A=y.athlete)==null?void 0:A.email}),a.jsx("span",{className:"text-xs text-orange-600 font-medium",children:"Admin"})]}),r.runcrewAdminId!==y.athleteId&&a.jsx("button",{className:"text-red-600 hover:text-red-800",children:"Remove"})]},y.id)}))||a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No admins found"})]}),t==="members"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Crew Members"}),((x=r==null?void 0:r.memberships)==null?void 0:x.map(y=>{var N,S;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold",children:[(N=y.athlete)==null?void 0:N.firstName," ",(S=y.athlete)==null?void 0:S.lastName]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Joined ",new Date(y.joinedAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 text-sm",children:"Make Admin"}),a.jsx("button",{className:"text-red-600 hover:text-red-800",children:"Remove"})]})]},y.id)}))||a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No members found"})]})]})]})]})})}function gS(){const e=X(),{runId:t}=qc(),[n,r]=v.useState("going"),s={title:"Saturday Morning Group Run",date:"Tomorrow",time:"6:00 AM",location:"Trailhead Park",address:"123 Trailhead Road, San Francisco, CA",distance:"5-8 miles",pace:"8:00-9:00 min/mile",description:"Starting at the main trailhead. We'll do an out-and-back along the coastal trail. Bring water and good vibes! Optional coffee after. ",organizer:"Emma Rodriguez",createdAt:"2 days ago",attendees:{going:[{id:1,name:"Emma Rodriguez",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face"},{id:2,name:"Sarah Johnson",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face"},{id:3,name:"Mike Chen",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face"},{id:4,name:"David Lee",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face"},{id:5,name:"Maria Garcia",avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face"}],maybe:[{id:6,name:"James Wilson",avatar:"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?w=150&h=150&fit=crop&crop=face"}]}},i=o=>{r(o),console.log("RSVP updated:",o)};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:a.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-gray-600 hover:text-gray-800",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-8 h-8 rounded-full"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Run Details"})]})})})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:s.title}),a.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500 mb-4",children:[a.jsxs("span",{children:["Created by ",s.organizer]}),a.jsx("span",{children:""}),a.jsx("span",{children:s.createdAt})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("svg",{className:"w-5 h-5 text-orange-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Date"}),a.jsx("p",{className:"font-semibold text-gray-900",children:s.date}),a.jsx("p",{className:"text-sm text-gray-600",children:s.time})]})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsxs("svg",{className:"w-5 h-5 text-orange-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Location"}),a.jsx("p",{className:"font-semibold text-gray-900",children:s.location})]})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("svg",{className:"w-5 h-5 text-orange-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Distance"}),a.jsx("p",{className:"font-semibold text-gray-900",children:s.distance})]})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("svg",{className:"w-5 h-5 text-orange-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Pace"}),a.jsx("p",{className:"font-semibold text-gray-900",children:s.pace})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"About This Run"}),a.jsx("p",{className:"text-gray-700",children:s.description})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"RSVP"}),a.jsxs("div",{className:"flex gap-3 mb-6",children:[a.jsx("button",{onClick:()=>i("going"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${n==="going"?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Going"}),a.jsx("button",{onClick:()=>i("maybe"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${n==="maybe"?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Maybe"}),a.jsx("button",{onClick:()=>i("not-going"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${n==="not-going"?"bg-red-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Can't Make It"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:["Going (",s.attendees.going.length,")"]})]})}),a.jsx("div",{className:"flex -space-x-2 mb-2",children:s.attendees.going.map(o=>a.jsx("img",{src:o.avatar,alt:o.name,className:"w-10 h-10 rounded-full border-2 border-white object-cover",title:o.name},o.id))}),a.jsx("div",{className:"text-sm text-gray-600",children:s.attendees.going.map(o=>o.name).join(", ")})]}),s.attendees.maybe.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:["Maybe (",s.attendees.maybe.length,")"]})]})}),a.jsx("div",{className:"flex -space-x-2 mb-2",children:s.attendees.maybe.map(o=>a.jsx("img",{src:o.avatar,alt:o.name,className:"w-10 h-10 rounded-full border-2 border-white object-cover",title:o.name},o.id))}),a.jsx("div",{className:"text-sm text-gray-600",children:s.attendees.maybe.map(o=>o.name).join(", ")})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Location"}),a.jsx("div",{className:"bg-gray-200 rounded-lg h-48 flex items-center justify-center mb-4",children:a.jsx("p",{className:"text-gray-500",children:"Map View"})}),a.jsx("p",{className:"text-sm text-gray-600",children:s.address})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Chat About This Run"}),a.jsx("button",{className:"text-sm text-orange-600 hover:text-orange-700",children:"View All Messages"})]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"flex items-start space-x-2 p-3 bg-gray-50 rounded-lg",children:[a.jsx("img",{src:s.attendees.going[0].avatar,alt:s.attendees.going[0].name,className:"w-8 h-8 rounded-full object-cover"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s.attendees.going[0].name}),a.jsx("p",{className:"text-sm text-gray-700",children:"Can't wait for this one! See you all there "}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"2 hours ago"})]})]})})]})]}),a.jsx("div",{className:"h-20"})]})}function xS(){const e=X();return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-gray-600 hover:text-gray-800",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-8 h-8 rounded-full"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"GoFast"})]})})})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Run with Others & Stay Accountable"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Join a crew, track runs together, and crush your goals as a team"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"How It Works"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:""})}),a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Join a Crew"}),a.jsx("p",{className:"text-gray-600",children:"Start your own crew or join an existing one with friends"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:""})}),a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Connect Your App"}),a.jsx("p",{className:"text-gray-600",children:"Link Garmin, Strava, or other running apps to sync automatically"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:""})}),a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Compete Together"}),a.jsx("p",{className:"text-gray-600",children:"Track progress, earn points, and stay motivated as a team"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{onClick:()=>e("/form-run-crew"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-4 px-8 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-200",children:"Start Your Own Crew"}),a.jsx("button",{onClick:()=>e("/runcrew/join"),className:"w-full bg-white border-2 border-orange-200 hover:border-orange-400 text-gray-900 py-4 px-8 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-200",children:"Join an Existing Crew"})]})]})]})}const yS=()=>{const e=X(),t=JSON.parse(localStorage.getItem("currentCrew")||"{}"),n=t.joinCode||t.crewCode||"CODE123",r=()=>{navigator.clipboard.writeText(n),alert("Crew code copied to clipboard!")},s=()=>{e("/crew/crewadmin")},i=()=>`Hi! I created a run crew on GoFast. Go to runcrewjoin.gofastcrushgoals.com, click "Join a Crew", and use this code: ${n}`,o=()=>{const l=i();navigator.clipboard.writeText(l),alert("Share message copied to clipboard!")};return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("img",{src:"/logo.jpg",alt:"GoFast",className:"w-6 h-6 rounded-full"}),a.jsx("span",{className:"text-xl font-bold text-gray-900 ml-3",children:"GoFast"})]})})}),a.jsx("div",{className:"max-w-md mx-auto px-6 py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:a.jsx("span",{className:"text-6xl",children:""})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Crew Created!"}),a.jsx("p",{className:"text-gray-600",children:"Congratulations! Your running crew is ready to go."})]}),a.jsxs("div",{className:"bg-orange-50 rounded-xl p-6 mb-8",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Share Message"}),a.jsx("div",{className:"bg-white rounded-lg p-4 mb-4 border-2 border-orange-200",children:a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:i()})}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:o,className:"flex-1 bg-orange-500 text-white py-3 rounded-lg font-medium hover:bg-orange-600 transition-colors flex items-center justify-center space-x-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Copy Message"})]}),a.jsxs("button",{onClick:r,className:"flex-1 bg-white border-2 border-orange-200 text-orange-600 py-3 rounded-lg font-medium hover:border-orange-400 transition-colors flex items-center justify-center space-x-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Copy Code Only"})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"How Others Join"}),a.jsxs("div",{className:"space-y-3 text-left",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-orange-600 font-bold text-xs",children:"1"})}),a.jsx("p",{className:"text-sm text-gray-600",children:"Share the crew code with friends"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-orange-600 font-bold text-xs",children:"2"})}),a.jsxs("p",{className:"text-sm text-gray-600",children:["They go to ",a.jsx("strong",{children:"runcrewjoin.gofastcrushgoals.com"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-orange-600 font-bold text-xs",children:"3"})}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enter the code and join your crew!"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:s,className:"w-full bg-orange-500 text-white py-4 rounded-xl font-bold text-lg hover:bg-orange-600 transition-colors shadow-lg",children:"Go to Run Crew Central"}),a.jsx("button",{onClick:()=>e("/athlete-home"),className:"w-full bg-white border-2 border-orange-200 text-gray-900 py-3 rounded-xl font-medium hover:border-orange-400 transition-colors",children:"Go Back to Athlete Central"})]}),a.jsx("p",{className:"text-gray-500 text-sm mt-6",children:"Your crew is live and ready for members! "})]})})]})},vS=()=>{const e=X(),[t,n]=v.useState([]),[r,s]=v.useState(null),[i,o]=v.useState(!0);v.useEffect(()=>{(()=>{var p;o(!0);try{const g=B.getFullHydrationModel(),b=g.athlete||B.getAthleteProfile(),w=Array.isArray(g.weeklyActivities)?g.weeklyActivities:[],m=g.weeklyTotals||null;w.length>0?n(w):(p=b==null?void 0:b.weeklyActivities)!=null&&p.length?n(b.weeklyActivities):n([]),m?s(m):b!=null&&b.weeklyTotals?s(b.weeklyTotals):s(null)}catch(g){console.error(" MY ACTIVITIES: Error loading activities:",g)}finally{o(!1)}})()},[]);const l=h=>{if(!h)return"0:00";const p=Math.floor(h/3600),g=Math.floor(h%3600/60),b=h%60;return p>0?`${p}:${g.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`:`${g}:${b.toString().padStart(2,"0")}`},c=h=>h?`${(h/1609.34).toFixed(2)} mi`:"0.0 mi",u=(h,p)=>{if(!h||!p||p===0)return"--:--";const g=h/1609.34,b=Math.round(p/g),w=Math.floor(b/60),m=b%60;return`${w}:${m.toString().padStart(2,"0")}`},d=h=>{if(!h)return"Unknown date";const p=new Date(h),g=new Date,b=new Date(g);return b.setDate(b.getDate()-1),p.toDateString()===g.toDateString()?"Today":p.toDateString()===b.toDateString()?"Yesterday":p.toLocaleDateString("en-US",{month:"short",day:"numeric"})},f=h=>h?new Date(h).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"";return i?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading activities..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-gray-600 hover:text-gray-900",children:" Back"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Activities"})]}),a.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg font-medium hover:bg-gray-100 transition",children:"Home"})]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[r&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"This Week"}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:r.totalDistanceMiles||"0"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Miles"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:r.activityCount||0}),a.jsx("p",{className:"text-sm text-gray-600",children:"Activities"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:l(r.totalDuration)}),a.jsx("p",{className:"text-sm text-gray-600",children:"Time"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:r.totalCalories||0}),a.jsx("p",{className:"text-sm text-gray-600",children:"Calories"})]})]})]}),t.filter(h=>{if(!h.activityType)return!1;const p=h.activityType.toLowerCase();return p.includes("run")||p==="running"}).length===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Activities Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your Garmin device to start tracking activities!"}),a.jsx("button",{onClick:()=>e("/settings"),className:"bg-orange-500 text-white px-6 py-3 rounded-lg font-bold hover:bg-orange-600 transition",children:"Connect Garmin"})]}):a.jsx("div",{className:"space-y-4",children:t.filter(h=>{if(!h.activityType)return!1;const p=h.activityType.toLowerCase();return(p==="running"||p==="run")&&!p.includes("wheelchair")}).map((h,p)=>a.jsx("div",{onClick:()=>e(`/activity/${h.id}`),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all cursor-pointer border-l-4 border-orange-500",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:h.activityName&&!h.activityName.includes("Sample")?h.activityName:h.activityType?h.activityType.replace(/_/g," ").toLowerCase().replace(/\b\w/g,g=>g.toUpperCase()):"Activity"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:""}),a.jsx("span",{className:"text-sm text-gray-600",children:h.activityType?h.activityType.replace(/_/g," ").toLowerCase().replace(/\b\w/g,g=>g.toUpperCase()):"Run"}),a.jsx("span",{className:"text-xs text-gray-400",children:""}),a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:h.deviceName?`GARMIN ${h.deviceName}`:"GARMIN [NO DEVICE]"})]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[d(h.startTime)," at ",f(h.startTime)]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Distance"}),a.jsx("p",{className:"font-semibold text-gray-900",children:c(h.distance)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Pace"}),a.jsxs("p",{className:"font-semibold text-gray-900",children:[u(h.distance,h.duration),"/mi"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Duration"}),a.jsx("p",{className:"font-semibold text-gray-900",children:l(h.duration)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Calories"}),a.jsx("p",{className:"font-semibold text-gray-900",children:h.calories||"--"})]})]}),h.averageHeartRate&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Avg Heart Rate"}),a.jsxs("p",{className:"font-semibold text-gray-900",children:[h.averageHeartRate," bpm"]})]})]}),a.jsx("div",{className:"ml-4",children:a.jsx("button",{className:"text-orange-600 hover:text-orange-700 font-semibold",children:"View Details "})})]})},h.id||p))})]})]})},wS=()=>{var h;const e=X(),{id:t}=qc(),[n,r]=v.useState(null),[s,i]=v.useState(!0);v.useEffect(()=>{t?(()=>{var g;i(!0);try{const b=B.getFullHydrationModel(),w=b.athlete||B.getAthleteProfile();let m=Array.isArray(b.weeklyActivities)?b.weeklyActivities:[];m.length===0&&((g=w==null?void 0:w.weeklyActivities)!=null&&g.length)&&(m=w.weeklyActivities);const x=m.find(y=>y.id===t||y.sourceActivityId===t);x?r(x):console.error(" ACTIVITY DETAIL: Activity not found:",t)}catch(b){console.error(" ACTIVITY DETAIL: Error loading activity:",b)}finally{i(!1)}})():i(!1)},[t]);const o=p=>{if(!p)return"0:00";const g=Math.floor(p/3600),b=Math.floor(p%3600/60),w=p%60;return g>0?`${g}:${b.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`:`${b}:${w.toString().padStart(2,"0")}`},l=p=>p?`${(p/1609.34).toFixed(2)} mi`:"0.0 mi",c=(p,g)=>{if(!p||!g||g===0)return"--:--";const b=p/1609.34,w=Math.round(g/b),m=Math.floor(w/60),x=w%60;return`${m}:${x.toString().padStart(2,"0")}`},u=p=>p?new Date(p).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Unknown date",d=p=>p?new Date(p).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"";if(s)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading activity..."})]})});if(!n)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Activity Not Found"}),a.jsx("button",{onClick:()=>e("/my-activities"),className:"bg-orange-500 text-white px-6 py-3 rounded-lg font-bold hover:bg-orange-600 transition",children:"Back to Activities"})]})});const f=n.detailData&&Object.keys(n.detailData).length>0;return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/my-activities"),className:"text-gray-600 hover:text-gray-900",children:" Back"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Activity Details"})]}),a.jsx("button",{onClick:()=>e("/athlete-home"),className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg font-medium hover:bg-gray-100 transition",children:"Home"})]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"text-4xl",children:""}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:n.activityName&&!n.activityName.includes("Sample")?n.activityName:n.activityType?n.activityType.replace(/_/g," ").toLowerCase().replace(/\b\w/g,p=>p.toUpperCase()):"Activity"}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-sm text-gray-500",children:""}),a.jsx("span",{className:"text-base text-gray-600",children:n.activityType?n.activityType.replace(/_/g," ").toLowerCase().replace(/\b\w/g,p=>p.toUpperCase()):"Run"}),a.jsx("span",{className:"text-sm text-gray-400",children:""}),a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:n.deviceName?`GARMIN ${n.deviceName}`:"GARMIN [NO DEVICE]"})]}),a.jsxs("p",{className:"text-gray-600",children:[u(n.startTime)," at ",d(n.startTime)]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-6",children:[a.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:l(n.distance)}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Distance"})]}),a.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:o(n.duration)}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Duration"})]}),a.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[a.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[c(n.distance,n.duration),"/mi"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Pace"})]}),a.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:n.calories||"--"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Calories"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Additional Metrics"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.averageHeartRate&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Average Heart Rate"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[n.averageHeartRate," bpm"]})]}),n.maxHeartRate&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Max Heart Rate"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[n.maxHeartRate," bpm"]})]}),n.elevationGain&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Elevation Gain"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[n.elevationGain," ft"]})]}),n.averageSpeed&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Average Speed"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[(n.averageSpeed*2.237).toFixed(1)," mph"]})]}),n.maxSpeed&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Max Speed"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[(n.maxSpeed*2.237).toFixed(1)," mph"]})]}),n.averageCadence&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Average Cadence"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[n.averageCadence," spm"]})]})]})]}),f?a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Detailed Analysis"}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[a.jsx("p",{className:"text-green-800 font-semibold",children:" Enhanced Data Available"}),a.jsx("p",{className:"text-green-600 text-sm mt-1",children:"This activity includes detailed metrics like heart rate zones, training effect, and more!"})]}),n.detailData.trainingEffect&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Training Effect"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.detailData.trainingEffect.aerobic&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Aerobic"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n.detailData.trainingEffect.aerobic})]}),n.detailData.trainingEffect.anaerobic&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Anaerobic"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n.detailData.trainingEffect.anaerobic})]})]})]}),n.detailData.heartRateZones&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Heart Rate Zones"}),a.jsx("div",{className:"space-y-2",children:Object.entries(n.detailData.heartRateZones).map(([p,g])=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["Zone ",p]}),a.jsx("span",{className:"font-semibold text-gray-900",children:o(g)})]},p))})]}),n.detailData.lapSummaries&&n.detailData.lapSummaries.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Lap Summaries"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[n.detailData.lapSummaries.length," lap(s) recorded"]})]}),n.detailData.samples&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Sample Data"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[((h=n.detailData.samples)==null?void 0:h.length)||0," data points recorded"]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Detailed sample data available for advanced analysis"})]})]}):a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Detailed Analysis"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:a.jsx("p",{className:"text-gray-600",children:"Detailed metrics are being processed. Check back soon for enhanced data including heart rate zones, training effect, and more!"})})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>e("/my-activities"),className:"flex-1 bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition",children:"Back to Activities"}),a.jsx("button",{onClick:()=>e("/athlete-home"),className:"flex-1 bg-orange-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-orange-600 transition",children:"Go to Home"})]})]})]})},bS="https://gofastbackendv2-fall2025.onrender.com/api",NS=()=>{const[e,t]=v.useState(null),[n,r]=v.useState(!1),s=async()=>{try{r(!0),t(null);const i=localStorage.getItem("garmin_code_verifier");console.log(" Code Verifier in localStorage:",i);const o=await fetch(`${bS}/garmin/debug`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"check_tokens",codeVerifier:i})});if(o.ok){const l=await o.json();t(l),console.log(" Debug result:",l)}else{const l=await o.json();t({error:l.message||"Debug failed"}),console.error(" Debug failed:",l)}}catch(i){console.error(" Debug error:",i),t({error:i.message})}finally{r(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-2xl w-full",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:" Find My Garmin User ID"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{onClick:s,disabled:n,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:n?" Checking...":" Find My User ID"}),e&&a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Result:"}),a.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap overflow-auto",children:JSON.stringify(e,null,2)})]})]}),a.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[a.jsx("p",{children:a.jsx("strong",{children:"What this does:"})}),a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsx("li",{children:"Checks localStorage for code verifier"}),a.jsx("li",{children:"Calls backend debug endpoint"}),a.jsx("li",{children:"Shows any stored Garmin tokens"}),a.jsx("li",{children:"Attempts to fetch user profile"})]})]})]})})},jS=()=>a.jsxs(Pv,{children:[a.jsx(zv,{}),a.jsxs(cv,{children:[a.jsx(W,{path:"/",element:a.jsx(Aj,{})}),a.jsx(W,{path:"/athlete-welcome",element:a.jsx(oC,{})}),a.jsx(W,{path:"/athletesignin",element:a.jsx(lC,{})}),a.jsx(W,{path:"/athletesignup",element:a.jsx(cC,{})}),a.jsx(W,{path:"/athlete-create-profile",element:a.jsx(uC,{})}),a.jsx(W,{path:"/athlete-edit-profile",element:a.jsx(dC,{})}),a.jsx(W,{path:"/athlete-home",element:a.jsx(zC,{})}),a.jsx(W,{path:"/athlete-profile",element:a.jsx(VC,{})}),a.jsx(W,{path:"/settings",element:a.jsx(WC,{})}),a.jsx(W,{path:"/settings/events",element:a.jsx(YC,{})}),a.jsx(W,{path:"/volunteer-management",element:a.jsx(QC,{})}),a.jsx(W,{path:"/volunteer-management/vacant",element:a.jsx(XC,{})}),a.jsx(W,{path:"/my-activities",element:a.jsx(vS,{})}),a.jsx(W,{path:"/activity/:id",element:a.jsx(wS,{})}),a.jsx(W,{path:"/garmin/callback",element:a.jsx(ZC,{})}),a.jsx(W,{path:"/garmin/success",element:a.jsx(eS,{})}),a.jsx(W,{path:"/debug/userid",element:a.jsx(NS,{})}),a.jsx(W,{path:"/settings/devices",element:a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Device Settings - Coming Soon!"})})}),a.jsx(W,{path:"/crew-explainer",element:a.jsx(xS,{})}),a.jsx(W,{path:"/join/:code",element:a.jsx($o,{})}),a.jsx(W,{path:"/join",element:a.jsx($o,{})}),a.jsx(W,{path:"/runcrew/join",element:a.jsx($o,{})}),a.jsx(W,{path:"/runcrew/join-or-start",element:a.jsx(tS,{})}),a.jsx(W,{path:"/run-crew-join",element:a.jsx(nS,{})}),a.jsx(W,{path:"/joinruncrewwelcome",element:a.jsx(sS,{})}),a.jsx(W,{path:"/precrewpage",element:a.jsx(iS,{})}),a.jsx(W,{path:"/form-run-crew",element:a.jsx(oS,{})}),a.jsx(W,{path:"/run-crew-success",element:a.jsx(yS,{})}),a.jsx(W,{path:"/runcrew/central",element:a.jsx(ba,{})}),a.jsx(W,{path:"/runcrew/:id",element:a.jsx(ba,{})}),a.jsx(W,{path:"/crew/crewadmin",element:a.jsx(mS,{})}),a.jsx(W,{path:"/runcrew/admin/:id",element:a.jsx(Md,{to:"/crew/crewadmin",replace:!0})}),a.jsx(W,{path:"/runcrew-central/:id",element:a.jsx(ba,{})}),a.jsx(W,{path:"/runcrew-central-admin/:id",element:a.jsx(Md,{to:"/crew/crewadmin",replace:!0})}),a.jsx(W,{path:"/runcrew-settings",element:a.jsx(pS,{})}),a.jsx(W,{path:"/runcrew-run-detail/:runId?",element:a.jsx(gS,{})}),a.jsx(W,{path:"/runcrew-home",element:a.jsx(ba,{})}),a.jsx(W,{path:"/training/track",element:a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Track Runs - Coming Soon!"})})}),a.jsx(W,{path:"/training/analytics",element:a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Training Analytics - Coming Soon!"})})}),a.jsx(W,{path:"/connect/partners",element:a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Find Partners - Coming Soon!"})})}),a.jsx(W,{path:"/connect",element:a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Connect - Coming Soon!"})})}),a.jsx(W,{path:"/training-hub",element:a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Training Hub - Coming Soon!"})})}),a.jsx(W,{path:"/shop",element:a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Shop - Coming Soon!"})})}),a.jsx(W,{path:"/profile-setup",element:a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Profile Setup - Coming Soon!"})})})]})]});zo.createRoot(document.getElementById("root")).render(a.jsx(lx.StrictMode,{children:a.jsx(jS,{})}));
